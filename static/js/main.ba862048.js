/*! For license information please see main.ba862048.js.LICENSE.txt */
(()=>{var e={183(e){var t;"undefined"!==typeof self&&self,t=function(){return function(){"use strict";var e={d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return Xi}});class n{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let i,r,a="KaTeX parse error: "+e;const o=t&&t.loc;if(o&&o.start<=o.end){const e=o.lexer.input;i=o.start,r=o.end,i===e.length?a+=" at end of input: ":a+=" at position "+(i+1)+": ";const t=e.slice(i,r).replace(/[^]/g,"$&\u0332");let n,s;n=i>15?"\u2026"+e.slice(i-15,i):e.slice(0,i),s=r+15<e.length?e.slice(r,r+15)+"\u2026":e.slice(r),a+=n+t+s}const s=new Error(a);return s.name="ParseError",s.__proto__=n.prototype,s.position=i,null!=i&&null!=r&&(s.length=r-i),s.rawMessage=e,s}}n.prototype.__proto__=Error.prototype;var i=n;const r=/([A-Z])/g,a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g,s=function(e){return"ordgroup"===e.type||"color"===e.type?1===e.body.length?s(e.body[0]):e:"font"===e.type?s(e.body):e};var l={deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(o,e=>a[e])},hyphenate:function(e){return e.replace(r,"-$1").toLowerCase()},getBaseElem:s,isCharacterBox:function(e){const t=s(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){const t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"}};const c={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function u(e){if(e.default)return e.default;const t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!==typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class d{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(const t in c)if(c.hasOwnProperty(t)){const n=c[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:u(n)}}reportNonstrict(e,t,n){let r=this.strict;if("function"===typeof r&&(r=r(e,t,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new i("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===r?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,n){let i=this.strict;if("function"===typeof i)try{i=i(e,t,n)}catch(r){i="error"}return!(!i||"ignore"===i)&&(!0===i||"error"===i||("warn"===i?("undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]"),!1)))}isTrusted(e){if(e.url&&!e.protocol){const t=l.protocolFromUrl(e.url);if(null==t)return!1;e.protocol=t}const t="function"===typeof this.trust?this.trust(e):this.trust;return Boolean(t)}}class h{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return p[m[this.id]]}sub(){return p[f[this.id]]}fracNum(){return p[g[this.id]]}fracDen(){return p[y[this.id]]}cramp(){return p[v[this.id]]}text(){return p[b[this.id]]}isTight(){return this.size>=2}}const p=[new h(0,0,!1),new h(1,0,!0),new h(2,1,!1),new h(3,1,!0),new h(4,2,!1),new h(5,2,!0),new h(6,3,!1),new h(7,3,!0)],m=[4,5,4,5,6,7,6,7],f=[5,5,5,5,7,7,7,7],g=[2,3,4,5,6,7,6,7],y=[3,3,5,5,7,7,7,7],v=[1,1,3,3,5,5,7,7],b=[0,1,2,3,2,3,2,3];var x={DISPLAY:p[0],TEXT:p[2],SCRIPT:p[4],SCRIPTSCRIPT:p[6]};const _=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],w=[];function S(e){for(let t=0;t<w.length;t+=2)if(e>=w[t]&&e<=w[t+1])return!0;return!1}_.forEach(e=>e.blocks.forEach(e=>w.push(...e)));const M=80,A={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};var T={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const E={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},C={"\xc5":"A","\xd0":"D","\xde":"o","\xe5":"a","\xf0":"d","\xfe":"o","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"};function P(e,t,n){if(!T[t])throw new Error("Font metrics not found for font: "+t+".");let i=e.charCodeAt(0),r=T[t][i];if(!r&&e[0]in C&&(i=C[e[0]].charCodeAt(0),r=T[t][i]),r||"text"!==n||S(i)&&(r=T[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}const k={},R=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],N=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],D=function(e,t){return t.size<2?e:R[e-1][t.size-1]};class I{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||I.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=N[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){const t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new I(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:D(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:N[e-1]})}havingBaseStyle(e){e=e||this.style.text();const t=D(I.BASESIZE,e);return this.size===t&&this.textSize===I.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){let e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==I.BASESIZE?["sizing","reset-size"+this.size,"size"+I.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){let t;if(t=e>=5?0:e>=3?1:2,!k[t]){const e=k[t]={cssEmPerMu:E.quad[t]/18};for(const n in E)E.hasOwnProperty(n)&&(e[n]=E[n][t])}return k[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}I.BASESIZE=6;var L=I;const O={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},z={ex:!0,em:!0,mu:!0},F=function(e){return"string"!==typeof e&&(e=e.unit),e in O||e in z||"ex"===e},B=function(e,t){let n;if(e.unit in O)n=O[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{let r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=r.fontMetrics().xHeight;else{if("em"!==e.unit)throw new i("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},U=function(e){return+e.toFixed(4)+"em"},H=function(e){return e.filter(e=>e).join(" ")},V=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");const e=t.getColor();e&&(this.style.color=e)}},G=function(e){const t=document.createElement(e);t.className=H(this.classes);for(const n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(const n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(let n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},j=/[\s"'>/=\x00-\x1f]/,q=function(e){let t="<"+e;this.classes.length&&(t+=' class="'+l.escape(H(this.classes))+'"');let n="";for(const i in this.style)this.style.hasOwnProperty(i)&&(n+=l.hyphenate(i)+":"+this.style[i]+";");n&&(t+=' style="'+l.escape(n)+'"');for(const r in this.attributes)if(this.attributes.hasOwnProperty(r)){if(j.test(r))throw new i("Invalid attribute name '"+r+"'");t+=" "+r+'="'+l.escape(this.attributes[r])+'"'}t+=">";for(let i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+e+">",t};class W{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,V.call(this,e,n,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return G.call(this,"span")}toMarkup(){return q.call(this,"span")}}class X{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,V.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return G.call(this,"a")}toMarkup(){return q.call(this,"a")}}class K{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){const e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(const t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){let e='<img src="'+l.escape(this.src)+'" alt="'+l.escape(this.alt)+'"',t="";for(const n in this.style)this.style.hasOwnProperty(n)&&(t+=l.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+l.escape(t)+'"'),e+="'/>",e}}const Y={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"};class Q{constructor(e,t,n,i,r,a,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=r||0,this.width=a||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;const l=function(e){for(let t=0;t<_.length;t++){const n=_[t];for(let t=0;t<n.blocks.length;t++){const i=n.blocks[t];if(e>=i[0]&&e<=i[1])return n.name}}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=Y[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){const e=document.createTextNode(this.text);let t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=U(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=H(this.classes));for(const n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){let e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=l.escape(H(this.classes)),t+='"');let n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(const r in this.style)this.style.hasOwnProperty(r)&&(n+=l.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+l.escape(n)+'"');const i=l.escape(this.text);return e?(t+=">",t+=i,t+="</span>",t):i}}class Z{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(let t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){let e='<svg xmlns="http://www.w3.org/2000/svg"';for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+l.escape(this.attributes[t])+'"');e+=">";for(let t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e+="</svg>",e}}class J{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){const e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",A[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+l.escape(this.alternate)+'"/>':'<path d="'+l.escape(A[this.pathName])+'"/>'}}class ${constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){const e=document.createElementNS("http://www.w3.org/2000/svg","line");for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){let e="<line";for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+l.escape(this.attributes[t])+'"');return e+="/>",e}}function ee(e){if(e instanceof Q)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}const te={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ne={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ie={math:{},text:{}};var re=ie;function ae(e,t,n,i,r,a){ie[e][r]={font:t,group:n,replace:i},a&&i&&(ie[e][i]=ie[e][r])}const oe="math",se="text",le="main",ce="ams",ue="accent-token",de="bin",he="close",pe="inner",me="mathord",fe="op-token",ge="open",ye="punct",ve="rel",be="spacing",xe="textord";ae(oe,le,ve,"\u2261","\\equiv",!0),ae(oe,le,ve,"\u227a","\\prec",!0),ae(oe,le,ve,"\u227b","\\succ",!0),ae(oe,le,ve,"\u223c","\\sim",!0),ae(oe,le,ve,"\u22a5","\\perp"),ae(oe,le,ve,"\u2aaf","\\preceq",!0),ae(oe,le,ve,"\u2ab0","\\succeq",!0),ae(oe,le,ve,"\u2243","\\simeq",!0),ae(oe,le,ve,"\u2223","\\mid",!0),ae(oe,le,ve,"\u226a","\\ll",!0),ae(oe,le,ve,"\u226b","\\gg",!0),ae(oe,le,ve,"\u224d","\\asymp",!0),ae(oe,le,ve,"\u2225","\\parallel"),ae(oe,le,ve,"\u22c8","\\bowtie",!0),ae(oe,le,ve,"\u2323","\\smile",!0),ae(oe,le,ve,"\u2291","\\sqsubseteq",!0),ae(oe,le,ve,"\u2292","\\sqsupseteq",!0),ae(oe,le,ve,"\u2250","\\doteq",!0),ae(oe,le,ve,"\u2322","\\frown",!0),ae(oe,le,ve,"\u220b","\\ni",!0),ae(oe,le,ve,"\u221d","\\propto",!0),ae(oe,le,ve,"\u22a2","\\vdash",!0),ae(oe,le,ve,"\u22a3","\\dashv",!0),ae(oe,le,ve,"\u220b","\\owns"),ae(oe,le,ye,".","\\ldotp"),ae(oe,le,ye,"\u22c5","\\cdotp"),ae(oe,le,xe,"#","\\#"),ae(se,le,xe,"#","\\#"),ae(oe,le,xe,"&","\\&"),ae(se,le,xe,"&","\\&"),ae(oe,le,xe,"\u2135","\\aleph",!0),ae(oe,le,xe,"\u2200","\\forall",!0),ae(oe,le,xe,"\u210f","\\hbar",!0),ae(oe,le,xe,"\u2203","\\exists",!0),ae(oe,le,xe,"\u2207","\\nabla",!0),ae(oe,le,xe,"\u266d","\\flat",!0),ae(oe,le,xe,"\u2113","\\ell",!0),ae(oe,le,xe,"\u266e","\\natural",!0),ae(oe,le,xe,"\u2663","\\clubsuit",!0),ae(oe,le,xe,"\u2118","\\wp",!0),ae(oe,le,xe,"\u266f","\\sharp",!0),ae(oe,le,xe,"\u2662","\\diamondsuit",!0),ae(oe,le,xe,"\u211c","\\Re",!0),ae(oe,le,xe,"\u2661","\\heartsuit",!0),ae(oe,le,xe,"\u2111","\\Im",!0),ae(oe,le,xe,"\u2660","\\spadesuit",!0),ae(oe,le,xe,"\xa7","\\S",!0),ae(se,le,xe,"\xa7","\\S"),ae(oe,le,xe,"\xb6","\\P",!0),ae(se,le,xe,"\xb6","\\P"),ae(oe,le,xe,"\u2020","\\dag"),ae(se,le,xe,"\u2020","\\dag"),ae(se,le,xe,"\u2020","\\textdagger"),ae(oe,le,xe,"\u2021","\\ddag"),ae(se,le,xe,"\u2021","\\ddag"),ae(se,le,xe,"\u2021","\\textdaggerdbl"),ae(oe,le,he,"\u23b1","\\rmoustache",!0),ae(oe,le,ge,"\u23b0","\\lmoustache",!0),ae(oe,le,he,"\u27ef","\\rgroup",!0),ae(oe,le,ge,"\u27ee","\\lgroup",!0),ae(oe,le,de,"\u2213","\\mp",!0),ae(oe,le,de,"\u2296","\\ominus",!0),ae(oe,le,de,"\u228e","\\uplus",!0),ae(oe,le,de,"\u2293","\\sqcap",!0),ae(oe,le,de,"\u2217","\\ast"),ae(oe,le,de,"\u2294","\\sqcup",!0),ae(oe,le,de,"\u25ef","\\bigcirc",!0),ae(oe,le,de,"\u2219","\\bullet",!0),ae(oe,le,de,"\u2021","\\ddagger"),ae(oe,le,de,"\u2240","\\wr",!0),ae(oe,le,de,"\u2a3f","\\amalg"),ae(oe,le,de,"&","\\And"),ae(oe,le,ve,"\u27f5","\\longleftarrow",!0),ae(oe,le,ve,"\u21d0","\\Leftarrow",!0),ae(oe,le,ve,"\u27f8","\\Longleftarrow",!0),ae(oe,le,ve,"\u27f6","\\longrightarrow",!0),ae(oe,le,ve,"\u21d2","\\Rightarrow",!0),ae(oe,le,ve,"\u27f9","\\Longrightarrow",!0),ae(oe,le,ve,"\u2194","\\leftrightarrow",!0),ae(oe,le,ve,"\u27f7","\\longleftrightarrow",!0),ae(oe,le,ve,"\u21d4","\\Leftrightarrow",!0),ae(oe,le,ve,"\u27fa","\\Longleftrightarrow",!0),ae(oe,le,ve,"\u21a6","\\mapsto",!0),ae(oe,le,ve,"\u27fc","\\longmapsto",!0),ae(oe,le,ve,"\u2197","\\nearrow",!0),ae(oe,le,ve,"\u21a9","\\hookleftarrow",!0),ae(oe,le,ve,"\u21aa","\\hookrightarrow",!0),ae(oe,le,ve,"\u2198","\\searrow",!0),ae(oe,le,ve,"\u21bc","\\leftharpoonup",!0),ae(oe,le,ve,"\u21c0","\\rightharpoonup",!0),ae(oe,le,ve,"\u2199","\\swarrow",!0),ae(oe,le,ve,"\u21bd","\\leftharpoondown",!0),ae(oe,le,ve,"\u21c1","\\rightharpoondown",!0),ae(oe,le,ve,"\u2196","\\nwarrow",!0),ae(oe,le,ve,"\u21cc","\\rightleftharpoons",!0),ae(oe,ce,ve,"\u226e","\\nless",!0),ae(oe,ce,ve,"\ue010","\\@nleqslant"),ae(oe,ce,ve,"\ue011","\\@nleqq"),ae(oe,ce,ve,"\u2a87","\\lneq",!0),ae(oe,ce,ve,"\u2268","\\lneqq",!0),ae(oe,ce,ve,"\ue00c","\\@lvertneqq"),ae(oe,ce,ve,"\u22e6","\\lnsim",!0),ae(oe,ce,ve,"\u2a89","\\lnapprox",!0),ae(oe,ce,ve,"\u2280","\\nprec",!0),ae(oe,ce,ve,"\u22e0","\\npreceq",!0),ae(oe,ce,ve,"\u22e8","\\precnsim",!0),ae(oe,ce,ve,"\u2ab9","\\precnapprox",!0),ae(oe,ce,ve,"\u2241","\\nsim",!0),ae(oe,ce,ve,"\ue006","\\@nshortmid"),ae(oe,ce,ve,"\u2224","\\nmid",!0),ae(oe,ce,ve,"\u22ac","\\nvdash",!0),ae(oe,ce,ve,"\u22ad","\\nvDash",!0),ae(oe,ce,ve,"\u22ea","\\ntriangleleft"),ae(oe,ce,ve,"\u22ec","\\ntrianglelefteq",!0),ae(oe,ce,ve,"\u228a","\\subsetneq",!0),ae(oe,ce,ve,"\ue01a","\\@varsubsetneq"),ae(oe,ce,ve,"\u2acb","\\subsetneqq",!0),ae(oe,ce,ve,"\ue017","\\@varsubsetneqq"),ae(oe,ce,ve,"\u226f","\\ngtr",!0),ae(oe,ce,ve,"\ue00f","\\@ngeqslant"),ae(oe,ce,ve,"\ue00e","\\@ngeqq"),ae(oe,ce,ve,"\u2a88","\\gneq",!0),ae(oe,ce,ve,"\u2269","\\gneqq",!0),ae(oe,ce,ve,"\ue00d","\\@gvertneqq"),ae(oe,ce,ve,"\u22e7","\\gnsim",!0),ae(oe,ce,ve,"\u2a8a","\\gnapprox",!0),ae(oe,ce,ve,"\u2281","\\nsucc",!0),ae(oe,ce,ve,"\u22e1","\\nsucceq",!0),ae(oe,ce,ve,"\u22e9","\\succnsim",!0),ae(oe,ce,ve,"\u2aba","\\succnapprox",!0),ae(oe,ce,ve,"\u2246","\\ncong",!0),ae(oe,ce,ve,"\ue007","\\@nshortparallel"),ae(oe,ce,ve,"\u2226","\\nparallel",!0),ae(oe,ce,ve,"\u22af","\\nVDash",!0),ae(oe,ce,ve,"\u22eb","\\ntriangleright"),ae(oe,ce,ve,"\u22ed","\\ntrianglerighteq",!0),ae(oe,ce,ve,"\ue018","\\@nsupseteqq"),ae(oe,ce,ve,"\u228b","\\supsetneq",!0),ae(oe,ce,ve,"\ue01b","\\@varsupsetneq"),ae(oe,ce,ve,"\u2acc","\\supsetneqq",!0),ae(oe,ce,ve,"\ue019","\\@varsupsetneqq"),ae(oe,ce,ve,"\u22ae","\\nVdash",!0),ae(oe,ce,ve,"\u2ab5","\\precneqq",!0),ae(oe,ce,ve,"\u2ab6","\\succneqq",!0),ae(oe,ce,ve,"\ue016","\\@nsubseteqq"),ae(oe,ce,de,"\u22b4","\\unlhd"),ae(oe,ce,de,"\u22b5","\\unrhd"),ae(oe,ce,ve,"\u219a","\\nleftarrow",!0),ae(oe,ce,ve,"\u219b","\\nrightarrow",!0),ae(oe,ce,ve,"\u21cd","\\nLeftarrow",!0),ae(oe,ce,ve,"\u21cf","\\nRightarrow",!0),ae(oe,ce,ve,"\u21ae","\\nleftrightarrow",!0),ae(oe,ce,ve,"\u21ce","\\nLeftrightarrow",!0),ae(oe,ce,ve,"\u25b3","\\vartriangle"),ae(oe,ce,xe,"\u210f","\\hslash"),ae(oe,ce,xe,"\u25bd","\\triangledown"),ae(oe,ce,xe,"\u25ca","\\lozenge"),ae(oe,ce,xe,"\u24c8","\\circledS"),ae(oe,ce,xe,"\xae","\\circledR"),ae(se,ce,xe,"\xae","\\circledR"),ae(oe,ce,xe,"\u2221","\\measuredangle",!0),ae(oe,ce,xe,"\u2204","\\nexists"),ae(oe,ce,xe,"\u2127","\\mho"),ae(oe,ce,xe,"\u2132","\\Finv",!0),ae(oe,ce,xe,"\u2141","\\Game",!0),ae(oe,ce,xe,"\u2035","\\backprime"),ae(oe,ce,xe,"\u25b2","\\blacktriangle"),ae(oe,ce,xe,"\u25bc","\\blacktriangledown"),ae(oe,ce,xe,"\u25a0","\\blacksquare"),ae(oe,ce,xe,"\u29eb","\\blacklozenge"),ae(oe,ce,xe,"\u2605","\\bigstar"),ae(oe,ce,xe,"\u2222","\\sphericalangle",!0),ae(oe,ce,xe,"\u2201","\\complement",!0),ae(oe,ce,xe,"\xf0","\\eth",!0),ae(se,le,xe,"\xf0","\xf0"),ae(oe,ce,xe,"\u2571","\\diagup"),ae(oe,ce,xe,"\u2572","\\diagdown"),ae(oe,ce,xe,"\u25a1","\\square"),ae(oe,ce,xe,"\u25a1","\\Box"),ae(oe,ce,xe,"\u25ca","\\Diamond"),ae(oe,ce,xe,"\xa5","\\yen",!0),ae(se,ce,xe,"\xa5","\\yen",!0),ae(oe,ce,xe,"\u2713","\\checkmark",!0),ae(se,ce,xe,"\u2713","\\checkmark"),ae(oe,ce,xe,"\u2136","\\beth",!0),ae(oe,ce,xe,"\u2138","\\daleth",!0),ae(oe,ce,xe,"\u2137","\\gimel",!0),ae(oe,ce,xe,"\u03dd","\\digamma",!0),ae(oe,ce,xe,"\u03f0","\\varkappa"),ae(oe,ce,ge,"\u250c","\\@ulcorner",!0),ae(oe,ce,he,"\u2510","\\@urcorner",!0),ae(oe,ce,ge,"\u2514","\\@llcorner",!0),ae(oe,ce,he,"\u2518","\\@lrcorner",!0),ae(oe,ce,ve,"\u2266","\\leqq",!0),ae(oe,ce,ve,"\u2a7d","\\leqslant",!0),ae(oe,ce,ve,"\u2a95","\\eqslantless",!0),ae(oe,ce,ve,"\u2272","\\lesssim",!0),ae(oe,ce,ve,"\u2a85","\\lessapprox",!0),ae(oe,ce,ve,"\u224a","\\approxeq",!0),ae(oe,ce,de,"\u22d6","\\lessdot"),ae(oe,ce,ve,"\u22d8","\\lll",!0),ae(oe,ce,ve,"\u2276","\\lessgtr",!0),ae(oe,ce,ve,"\u22da","\\lesseqgtr",!0),ae(oe,ce,ve,"\u2a8b","\\lesseqqgtr",!0),ae(oe,ce,ve,"\u2251","\\doteqdot"),ae(oe,ce,ve,"\u2253","\\risingdotseq",!0),ae(oe,ce,ve,"\u2252","\\fallingdotseq",!0),ae(oe,ce,ve,"\u223d","\\backsim",!0),ae(oe,ce,ve,"\u22cd","\\backsimeq",!0),ae(oe,ce,ve,"\u2ac5","\\subseteqq",!0),ae(oe,ce,ve,"\u22d0","\\Subset",!0),ae(oe,ce,ve,"\u228f","\\sqsubset",!0),ae(oe,ce,ve,"\u227c","\\preccurlyeq",!0),ae(oe,ce,ve,"\u22de","\\curlyeqprec",!0),ae(oe,ce,ve,"\u227e","\\precsim",!0),ae(oe,ce,ve,"\u2ab7","\\precapprox",!0),ae(oe,ce,ve,"\u22b2","\\vartriangleleft"),ae(oe,ce,ve,"\u22b4","\\trianglelefteq"),ae(oe,ce,ve,"\u22a8","\\vDash",!0),ae(oe,ce,ve,"\u22aa","\\Vvdash",!0),ae(oe,ce,ve,"\u2323","\\smallsmile"),ae(oe,ce,ve,"\u2322","\\smallfrown"),ae(oe,ce,ve,"\u224f","\\bumpeq",!0),ae(oe,ce,ve,"\u224e","\\Bumpeq",!0),ae(oe,ce,ve,"\u2267","\\geqq",!0),ae(oe,ce,ve,"\u2a7e","\\geqslant",!0),ae(oe,ce,ve,"\u2a96","\\eqslantgtr",!0),ae(oe,ce,ve,"\u2273","\\gtrsim",!0),ae(oe,ce,ve,"\u2a86","\\gtrapprox",!0),ae(oe,ce,de,"\u22d7","\\gtrdot"),ae(oe,ce,ve,"\u22d9","\\ggg",!0),ae(oe,ce,ve,"\u2277","\\gtrless",!0),ae(oe,ce,ve,"\u22db","\\gtreqless",!0),ae(oe,ce,ve,"\u2a8c","\\gtreqqless",!0),ae(oe,ce,ve,"\u2256","\\eqcirc",!0),ae(oe,ce,ve,"\u2257","\\circeq",!0),ae(oe,ce,ve,"\u225c","\\triangleq",!0),ae(oe,ce,ve,"\u223c","\\thicksim"),ae(oe,ce,ve,"\u2248","\\thickapprox"),ae(oe,ce,ve,"\u2ac6","\\supseteqq",!0),ae(oe,ce,ve,"\u22d1","\\Supset",!0),ae(oe,ce,ve,"\u2290","\\sqsupset",!0),ae(oe,ce,ve,"\u227d","\\succcurlyeq",!0),ae(oe,ce,ve,"\u22df","\\curlyeqsucc",!0),ae(oe,ce,ve,"\u227f","\\succsim",!0),ae(oe,ce,ve,"\u2ab8","\\succapprox",!0),ae(oe,ce,ve,"\u22b3","\\vartriangleright"),ae(oe,ce,ve,"\u22b5","\\trianglerighteq"),ae(oe,ce,ve,"\u22a9","\\Vdash",!0),ae(oe,ce,ve,"\u2223","\\shortmid"),ae(oe,ce,ve,"\u2225","\\shortparallel"),ae(oe,ce,ve,"\u226c","\\between",!0),ae(oe,ce,ve,"\u22d4","\\pitchfork",!0),ae(oe,ce,ve,"\u221d","\\varpropto"),ae(oe,ce,ve,"\u25c0","\\blacktriangleleft"),ae(oe,ce,ve,"\u2234","\\therefore",!0),ae(oe,ce,ve,"\u220d","\\backepsilon"),ae(oe,ce,ve,"\u25b6","\\blacktriangleright"),ae(oe,ce,ve,"\u2235","\\because",!0),ae(oe,ce,ve,"\u22d8","\\llless"),ae(oe,ce,ve,"\u22d9","\\gggtr"),ae(oe,ce,de,"\u22b2","\\lhd"),ae(oe,ce,de,"\u22b3","\\rhd"),ae(oe,ce,ve,"\u2242","\\eqsim",!0),ae(oe,le,ve,"\u22c8","\\Join"),ae(oe,ce,ve,"\u2251","\\Doteq",!0),ae(oe,ce,de,"\u2214","\\dotplus",!0),ae(oe,ce,de,"\u2216","\\smallsetminus"),ae(oe,ce,de,"\u22d2","\\Cap",!0),ae(oe,ce,de,"\u22d3","\\Cup",!0),ae(oe,ce,de,"\u2a5e","\\doublebarwedge",!0),ae(oe,ce,de,"\u229f","\\boxminus",!0),ae(oe,ce,de,"\u229e","\\boxplus",!0),ae(oe,ce,de,"\u22c7","\\divideontimes",!0),ae(oe,ce,de,"\u22c9","\\ltimes",!0),ae(oe,ce,de,"\u22ca","\\rtimes",!0),ae(oe,ce,de,"\u22cb","\\leftthreetimes",!0),ae(oe,ce,de,"\u22cc","\\rightthreetimes",!0),ae(oe,ce,de,"\u22cf","\\curlywedge",!0),ae(oe,ce,de,"\u22ce","\\curlyvee",!0),ae(oe,ce,de,"\u229d","\\circleddash",!0),ae(oe,ce,de,"\u229b","\\circledast",!0),ae(oe,ce,de,"\u22c5","\\centerdot"),ae(oe,ce,de,"\u22ba","\\intercal",!0),ae(oe,ce,de,"\u22d2","\\doublecap"),ae(oe,ce,de,"\u22d3","\\doublecup"),ae(oe,ce,de,"\u22a0","\\boxtimes",!0),ae(oe,ce,ve,"\u21e2","\\dashrightarrow",!0),ae(oe,ce,ve,"\u21e0","\\dashleftarrow",!0),ae(oe,ce,ve,"\u21c7","\\leftleftarrows",!0),ae(oe,ce,ve,"\u21c6","\\leftrightarrows",!0),ae(oe,ce,ve,"\u21da","\\Lleftarrow",!0),ae(oe,ce,ve,"\u219e","\\twoheadleftarrow",!0),ae(oe,ce,ve,"\u21a2","\\leftarrowtail",!0),ae(oe,ce,ve,"\u21ab","\\looparrowleft",!0),ae(oe,ce,ve,"\u21cb","\\leftrightharpoons",!0),ae(oe,ce,ve,"\u21b6","\\curvearrowleft",!0),ae(oe,ce,ve,"\u21ba","\\circlearrowleft",!0),ae(oe,ce,ve,"\u21b0","\\Lsh",!0),ae(oe,ce,ve,"\u21c8","\\upuparrows",!0),ae(oe,ce,ve,"\u21bf","\\upharpoonleft",!0),ae(oe,ce,ve,"\u21c3","\\downharpoonleft",!0),ae(oe,le,ve,"\u22b6","\\origof",!0),ae(oe,le,ve,"\u22b7","\\imageof",!0),ae(oe,ce,ve,"\u22b8","\\multimap",!0),ae(oe,ce,ve,"\u21ad","\\leftrightsquigarrow",!0),ae(oe,ce,ve,"\u21c9","\\rightrightarrows",!0),ae(oe,ce,ve,"\u21c4","\\rightleftarrows",!0),ae(oe,ce,ve,"\u21a0","\\twoheadrightarrow",!0),ae(oe,ce,ve,"\u21a3","\\rightarrowtail",!0),ae(oe,ce,ve,"\u21ac","\\looparrowright",!0),ae(oe,ce,ve,"\u21b7","\\curvearrowright",!0),ae(oe,ce,ve,"\u21bb","\\circlearrowright",!0),ae(oe,ce,ve,"\u21b1","\\Rsh",!0),ae(oe,ce,ve,"\u21ca","\\downdownarrows",!0),ae(oe,ce,ve,"\u21be","\\upharpoonright",!0),ae(oe,ce,ve,"\u21c2","\\downharpoonright",!0),ae(oe,ce,ve,"\u21dd","\\rightsquigarrow",!0),ae(oe,ce,ve,"\u21dd","\\leadsto"),ae(oe,ce,ve,"\u21db","\\Rrightarrow",!0),ae(oe,ce,ve,"\u21be","\\restriction"),ae(oe,le,xe,"\u2018","`"),ae(oe,le,xe,"$","\\$"),ae(se,le,xe,"$","\\$"),ae(se,le,xe,"$","\\textdollar"),ae(oe,le,xe,"%","\\%"),ae(se,le,xe,"%","\\%"),ae(oe,le,xe,"_","\\_"),ae(se,le,xe,"_","\\_"),ae(se,le,xe,"_","\\textunderscore"),ae(oe,le,xe,"\u2220","\\angle",!0),ae(oe,le,xe,"\u221e","\\infty",!0),ae(oe,le,xe,"\u2032","\\prime"),ae(oe,le,xe,"\u25b3","\\triangle"),ae(oe,le,xe,"\u0393","\\Gamma",!0),ae(oe,le,xe,"\u0394","\\Delta",!0),ae(oe,le,xe,"\u0398","\\Theta",!0),ae(oe,le,xe,"\u039b","\\Lambda",!0),ae(oe,le,xe,"\u039e","\\Xi",!0),ae(oe,le,xe,"\u03a0","\\Pi",!0),ae(oe,le,xe,"\u03a3","\\Sigma",!0),ae(oe,le,xe,"\u03a5","\\Upsilon",!0),ae(oe,le,xe,"\u03a6","\\Phi",!0),ae(oe,le,xe,"\u03a8","\\Psi",!0),ae(oe,le,xe,"\u03a9","\\Omega",!0),ae(oe,le,xe,"A","\u0391"),ae(oe,le,xe,"B","\u0392"),ae(oe,le,xe,"E","\u0395"),ae(oe,le,xe,"Z","\u0396"),ae(oe,le,xe,"H","\u0397"),ae(oe,le,xe,"I","\u0399"),ae(oe,le,xe,"K","\u039a"),ae(oe,le,xe,"M","\u039c"),ae(oe,le,xe,"N","\u039d"),ae(oe,le,xe,"O","\u039f"),ae(oe,le,xe,"P","\u03a1"),ae(oe,le,xe,"T","\u03a4"),ae(oe,le,xe,"X","\u03a7"),ae(oe,le,xe,"\xac","\\neg",!0),ae(oe,le,xe,"\xac","\\lnot"),ae(oe,le,xe,"\u22a4","\\top"),ae(oe,le,xe,"\u22a5","\\bot"),ae(oe,le,xe,"\u2205","\\emptyset"),ae(oe,ce,xe,"\u2205","\\varnothing"),ae(oe,le,me,"\u03b1","\\alpha",!0),ae(oe,le,me,"\u03b2","\\beta",!0),ae(oe,le,me,"\u03b3","\\gamma",!0),ae(oe,le,me,"\u03b4","\\delta",!0),ae(oe,le,me,"\u03f5","\\epsilon",!0),ae(oe,le,me,"\u03b6","\\zeta",!0),ae(oe,le,me,"\u03b7","\\eta",!0),ae(oe,le,me,"\u03b8","\\theta",!0),ae(oe,le,me,"\u03b9","\\iota",!0),ae(oe,le,me,"\u03ba","\\kappa",!0),ae(oe,le,me,"\u03bb","\\lambda",!0),ae(oe,le,me,"\u03bc","\\mu",!0),ae(oe,le,me,"\u03bd","\\nu",!0),ae(oe,le,me,"\u03be","\\xi",!0),ae(oe,le,me,"\u03bf","\\omicron",!0),ae(oe,le,me,"\u03c0","\\pi",!0),ae(oe,le,me,"\u03c1","\\rho",!0),ae(oe,le,me,"\u03c3","\\sigma",!0),ae(oe,le,me,"\u03c4","\\tau",!0),ae(oe,le,me,"\u03c5","\\upsilon",!0),ae(oe,le,me,"\u03d5","\\phi",!0),ae(oe,le,me,"\u03c7","\\chi",!0),ae(oe,le,me,"\u03c8","\\psi",!0),ae(oe,le,me,"\u03c9","\\omega",!0),ae(oe,le,me,"\u03b5","\\varepsilon",!0),ae(oe,le,me,"\u03d1","\\vartheta",!0),ae(oe,le,me,"\u03d6","\\varpi",!0),ae(oe,le,me,"\u03f1","\\varrho",!0),ae(oe,le,me,"\u03c2","\\varsigma",!0),ae(oe,le,me,"\u03c6","\\varphi",!0),ae(oe,le,de,"\u2217","*",!0),ae(oe,le,de,"+","+"),ae(oe,le,de,"\u2212","-",!0),ae(oe,le,de,"\u22c5","\\cdot",!0),ae(oe,le,de,"\u2218","\\circ",!0),ae(oe,le,de,"\xf7","\\div",!0),ae(oe,le,de,"\xb1","\\pm",!0),ae(oe,le,de,"\xd7","\\times",!0),ae(oe,le,de,"\u2229","\\cap",!0),ae(oe,le,de,"\u222a","\\cup",!0),ae(oe,le,de,"\u2216","\\setminus",!0),ae(oe,le,de,"\u2227","\\land"),ae(oe,le,de,"\u2228","\\lor"),ae(oe,le,de,"\u2227","\\wedge",!0),ae(oe,le,de,"\u2228","\\vee",!0),ae(oe,le,xe,"\u221a","\\surd"),ae(oe,le,ge,"\u27e8","\\langle",!0),ae(oe,le,ge,"\u2223","\\lvert"),ae(oe,le,ge,"\u2225","\\lVert"),ae(oe,le,he,"?","?"),ae(oe,le,he,"!","!"),ae(oe,le,he,"\u27e9","\\rangle",!0),ae(oe,le,he,"\u2223","\\rvert"),ae(oe,le,he,"\u2225","\\rVert"),ae(oe,le,ve,"=","="),ae(oe,le,ve,":",":"),ae(oe,le,ve,"\u2248","\\approx",!0),ae(oe,le,ve,"\u2245","\\cong",!0),ae(oe,le,ve,"\u2265","\\ge"),ae(oe,le,ve,"\u2265","\\geq",!0),ae(oe,le,ve,"\u2190","\\gets"),ae(oe,le,ve,">","\\gt",!0),ae(oe,le,ve,"\u2208","\\in",!0),ae(oe,le,ve,"\ue020","\\@not"),ae(oe,le,ve,"\u2282","\\subset",!0),ae(oe,le,ve,"\u2283","\\supset",!0),ae(oe,le,ve,"\u2286","\\subseteq",!0),ae(oe,le,ve,"\u2287","\\supseteq",!0),ae(oe,ce,ve,"\u2288","\\nsubseteq",!0),ae(oe,ce,ve,"\u2289","\\nsupseteq",!0),ae(oe,le,ve,"\u22a8","\\models"),ae(oe,le,ve,"\u2190","\\leftarrow",!0),ae(oe,le,ve,"\u2264","\\le"),ae(oe,le,ve,"\u2264","\\leq",!0),ae(oe,le,ve,"<","\\lt",!0),ae(oe,le,ve,"\u2192","\\rightarrow",!0),ae(oe,le,ve,"\u2192","\\to"),ae(oe,ce,ve,"\u2271","\\ngeq",!0),ae(oe,ce,ve,"\u2270","\\nleq",!0),ae(oe,le,be,"\xa0","\\ "),ae(oe,le,be,"\xa0","\\space"),ae(oe,le,be,"\xa0","\\nobreakspace"),ae(se,le,be,"\xa0","\\ "),ae(se,le,be,"\xa0"," "),ae(se,le,be,"\xa0","\\space"),ae(se,le,be,"\xa0","\\nobreakspace"),ae(oe,le,be,null,"\\nobreak"),ae(oe,le,be,null,"\\allowbreak"),ae(oe,le,ye,",",","),ae(oe,le,ye,";",";"),ae(oe,ce,de,"\u22bc","\\barwedge",!0),ae(oe,ce,de,"\u22bb","\\veebar",!0),ae(oe,le,de,"\u2299","\\odot",!0),ae(oe,le,de,"\u2295","\\oplus",!0),ae(oe,le,de,"\u2297","\\otimes",!0),ae(oe,le,xe,"\u2202","\\partial",!0),ae(oe,le,de,"\u2298","\\oslash",!0),ae(oe,ce,de,"\u229a","\\circledcirc",!0),ae(oe,ce,de,"\u22a1","\\boxdot",!0),ae(oe,le,de,"\u25b3","\\bigtriangleup"),ae(oe,le,de,"\u25bd","\\bigtriangledown"),ae(oe,le,de,"\u2020","\\dagger"),ae(oe,le,de,"\u22c4","\\diamond"),ae(oe,le,de,"\u22c6","\\star"),ae(oe,le,de,"\u25c3","\\triangleleft"),ae(oe,le,de,"\u25b9","\\triangleright"),ae(oe,le,ge,"{","\\{"),ae(se,le,xe,"{","\\{"),ae(se,le,xe,"{","\\textbraceleft"),ae(oe,le,he,"}","\\}"),ae(se,le,xe,"}","\\}"),ae(se,le,xe,"}","\\textbraceright"),ae(oe,le,ge,"{","\\lbrace"),ae(oe,le,he,"}","\\rbrace"),ae(oe,le,ge,"[","\\lbrack",!0),ae(se,le,xe,"[","\\lbrack",!0),ae(oe,le,he,"]","\\rbrack",!0),ae(se,le,xe,"]","\\rbrack",!0),ae(oe,le,ge,"(","\\lparen",!0),ae(oe,le,he,")","\\rparen",!0),ae(se,le,xe,"<","\\textless",!0),ae(se,le,xe,">","\\textgreater",!0),ae(oe,le,ge,"\u230a","\\lfloor",!0),ae(oe,le,he,"\u230b","\\rfloor",!0),ae(oe,le,ge,"\u2308","\\lceil",!0),ae(oe,le,he,"\u2309","\\rceil",!0),ae(oe,le,xe,"\\","\\backslash"),ae(oe,le,xe,"\u2223","|"),ae(oe,le,xe,"\u2223","\\vert"),ae(se,le,xe,"|","\\textbar",!0),ae(oe,le,xe,"\u2225","\\|"),ae(oe,le,xe,"\u2225","\\Vert"),ae(se,le,xe,"\u2225","\\textbardbl"),ae(se,le,xe,"~","\\textasciitilde"),ae(se,le,xe,"\\","\\textbackslash"),ae(se,le,xe,"^","\\textasciicircum"),ae(oe,le,ve,"\u2191","\\uparrow",!0),ae(oe,le,ve,"\u21d1","\\Uparrow",!0),ae(oe,le,ve,"\u2193","\\downarrow",!0),ae(oe,le,ve,"\u21d3","\\Downarrow",!0),ae(oe,le,ve,"\u2195","\\updownarrow",!0),ae(oe,le,ve,"\u21d5","\\Updownarrow",!0),ae(oe,le,fe,"\u2210","\\coprod"),ae(oe,le,fe,"\u22c1","\\bigvee"),ae(oe,le,fe,"\u22c0","\\bigwedge"),ae(oe,le,fe,"\u2a04","\\biguplus"),ae(oe,le,fe,"\u22c2","\\bigcap"),ae(oe,le,fe,"\u22c3","\\bigcup"),ae(oe,le,fe,"\u222b","\\int"),ae(oe,le,fe,"\u222b","\\intop"),ae(oe,le,fe,"\u222c","\\iint"),ae(oe,le,fe,"\u222d","\\iiint"),ae(oe,le,fe,"\u220f","\\prod"),ae(oe,le,fe,"\u2211","\\sum"),ae(oe,le,fe,"\u2a02","\\bigotimes"),ae(oe,le,fe,"\u2a01","\\bigoplus"),ae(oe,le,fe,"\u2a00","\\bigodot"),ae(oe,le,fe,"\u222e","\\oint"),ae(oe,le,fe,"\u222f","\\oiint"),ae(oe,le,fe,"\u2230","\\oiiint"),ae(oe,le,fe,"\u2a06","\\bigsqcup"),ae(oe,le,fe,"\u222b","\\smallint"),ae(se,le,pe,"\u2026","\\textellipsis"),ae(oe,le,pe,"\u2026","\\mathellipsis"),ae(se,le,pe,"\u2026","\\ldots",!0),ae(oe,le,pe,"\u2026","\\ldots",!0),ae(oe,le,pe,"\u22ef","\\@cdots",!0),ae(oe,le,pe,"\u22f1","\\ddots",!0),ae(oe,le,xe,"\u22ee","\\varvdots"),ae(se,le,xe,"\u22ee","\\varvdots"),ae(oe,le,ue,"\u02ca","\\acute"),ae(oe,le,ue,"\u02cb","\\grave"),ae(oe,le,ue,"\xa8","\\ddot"),ae(oe,le,ue,"~","\\tilde"),ae(oe,le,ue,"\u02c9","\\bar"),ae(oe,le,ue,"\u02d8","\\breve"),ae(oe,le,ue,"\u02c7","\\check"),ae(oe,le,ue,"^","\\hat"),ae(oe,le,ue,"\u20d7","\\vec"),ae(oe,le,ue,"\u02d9","\\dot"),ae(oe,le,ue,"\u02da","\\mathring"),ae(oe,le,me,"\ue131","\\@imath"),ae(oe,le,me,"\ue237","\\@jmath"),ae(oe,le,xe,"\u0131","\u0131"),ae(oe,le,xe,"\u0237","\u0237"),ae(se,le,xe,"\u0131","\\i",!0),ae(se,le,xe,"\u0237","\\j",!0),ae(se,le,xe,"\xdf","\\ss",!0),ae(se,le,xe,"\xe6","\\ae",!0),ae(se,le,xe,"\u0153","\\oe",!0),ae(se,le,xe,"\xf8","\\o",!0),ae(se,le,xe,"\xc6","\\AE",!0),ae(se,le,xe,"\u0152","\\OE",!0),ae(se,le,xe,"\xd8","\\O",!0),ae(se,le,ue,"\u02ca","\\'"),ae(se,le,ue,"\u02cb","\\`"),ae(se,le,ue,"\u02c6","\\^"),ae(se,le,ue,"\u02dc","\\~"),ae(se,le,ue,"\u02c9","\\="),ae(se,le,ue,"\u02d8","\\u"),ae(se,le,ue,"\u02d9","\\."),ae(se,le,ue,"\xb8","\\c"),ae(se,le,ue,"\u02da","\\r"),ae(se,le,ue,"\u02c7","\\v"),ae(se,le,ue,"\xa8",'\\"'),ae(se,le,ue,"\u02dd","\\H"),ae(se,le,ue,"\u25ef","\\textcircled");const _e={"--":!0,"---":!0,"``":!0,"''":!0};ae(se,le,xe,"\u2013","--",!0),ae(se,le,xe,"\u2013","\\textendash"),ae(se,le,xe,"\u2014","---",!0),ae(se,le,xe,"\u2014","\\textemdash"),ae(se,le,xe,"\u2018","`",!0),ae(se,le,xe,"\u2018","\\textquoteleft"),ae(se,le,xe,"\u2019","'",!0),ae(se,le,xe,"\u2019","\\textquoteright"),ae(se,le,xe,"\u201c","``",!0),ae(se,le,xe,"\u201c","\\textquotedblleft"),ae(se,le,xe,"\u201d","''",!0),ae(se,le,xe,"\u201d","\\textquotedblright"),ae(oe,le,xe,"\xb0","\\degree",!0),ae(se,le,xe,"\xb0","\\degree"),ae(se,le,xe,"\xb0","\\textdegree",!0),ae(oe,le,xe,"\xa3","\\pounds"),ae(oe,le,xe,"\xa3","\\mathsterling",!0),ae(se,le,xe,"\xa3","\\pounds"),ae(se,le,xe,"\xa3","\\textsterling",!0),ae(oe,ce,xe,"\u2720","\\maltese"),ae(se,ce,xe,"\u2720","\\maltese");const we='0123456789/@."';for(let Ki=0;Ki<14;Ki++){const e=we.charAt(Ki);ae(oe,le,xe,e,e)}const Se='0123456789!@*()-=+";:?/.,';for(let Ki=0;Ki<25;Ki++){const e=Se.charAt(Ki);ae(se,le,xe,e,e)}const Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let Ki=0;Ki<52;Ki++){const e=Me.charAt(Ki);ae(oe,le,me,e,e),ae(se,le,xe,e,e)}ae(oe,ce,xe,"C","\u2102"),ae(se,ce,xe,"C","\u2102"),ae(oe,ce,xe,"H","\u210d"),ae(se,ce,xe,"H","\u210d"),ae(oe,ce,xe,"N","\u2115"),ae(se,ce,xe,"N","\u2115"),ae(oe,ce,xe,"P","\u2119"),ae(se,ce,xe,"P","\u2119"),ae(oe,ce,xe,"Q","\u211a"),ae(se,ce,xe,"Q","\u211a"),ae(oe,ce,xe,"R","\u211d"),ae(se,ce,xe,"R","\u211d"),ae(oe,ce,xe,"Z","\u2124"),ae(se,ce,xe,"Z","\u2124"),ae(oe,le,me,"h","\u210e"),ae(se,le,me,"h","\u210e");let Ae="";for(let Ki=0;Ki<52;Ki++){const e=Me.charAt(Ki);Ae=String.fromCharCode(55349,56320+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56372+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56424+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56580+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56684+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56736+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56788+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56840+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56944+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ki<26&&(Ae=String.fromCharCode(55349,56632+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,56476+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae))}Ae=String.fromCharCode(55349,56668),ae(oe,le,me,"k",Ae),ae(se,le,xe,"k",Ae);for(let Ki=0;Ki<10;Ki++){const e=Ki.toString();Ae=String.fromCharCode(55349,57294+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,57314+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,57324+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae),Ae=String.fromCharCode(55349,57334+Ki),ae(oe,le,me,e,Ae),ae(se,le,xe,e,Ae)}const Te="\xd0\xde\xfe";for(let Ki=0;Ki<3;Ki++){const e=Te.charAt(Ki);ae(oe,le,me,e,e),ae(se,le,xe,e,e)}const Ee=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ce=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]];class Pe{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){const e=document.createDocumentFragment();for(let t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){let e="";for(let t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join("")}}const ke=function(e,t,n){return re[n][e]&&re[n][e].replace&&(e=re[n][e].replace),{value:e,metrics:P(e,t,n)}},Re=function(e,t,n,i,r){const a=ke(e,t,n),o=a.metrics;let s;if(e=a.value,o){let t=o.italic;("text"===n||i&&"mathit"===i.font)&&(t=0),s=new Q(e,o.height,o.depth,t,o.skew,o.width,r)}else"undefined"!==typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),s=new Q(e,0,0,0,0,0,r);if(i){s.maxFontSize=i.sizeMultiplier,i.style.isTight()&&s.classes.push("mtight");const e=i.getColor();e&&(s.style.color=e)}return s},Ne=(e,t)=>{if(H(e.classes)!==H(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){const t=e.classes[0];if("mbin"===t||"mord"===t)return!1}for(const n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(const n in t.style)if(t.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;return!0},De=function(e){let t=0,n=0,i=0;for(let r=0;r<e.children.length;r++){const a=e.children[r];a.height>t&&(t=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Ie=function(e,t,n,i){const r=new W(e,t,n,i);return De(r),r},Le=(e,t,n,i)=>new W(e,t,n,i),Oe=function(e){const t=new Pe(e);return De(t),t},ze=function(e,t,n){let i,r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return i="textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular",r+"-"+i},Fe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Be={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Ue={fontMap:Fe,makeSymbol:Re,mathsym:function(e,t,n,i){return void 0===i&&(i=[]),"boldsymbol"===n.font&&ke(e,"Main-Bold",t).metrics?Re(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===re[t][e].font?Re(e,"Main-Regular",t,n,i):Re(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},makeSpan:Ie,makeSvgSpan:Le,makeLineSpan:function(e,t,n){const i=Ie([e],[],t);return i.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=U(i.height),i.maxFontSize=1,i},makeAnchor:function(e,t,n,i){const r=new X(e,t,n,i);return De(r),r},makeFragment:Oe,wrapFragment:function(e,t){return e instanceof Pe?Ie([],[e],t):e},makeVList:function(e,t){const{children:n,depth:i}=function(e){if("individualShift"===e.positionType){const t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth;let r=i;for(let e=1;e<t.length;e++){const i=-t[e].shift-r-t[e].elem.depth,a=i-(t[e-1].elem.height+t[e-1].elem.depth);r+=i,n.push({type:"kern",size:a}),n.push(t[e])}return{children:n,depth:i}}let t;if("top"===e.positionType){let n=e.positionData;for(let t=0;t<e.children.length;t++){const i=e.children[t];n-="kern"===i.type?i.size:i.elem.height+i.elem.depth}t=n}else if("bottom"===e.positionType)t=-e.positionData;else{const n=e.children[0];if("elem"!==n.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)t=-n.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");t=-n.elem.depth}}return{children:e.children,depth:t}}(e);let r=0;for(let p=0;p<n.length;p++){const e=n[p];if("elem"===e.type){const t=e.elem;r=Math.max(r,t.maxFontSize,t.height)}}r+=2;const a=Ie(["pstrut"],[]);a.style.height=U(r);const o=[];let s=i,l=i,c=i;for(let p=0;p<n.length;p++){const e=n[p];if("kern"===e.type)c+=e.size;else{const t=e.elem,n=e.wrapperClasses||[],i=e.wrapperStyle||{},s=Ie(n,[a,t],void 0,i);s.style.top=U(-r-c-t.depth),e.marginLeft&&(s.style.marginLeft=e.marginLeft),e.marginRight&&(s.style.marginRight=e.marginRight),o.push(s),c+=t.height+t.depth}s=Math.min(s,c),l=Math.max(l,c)}const u=Ie(["vlist"],o);let d;if(u.style.height=U(l),s<0){const e=Ie([],[]),t=Ie(["vlist"],[e]);t.style.height=U(-s);const n=Ie(["vlist-s"],[new Q("\u200b")]);d=[Ie(["vlist-r"],[u,n]),Ie(["vlist-r"],[t])]}else d=[Ie(["vlist-r"],[u])];const h=Ie(["vlist-t"],d);return 2===d.length&&h.classes.push("vlist-t2"),h.height=l,h.depth=-s,h},makeOrd:function(e,t,n){const r=e.mode,a=e.text,o=["mord"],s="math"===r||"text"===r&&t.font,l=s?t.font:t.fontFamily;let c="",u="";if(55349===a.charCodeAt(0)&&([c,u]=function(e,t){const n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,r="math"===t?0:1;if(119808<=n&&n<120484){const e=Math.floor((n-119808)/26);return[Ee[e][2],Ee[e][r]]}if(120782<=n&&n<=120831){const e=Math.floor((n-120782)/10);return[Ce[e][2],Ce[e][r]]}if(120485===n||120486===n)return[Ee[0][2],Ee[0][r]];if(120486<n&&n<120782)return["",""];throw new i("Unsupported character: "+e)}(a,r)),c.length>0)return Re(a,c,r,t,o.concat(u));if(l){let e,i;if("boldsymbol"===l){const t=function(e,t,n,i,r){return"textord"!==r&&ke(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(a,r,0,0,n);e=t.fontName,i=[t.fontClass]}else s?(e=Fe[l].fontName,i=[l]):(e=ze(l,t.fontWeight,t.fontShape),i=[l,t.fontWeight,t.fontShape]);if(ke(a,e,r).metrics)return Re(a,e,r,t,o.concat(i));if(_e.hasOwnProperty(a)&&"Typewriter"===e.slice(0,10)){const n=[];for(let s=0;s<a.length;s++)n.push(Re(a[s],e,r,t,o.concat(i)));return Oe(n)}}if("mathord"===n)return Re(a,"Math-Italic",r,t,o.concat(["mathnormal"]));if("textord"===n){const e=re[r][a]&&re[r][a].font;if("ams"===e){const e=ze("amsrm",t.fontWeight,t.fontShape);return Re(a,e,r,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==e&&e){const n=ze(e,t.fontWeight,t.fontShape);return Re(a,n,r,t,o.concat(n,t.fontWeight,t.fontShape))}{const e=ze("textrm",t.fontWeight,t.fontShape);return Re(a,e,r,t,o.concat(t.fontWeight,t.fontShape))}}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(e,t)=>{const n=Ie(["mspace"],[],t),i=B(e,t);return n.style.marginRight=U(i),n},staticSvg:function(e,t){const[n,i,r]=Be[e],a=new J(n),o=new Z([a],{width:U(i),height:U(r),style:"width:"+U(i),viewBox:"0 0 "+1e3*i+" "+1e3*r,preserveAspectRatio:"xMinYMin"}),s=Le(["overlay"],[o],t);return s.height=r,s.style.height=U(r),s.style.width=U(i),s},svgData:Be,tryCombineChars:e=>{for(let t=0;t<e.length-1;t++){const n=e[t],i=e[t+1];n instanceof Q&&i instanceof Q&&Ne(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e}};const He={number:3,unit:"mu"},Ve={number:4,unit:"mu"},Ge={number:5,unit:"mu"},je={mord:{mop:He,mbin:Ve,mrel:Ge,minner:He},mop:{mord:He,mop:He,mrel:Ge,minner:He},mbin:{mord:Ve,mop:Ve,mopen:Ve,minner:Ve},mrel:{mord:Ge,mop:Ge,mopen:Ge,minner:Ge},mopen:{},mclose:{mop:He,mbin:Ve,mrel:Ge,minner:He},mpunct:{mord:He,mop:He,mrel:Ge,mopen:He,mclose:He,mpunct:He,minner:He},minner:{mord:He,mop:He,mbin:Ve,mrel:Ge,mopen:He,mpunct:He,minner:He}},qe={mord:{mop:He},mop:{mord:He,mop:He},mbin:{},mrel:{},mopen:{},mclose:{mop:He},mpunct:{},minner:{mop:He}},We={},Xe={},Ke={};function Ye(e){let{type:t,names:n,props:i,handler:r,htmlBuilder:a,mathmlBuilder:o}=e;const s={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r};for(let l=0;l<n.length;++l)We[n[l]]=s;t&&(a&&(Xe[t]=a),o&&(Ke[t]=o))}function Qe(e){let{type:t,htmlBuilder:n,mathmlBuilder:i}=e;Ye({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}const Ze=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},Je=function(e){return"ordgroup"===e.type?e.body:[e]},$e=Ue.makeSpan,et=["leftmost","mbin","mopen","mrel","mop","mpunct"],tt=["rightmost","mrel","mclose","mpunct"],nt={display:x.DISPLAY,text:x.TEXT,script:x.SCRIPT,scriptscript:x.SCRIPTSCRIPT},it={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},rt=function(e,t,n,i){void 0===i&&(i=[null,null]);const r=[];for(let c=0;c<e.length;c++){const n=ut(e[c],t);if(n instanceof Pe){const e=n.children;r.push(...e)}else r.push(n)}if(Ue.tryCombineChars(r),!n)return r;let a=t;if(1===e.length){const n=e[0];"sizing"===n.type?a=t.havingSize(n.size):"styling"===n.type&&(a=t.havingStyle(nt[n.style]))}const o=$e([i[0]||"leftmost"],[],t),s=$e([i[1]||"rightmost"],[],t),l="root"===n;return at(r,(e,t)=>{const n=t.classes[0],i=e.classes[0];"mbin"===n&&tt.includes(i)?t.classes[0]="mord":"mbin"===i&&et.includes(n)&&(e.classes[0]="mord")},{node:o},s,l),at(r,(e,t)=>{const n=lt(t),i=lt(e),r=n&&i?e.hasClass("mtight")?qe[n][i]:je[n][i]:null;if(r)return Ue.makeGlue(r,a)},{node:o},s,l),r},at=function(e,t,n,i,r){i&&e.push(i);let a=0;for(;a<e.length;a++){const i=e[a],o=ot(i);if(o){at(o.children,t,n,null,r);continue}const s=!i.hasClass("mspace");if(s){const r=t(i,n.node);r&&(n.insertAfter?n.insertAfter(r):(e.unshift(r),a++))}s?n.node=i:r&&i.hasClass("newline")&&(n.node=$e(["leftmost"])),n.insertAfter=(t=>n=>{e.splice(t+1,0,n),a++})(a)}i&&e.pop()},ot=function(e){return e instanceof Pe||e instanceof X||e instanceof W&&e.hasClass("enclosing")?e:null},st=function(e,t){const n=ot(e);if(n){const e=n.children;if(e.length){if("right"===t)return st(e[e.length-1],"right");if("left"===t)return st(e[0],"left")}}return e},lt=function(e,t){return e?(t&&(e=st(e,t)),it[e.classes[0]]||null):null},ct=function(e,t){const n=["nulldelimiter"].concat(e.baseSizingClasses());return $e(t.concat(n))},ut=function(e,t,n){if(!e)return $e();if(Xe[e.type]){let i=Xe[e.type](e,t);if(n&&t.size!==n.size){i=$e(t.sizingClasses(n),[i],t);const e=t.sizeMultiplier/n.sizeMultiplier;i.height*=e,i.depth*=e}return i}throw new i("Got group of unknown type: '"+e.type+"'")};function dt(e,t){const n=$e(["base"],e,t),i=$e(["strut"]);return i.style.height=U(n.height+n.depth),n.depth&&(i.style.verticalAlign=U(-n.depth)),n.children.unshift(i),n}function ht(e,t){let n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);const i=rt(e,t,"root");let r;2===i.length&&i[1].hasClass("tag")&&(r=i.pop());const a=[];let o,s=[];for(let c=0;c<i.length;c++)if(s.push(i[c]),i[c].hasClass("mbin")||i[c].hasClass("mrel")||i[c].hasClass("allowbreak")){let e=!1;for(;c<i.length-1&&i[c+1].hasClass("mspace")&&!i[c+1].hasClass("newline");)c++,s.push(i[c]),i[c].hasClass("nobreak")&&(e=!0);e||(a.push(dt(s,t)),s=[])}else i[c].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(dt(s,t)),s=[]),a.push(i[c]));s.length>0&&a.push(dt(s,t)),n?(o=dt(rt(n,t,!0)),o.classes=["tag"],a.push(o)):r&&a.push(r);const l=$e(["katex-html"],a);if(l.setAttribute("aria-hidden","true"),o){const e=o.children[0];e.style.height=U(l.height+l.depth),l.depth&&(e.style.verticalAlign=U(-l.depth))}return l}function pt(e){return new Pe(e)}class mt{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){const e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=H(this.classes));for(let t=0;t<this.children.length;t++)if(this.children[t]instanceof ft&&this.children[t+1]instanceof ft){let n=this.children[t].toText()+this.children[++t].toText();for(;this.children[t+1]instanceof ft;)n+=this.children[++t].toText();e.appendChild(new ft(n).toNode())}else e.appendChild(this.children[t].toNode());return e}toMarkup(){let e="<"+this.type;for(const t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=l.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+l.escape(H(this.classes))+'"'),e+=">";for(let t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ft{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return l.escape(this.toText())}toText(){return this.text}}var gt={MathNode:mt,TextNode:ft,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?"\u200a":e>=.1666&&e<=.1667?"\u2009":e>=.2222&&e<=.2223?"\u2005":e>=.2777&&e<=.2778?"\u2005\u200a":e>=-.05556&&e<=-.05555?"\u200a\u2063":e>=-.1667&&e<=-.1666?"\u2009\u2063":e>=-.2223&&e<=-.2222?"\u205f\u2063":e>=-.2778&&e<=-.2777?"\u2005\u2063":null}toNode(){if(this.character)return document.createTextNode(this.character);{const e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",U(this.width)),e}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+U(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:pt};const yt=function(e,t,n){return!re[t][e]||!re[t][e].replace||55349===e.charCodeAt(0)||_e.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=re[t][e].replace),new gt.TextNode(e)},vt=function(e){return 1===e.length?e[0]:new gt.MathNode("mrow",e)},bt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";const n=t.font;if(!n||"mathnormal"===n)return null;const i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathsfit"===n)return"sans-serif-italic";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";let r=e.text;return["\\imath","\\jmath"].includes(r)?null:(re[i][r]&&re[i][r].replace&&(r=re[i][r].replace),P(r,Ue.fontMap[n].fontName,i)?Ue.fontMap[n].variant:null)};function xt(e){if(!e)return!1;if("mi"===e.type&&1===e.children.length){const t=e.children[0];return t instanceof ft&&"."===t.text}if("mo"===e.type&&1===e.children.length&&"true"===e.getAttribute("separator")&&"0em"===e.getAttribute("lspace")&&"0em"===e.getAttribute("rspace")){const t=e.children[0];return t instanceof ft&&","===t.text}return!1}const _t=function(e,t,n){if(1===e.length){const i=St(e[0],t);return n&&i instanceof mt&&"mo"===i.type&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}const i=[];let r;for(let a=0;a<e.length;a++){const n=St(e[a],t);if(n instanceof mt&&r instanceof mt){if("mtext"===n.type&&"mtext"===r.type&&n.getAttribute("mathvariant")===r.getAttribute("mathvariant")){r.children.push(...n.children);continue}if("mn"===n.type&&"mn"===r.type){r.children.push(...n.children);continue}if(xt(n)&&"mn"===r.type){r.children.push(...n.children);continue}if("mn"===n.type&&xt(r))n.children=[...r.children,...n.children],i.pop();else if(("msup"===n.type||"msub"===n.type)&&n.children.length>=1&&("mn"===r.type||xt(r))){const e=n.children[0];e instanceof mt&&"mn"===e.type&&(e.children=[...r.children,...e.children],i.pop())}else if("mi"===r.type&&1===r.children.length){const e=r.children[0];if(e instanceof ft&&"\u0338"===e.text&&("mo"===n.type||"mi"===n.type||"mn"===n.type)){const e=n.children[0];e instanceof ft&&e.text.length>0&&(e.text=e.text.slice(0,1)+"\u0338"+e.text.slice(1),i.pop())}}}i.push(n),r=n}return i},wt=function(e,t,n){return vt(_t(e,t,n))},St=function(e,t){if(!e)return new gt.MathNode("mrow");if(Ke[e.type])return Ke[e.type](e,t);throw new i("Got group of unknown type: '"+e.type+"'")};function Mt(e,t,n,i,r){const a=_t(e,n);let o;o=1===a.length&&a[0]instanceof mt&&["mrow","mtable"].includes(a[0].type)?a[0]:new gt.MathNode("mrow",a);const s=new gt.MathNode("annotation",[new gt.TextNode(t)]);s.setAttribute("encoding","application/x-tex");const l=new gt.MathNode("semantics",[o,s]),c=new gt.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&c.setAttribute("display","block");const u=r?"katex":"katex-mathml";return Ue.makeSpan([u],[c])}const At=function(e){return new L({style:e.displayMode?x.DISPLAY:x.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Tt=function(e,t){if(t.displayMode){const n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Ue.makeSpan(n,[e])}return e},Et={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23df",overbrace:"\u23de",overgroup:"\u23e0",undergroup:"\u23e1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Ct={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]};var Pt=function(e,t,n,i,r){let a;const o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(t)){if(a=Ue.makeSpan(["stretchy",t],[],r),"fbox"===t){const e=r.color&&r.getColor();e&&(a.style.borderColor=e)}}else{const e=[];/^[bx]cancel$/.test(t)&&e.push(new $({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&e.push(new $({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const n=new Z(e,{width:"100%",height:U(o)});a=Ue.makeSvgSpan([],[n],r)}return a.height=o,a.style.height=U(o),a},kt=function(e){const t=new gt.MathNode("mo",[new gt.TextNode(Et[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Rt=function(e,t){const{span:n,minWidth:i,height:r}=function(){let n=4e5;const i=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(i)){const a="ordgroup"===(r=e.base).type?r.body.length:1;let o,s,l;if(a>5)"widehat"===i||"widecheck"===i?(o=420,n=2364,l=.42,s=i+"4"):(o=312,n=2340,l=.34,s="tilde4");else{const e=[1,1,2,2,3,3][a];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][e],o=[0,239,300,360,420][e],l=[0,.24,.3,.3,.36,.42][e],s=i+e):(n=[0,600,1033,2339,2340][e],o=[0,260,286,306,312][e],l=[0,.26,.286,.3,.306,.34][e],s="tilde"+e)}const c=new J(s),u=new Z([c],{width:"100%",height:U(l),viewBox:"0 0 "+n+" "+o,preserveAspectRatio:"none"});return{span:Ue.makeSvgSpan([],[u],t),minWidth:0,height:l}}{const e=[],r=Ct[i],[a,o,s]=r,l=s/1e3,c=a.length;let u,d;if(1===c)u=["hide-tail"],d=[r[3]];else if(2===c)u=["halfarrow-left","halfarrow-right"],d=["xMinYMin","xMaxYMin"];else{if(3!==c)throw new Error("Correct katexImagesData or update code here to support\n                    "+c+" children.");u=["brace-left","brace-center","brace-right"],d=["xMinYMin","xMidYMin","xMaxYMin"]}for(let i=0;i<c;i++){const r=new J(a[i]),h=new Z([r],{width:"400em",height:U(l),viewBox:"0 0 "+n+" "+s,preserveAspectRatio:d[i]+" slice"}),p=Ue.makeSvgSpan([u[i]],[h],t);if(1===c)return{span:p,minWidth:o,height:l};p.style.height=U(l),e.push(p)}return{span:Ue.makeSpan(["stretchy"],e,t),minWidth:o,height:l}}var r}();return n.height=r,n.style.height=U(r),i>0&&(n.style.minWidth=U(i)),n};function Nt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Dt(e){const t=It(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function It(e){return e&&("atom"===e.type||ne.hasOwnProperty(e.type))?e:null}const Lt=(e,t)=>{let n,i,r;e&&"supsub"===e.type?(i=Nt(e.base,"accent"),n=i.base,e.base=n,r=function(e){if(e instanceof W)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(ut(e,t)),e.base=i):(i=Nt(e,"accent"),n=i.base);const a=ut(n,t.havingCrampedStyle());let o=0;if(i.isShifty&&l.isCharacterBox(n)){const e=l.getBaseElem(n);o=ee(ut(e,t.havingCrampedStyle())).skew}const s="\\c"===i.label;let c,u=s?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight);if(i.isStretchy)c=Rt(i,t),c=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+U(2*o)+")",marginLeft:U(2*o)}:void 0}]},t);else{let e,n;"\\vec"===i.label?(e=Ue.staticSvg("vec",t),n=Ue.svgData.vec[1]):(e=Ue.makeOrd({mode:i.mode,text:i.label},t,"textord"),e=ee(e),e.italic=0,n=e.width,s&&(u+=e.depth)),c=Ue.makeSpan(["accent-body"],[e]);const r="\\textcircled"===i.label;r&&(c.classes.push("accent-full"),u=a.height);let l=o;r||(l-=n/2),c.style.left=U(l),"\\textcircled"===i.label&&(c.style.top=".2em"),c=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-u},{type:"elem",elem:c}]},t)}const d=Ue.makeSpan(["mord","accent"],[c],t);return r?(r.children[0]=d,r.height=Math.max(d.height,r.height),r.classes[0]="mord",r):d},Ot=(e,t)=>{const n=e.isStretchy?kt(e.label):new gt.MathNode("mo",[yt(e.label,e.mode)]),i=new gt.MathNode("mover",[St(e.base,t),n]);return i.setAttribute("accent","true"),i},zt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ye({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{const n=Ze(t[0]),i=!zt.test(e.funcName),r=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:Lt,mathmlBuilder:Ot}),Ye({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{const n=t[0];let i=e.parser.mode;return"math"===i&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Lt,mathmlBuilder:Ot}),Ye({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:(e,t)=>{const n=ut(e.base,t),i=Rt(e,t),r="\\utilde"===e.label?.12:0,a=Ue.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return Ue.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{const n=kt(e.label),i=new gt.MathNode("munder",[St(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});const Ft=e=>{const t=new gt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ye({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){let{parser:i,funcName:r}=e;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder(e,t){const n=t.style;let i=t.havingStyle(n.sup());const r=Ue.wrapFragment(ut(e.body,i,t),t),a="\\x"===e.label.slice(0,2)?"x":"cd";let o;r.classes.push(a+"-arrow-pad"),e.below&&(i=t.havingStyle(n.sub()),o=Ue.wrapFragment(ut(e.below,i,t),t),o.classes.push(a+"-arrow-pad"));const s=Rt(e,t),l=-t.fontMetrics().axisHeight+.5*s.height;let c,u=-t.fontMetrics().axisHeight-.5*s.height-.111;if((r.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=r.depth),o){const e=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;c=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:s,shift:l},{type:"elem",elem:o,shift:e}]},t)}else c=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:s,shift:l}]},t);return c.children[0].children[0].children[1].classes.push("svg-align"),Ue.makeSpan(["mrel","x-arrow"],[c],t)},mathmlBuilder(e,t){const n=kt(e.label);let i;if(n.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){const r=Ft(St(e.body,t));if(e.below){const a=Ft(St(e.below,t));i=new gt.MathNode("munderover",[n,a,r])}else i=new gt.MathNode("mover",[n,r])}else if(e.below){const r=Ft(St(e.below,t));i=new gt.MathNode("munder",[n,r])}else i=Ft(),i=new gt.MathNode("mover",[n,i]);return i}});const Bt=Ue.makeSpan;function Ut(e,t){const n=rt(e.body,t,!0);return Bt([e.mclass],n,t)}function Ht(e,t){let n;const i=_t(e.body,t);return"minner"===e.mclass?n=new gt.MathNode("mpadded",i):"mord"===e.mclass?e.isCharacterBox?(n=i[0],n.type="mi"):n=new gt.MathNode("mi",i):(e.isCharacterBox?(n=i[0],n.type="mo"):n=new gt.MathNode("mo",i),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ye({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){let{parser:n,funcName:i}=e;const r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:Je(r),isCharacterBox:l.isCharacterBox(r)}},htmlBuilder:Ut,mathmlBuilder:Ht});const Vt=e=>{const t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};Ye({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){let{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Vt(t[0]),body:Je(t[1]),isCharacterBox:l.isCharacterBox(t[1])}}}),Ye({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){let{parser:n,funcName:i}=e;const r=t[1],a=t[0];let o;o="\\stackrel"!==i?Vt(r):"mrel";const s={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:Je(r)},c={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===i?null:a,sub:"\\underset"===i?a:null};return{type:"mclass",mode:n.mode,mclass:o,body:[c],isCharacterBox:l.isCharacterBox(c)}},htmlBuilder:Ut,mathmlBuilder:Ht}),Ye({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){let{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Vt(t[0]),body:Je(t[0])}},htmlBuilder(e,t){const n=rt(e.body,t,!0),i=Ue.makeSpan([e.mclass],n,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(e,t){const n=_t(e.body,t),i=new gt.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});const Gt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},jt=()=>({type:"styling",body:[],mode:"math",style:"display"}),qt=e=>"textord"===e.type&&"@"===e.text,Wt=(e,t)=>("mathord"===e.type||"atom"===e.type)&&e.text===t;function Xt(e,t,n){const i=Gt[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{const e={type:"atom",text:i,mode:"math",family:"rel"},r={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[e],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[r],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const e={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[e],[])}default:return{type:"textord",text:" ",mode:"math"}}}Ye({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){let{parser:n,funcName:i}=e;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){const n=t.havingStyle(t.style.sup()),i=Ue.wrapFragment(ut(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=U(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){let n=new gt.MathNode("mrow",[St(e.label,t)]);return n=new gt.MathNode("mpadded",[n]),n.setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new gt.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),Ye({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){let{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){const n=Ue.wrapFragment(ut(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new gt.MathNode("mrow",[St(e.fragment,t)])}),Ye({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){let{parser:n}=e;const r=Nt(t[0],"ordgroup").body;let a="";for(let i=0;i<r.length;i++)a+=Nt(r[i],"textord").text;let o,s=parseInt(a);if(isNaN(s))throw new i("\\@char has non-numeric argument "+a);if(s<0||s>=1114111)throw new i("\\@char with invalid code point "+a);return s<=65535?o=String.fromCharCode(s):(s-=65536,o=String.fromCharCode(55296+(s>>10),56320+(1023&s))),{type:"textord",mode:n.mode,text:o}}});const Kt=(e,t)=>{const n=rt(e.body,t.withColor(e.color),!1);return Ue.makeFragment(n)},Yt=(e,t)=>{const n=_t(e.body,t.withColor(e.color)),i=new gt.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Ye({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){let{parser:n}=e;const i=Nt(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:Je(r)}},htmlBuilder:Kt,mathmlBuilder:Yt}),Ye({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){let{parser:n,breakOnTokenText:i}=e;const r=Nt(t[0],"color-token").color;n.gullet.macros.set("\\current@color",r);const a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:Kt,mathmlBuilder:Yt}),Ye({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){let{parser:i}=e;const r="["===i.gullet.future().text?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:r&&Nt(r,"size").value}},htmlBuilder(e,t){const n=Ue.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=U(B(e.size,t)))),n},mathmlBuilder(e,t){const n=new gt.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",U(B(e.size,t)))),n}});const Qt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Zt=e=>{const t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new i("Expected a control sequence",e);return t},Jt=(e,t,n,i)=>{let r=e.gullet.macros.get(n.text);null==r&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,r,i)};Ye({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){let{parser:t,funcName:n}=e;t.consumeSpaces();const r=t.fetch();if(Qt[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=Qt[r.text]),Nt(t.parseFunction(),"internal");throw new i("Invalid token after macro prefix",r)}}),Ye({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){let{parser:t,funcName:n}=e,r=t.gullet.popToken();const a=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new i("Expected a control sequence",r);let o,s=0;const l=[[]];for(;"{"!==t.gullet.future().text;)if(r=t.gullet.popToken(),"#"===r.text){if("{"===t.gullet.future().text){o=t.gullet.future(),l[s].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new i('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new i('Argument number "'+r.text+'" out of order');s++,l.push([])}else{if("EOF"===r.text)throw new i("Expected a macro definition");l[s].push(r.text)}let{tokens:c}=t.gullet.consumeArg();return o&&c.unshift(o),"\\edef"!==n&&"\\xdef"!==n||(c=t.gullet.expandTokens(c),c.reverse()),t.gullet.macros.set(a,{tokens:c,numArgs:s,delimiters:l},n===Qt[n]),{type:"internal",mode:t.mode}}}),Ye({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){let{parser:t,funcName:n}=e;const i=Zt(t.gullet.popToken());t.gullet.consumeSpaces();const r=(e=>{let t=e.gullet.popToken();return"="===t.text&&(t=e.gullet.popToken()," "===t.text&&(t=e.gullet.popToken())),t})(t);return Jt(t,i,r,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),Ye({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){let{parser:t,funcName:n}=e;const i=Zt(t.gullet.popToken()),r=t.gullet.popToken(),a=t.gullet.popToken();return Jt(t,i,a,"\\\\globalfuture"===n),t.gullet.pushToken(a),t.gullet.pushToken(r),{type:"internal",mode:t.mode}}});const $t=function(e,t,n){const i=P(re.math[e]&&re.math[e].replace||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},en=function(e,t,n,i){const r=n.havingBaseStyle(t),a=Ue.makeSpan(i.concat(r.sizingClasses(n)),[e],n),o=r.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=r.sizeMultiplier,a},tn=function(e,t,n){const i=t.havingBaseStyle(n),r=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=U(r),e.height-=r,e.depth+=r},nn=function(e,t,n,i,r,a){const o=function(e,t,n,i){return Ue.makeSymbol(e,"Size"+t+"-Regular",n,i)}(e,t,r,i),s=en(Ue.makeSpan(["delimsizing","size"+t],[o],i),x.TEXT,i,a);return n&&tn(s,i,x.TEXT),s},rn=function(e,t,n){let i;return i="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Ue.makeSpan(["delimsizinginner",i],[Ue.makeSpan([],[Ue.makeSymbol(e,t,n)])])}},an=function(e,t,n){const i=T["Size4-Regular"][e.charCodeAt(0)]?T["Size4-Regular"][e.charCodeAt(0)][4]:T["Size1-Regular"][e.charCodeAt(0)][4],r=new J("inner",function(e,t){switch(e){case"\u239c":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"\u239f":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23a2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23a5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23aa":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23d0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),a=new Z([r],{width:U(i),height:U(t),style:"width:"+U(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Ue.makeSvgSpan([],[a],n);return o.height=t,o.style.height=U(t),o.style.width=U(i),{type:"elem",elem:o}},on={type:"kern",size:-.008},sn=["|","\\lvert","\\rvert","\\vert"],ln=["\\|","\\lVert","\\rVert","\\Vert"],cn=function(e,t,n,i,r,a){let o,s,l,c,u="",d=0;o=l=c=e,s=null;let h="Size1-Regular";"\\uparrow"===e?l=c="\u23d0":"\\Uparrow"===e?l=c="\u2016":"\\downarrow"===e?o=l="\u23d0":"\\Downarrow"===e?o=l="\u2016":"\\updownarrow"===e?(o="\\uparrow",l="\u23d0",c="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",l="\u2016",c="\\Downarrow"):sn.includes(e)?(l="\u2223",u="vert",d=333):ln.includes(e)?(l="\u2225",u="doublevert",d=556):"["===e||"\\lbrack"===e?(o="\u23a1",l="\u23a2",c="\u23a3",h="Size4-Regular",u="lbrack",d=667):"]"===e||"\\rbrack"===e?(o="\u23a4",l="\u23a5",c="\u23a6",h="Size4-Regular",u="rbrack",d=667):"\\lfloor"===e||"\u230a"===e?(l=o="\u23a2",c="\u23a3",h="Size4-Regular",u="lfloor",d=667):"\\lceil"===e||"\u2308"===e?(o="\u23a1",l=c="\u23a2",h="Size4-Regular",u="lceil",d=667):"\\rfloor"===e||"\u230b"===e?(l=o="\u23a5",c="\u23a6",h="Size4-Regular",u="rfloor",d=667):"\\rceil"===e||"\u2309"===e?(o="\u23a4",l=c="\u23a5",h="Size4-Regular",u="rceil",d=667):"("===e||"\\lparen"===e?(o="\u239b",l="\u239c",c="\u239d",h="Size4-Regular",u="lparen",d=875):")"===e||"\\rparen"===e?(o="\u239e",l="\u239f",c="\u23a0",h="Size4-Regular",u="rparen",d=875):"\\{"===e||"\\lbrace"===e?(o="\u23a7",s="\u23a8",c="\u23a9",l="\u23aa",h="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="\u23ab",s="\u23ac",c="\u23ad",l="\u23aa",h="Size4-Regular"):"\\lgroup"===e||"\u27ee"===e?(o="\u23a7",c="\u23a9",l="\u23aa",h="Size4-Regular"):"\\rgroup"===e||"\u27ef"===e?(o="\u23ab",c="\u23ad",l="\u23aa",h="Size4-Regular"):"\\lmoustache"===e||"\u23b0"===e?(o="\u23a7",c="\u23ad",l="\u23aa",h="Size4-Regular"):"\\rmoustache"!==e&&"\u23b1"!==e||(o="\u23ab",c="\u23a9",l="\u23aa",h="Size4-Regular");const p=$t(o,h,r),m=p.height+p.depth,f=$t(l,h,r),g=f.height+f.depth,y=$t(c,h,r),v=y.height+y.depth;let b=0,_=1;if(null!==s){const e=$t(s,h,r);b=e.height+e.depth,_=2}const w=m+v+b,S=w+Math.max(0,Math.ceil((t-w)/(_*g)))*_*g;let M=i.fontMetrics().axisHeight;n&&(M*=i.sizeMultiplier);const A=S/2-M,T=[];if(u.length>0){const e=S-m-v,t=Math.round(1e3*S),n=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(u,Math.round(1e3*e)),r=new J(u,n),a=(d/1e3).toFixed(3)+"em",o=(t/1e3).toFixed(3)+"em",s=new Z([r],{width:a,height:o,viewBox:"0 0 "+d+" "+t}),l=Ue.makeSvgSpan([],[s],i);l.height=t/1e3,l.style.width=a,l.style.height=o,T.push({type:"elem",elem:l})}else{if(T.push(rn(c,h,r)),T.push(on),null===s){const e=S-m-v+.016;T.push(an(l,e,i))}else{const e=(S-m-v-b)/2+.016;T.push(an(l,e,i)),T.push(on),T.push(rn(s,h,r)),T.push(on),T.push(an(l,e,i))}T.push(on),T.push(rn(o,h,r))}const E=i.havingBaseStyle(x.TEXT),C=Ue.makeVList({positionType:"bottom",positionData:A,children:T},E);return en(Ue.makeSpan(["delimsizing","mult"],[C],E),x.TEXT,i,a)},un=.08,dn=function(e,t,n,i,r){const a=function(e,t,n){t*=1e3;let i="";switch(e){case"sqrtMain":i=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,M);break;case"sqrtSize1":i=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,M);break;case"sqrtSize2":i=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,M);break;case"sqrtSize3":i=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,M);break;case"sqrtSize4":i=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,M);break;case"sqrtTall":i=function(e,t,n){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(n-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,M,n)}return i}(e,i,n),o=new J(e,a),s=new Z([o],{width:"400em",height:U(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ue.makeSvgSpan(["hide-tail"],[s],r)},hn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","\\surd"],pn=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1"],mn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],fn=[0,1.2,1.8,2.4,3],gn=[{type:"small",style:x.SCRIPTSCRIPT},{type:"small",style:x.SCRIPT},{type:"small",style:x.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],yn=[{type:"small",style:x.SCRIPTSCRIPT},{type:"small",style:x.SCRIPT},{type:"small",style:x.TEXT},{type:"stack"}],vn=[{type:"small",style:x.SCRIPTSCRIPT},{type:"small",style:x.SCRIPT},{type:"small",style:x.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],bn=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},xn=function(e,t,n,i){for(let r=Math.min(2,3-i.style.size);r<n.length&&"stack"!==n[r].type;r++){const a=$t(e,bn(n[r]),"math");let o=a.height+a.depth;if("small"===n[r].type&&(o*=i.havingBaseStyle(n[r].style).sizeMultiplier),o>t)return n[r]}return n[n.length-1]},_n=function(e,t,n,i,r,a){let o;"<"===e||"\\lt"===e||"\u27e8"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"\u27e9"!==e||(e="\\rangle"),o=mn.includes(e)?gn:hn.includes(e)?vn:yn;const s=xn(e,t,o,i);return"small"===s.type?function(e,t,n,i,r,a){const o=Ue.makeSymbol(e,"Main-Regular",r,i),s=en(o,t,i,a);return n&&tn(s,i,t),s}(e,s.style,n,i,r,a):"large"===s.type?nn(e,s.size,n,i,r,a):cn(e,t,n,i,r,a)};var wn={sqrtImage:function(e,t){const n=t.havingBaseSizing(),i=xn("\\surd",e*n.sizeMultiplier,vn,n);let r=n.sizeMultiplier;const a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness);let o,s,l=0,c=0,u=0;return"small"===i.type?(u=1e3+1e3*a+80,e<1?r=1:e<1.4&&(r=.7),l=(1+a+un)/r,c=(1+a)/r,o=dn("sqrtMain",l,u,a,t),o.style.minWidth="0.853em",s=.833/r):"large"===i.type?(u=1080*fn[i.size],c=(fn[i.size]+a)/r,l=(fn[i.size]+a+un)/r,o=dn("sqrtSize"+i.size,l,u,a,t),o.style.minWidth="1.02em",s=1/r):(l=e+a+un,c=e+a,u=Math.floor(1e3*e+a)+80,o=dn("sqrtTall",l,u,a,t),o.style.minWidth="0.742em",s=1.056),o.height=c,o.style.height=U(l),{span:o,advanceWidth:s,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*r}},sizedDelim:function(e,t,n,r,a){if("<"===e||"\\lt"===e||"\u27e8"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"\u27e9"!==e||(e="\\rangle"),hn.includes(e)||mn.includes(e))return nn(e,t,!1,n,r,a);if(pn.includes(e))return cn(e,fn[t],!1,n,r,a);throw new i("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:fn,customSizedDelim:_n,leftRightDelim:function(e,t,n,i,r,a){const o=i.fontMetrics().axisHeight*i.sizeMultiplier,s=5/i.fontMetrics().ptPerEm,l=Math.max(t-o,n+o),c=Math.max(l/500*901,2*l-s);return _n(e,c,!0,i,r,a)}};const Sn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Mn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230a","\u230b","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27e8","\\rangle","\u27e9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27ee","\u27ef","\\lmoustache","\\rmoustache","\u23b0","\u23b1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function An(e,t){const n=It(e);if(n&&Mn.includes(n.text))return n;throw new i(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Tn(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ye({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{const n=An(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Sn[e.funcName].size,mclass:Sn[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?Ue.makeSpan([e.mclass]):wn.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{const t=[];"."!==e.delim&&t.push(yt(e.delim,e.mode));const n=new gt.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");const i=U(wn.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}}),Ye({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{const n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!==typeof n)throw new i("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:An(t[0],e).text,color:n}}}),Ye({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{const n=An(t[0],e),i=e.parser;++i.leftrightDepth;const r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);const a=Nt(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{Tn(e);const n=rt(e.body,t,!0,["mopen","mclose"]);let i,r,a=0,o=0,s=!1;for(let l=0;l<n.length;l++)n[l].isMiddle?s=!0:(a=Math.max(n[l].height,a),o=Math.max(n[l].depth,o));if(a*=t.sizeMultiplier,o*=t.sizeMultiplier,i="."===e.left?ct(t,["mopen"]):wn.leftRightDelim(e.left,a,o,t,e.mode,["mopen"]),n.unshift(i),s)for(let l=1;l<n.length;l++){const t=n[l].isMiddle;t&&(n[l]=wn.leftRightDelim(t.delim,a,o,t.options,e.mode,[]))}if("."===e.right)r=ct(t,["mclose"]);else{const n=e.rightColor?t.withColor(e.rightColor):t;r=wn.leftRightDelim(e.right,a,o,n,e.mode,["mclose"])}return n.push(r),Ue.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{Tn(e);const n=_t(e.body,t);if("."!==e.left){const t=new gt.MathNode("mo",[yt(e.left,e.mode)]);t.setAttribute("fence","true"),n.unshift(t)}if("."!==e.right){const t=new gt.MathNode("mo",[yt(e.right,e.mode)]);t.setAttribute("fence","true"),e.rightColor&&t.setAttribute("mathcolor",e.rightColor),n.push(t)}return vt(n)}}),Ye({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{const n=An(t[0],e);if(!e.parser.leftrightDepth)throw new i("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{let n;if("."===e.delim)n=ct(t,[]);else{n=wn.sizedDelim(e.delim,1,t,e.mode,[]);const i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:(e,t)=>{const n="\\vert"===e.delim||"|"===e.delim?yt("|","text"):yt(e.delim,e.mode),i=new gt.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});const En=(e,t)=>{const n=Ue.wrapFragment(ut(e.body,t),t),i=e.label.slice(1);let r,a=t.sizeMultiplier,o=0;const s=l.isCharacterBox(e.body);if("sout"===i)r=Ue.makeSpan(["stretchy","sout"]),r.height=t.fontMetrics().defaultRuleThickness/a,o=-.5*t.fontMetrics().xHeight;else if("phase"===i){const e=B({number:.6,unit:"pt"},t),i=B({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;const s=n.height+n.depth+e+i;n.style.paddingLeft=U(s/2+e);const l=Math.floor(1e3*s*a),u="M400000 "+(c=l)+" H0 L"+c/2+" 0 l65 45 L145 "+(c-80)+" H400000z",d=new Z([new J("phase",u)],{width:"400em",height:U(l/1e3),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});r=Ue.makeSvgSpan(["hide-tail"],[d],t),r.style.height=U(s),o=n.depth+e+i}else{/cancel/.test(i)?s||n.classes.push("cancel-pad"):"angl"===i?n.classes.push("anglpad"):n.classes.push("boxpad");let a=0,l=0,c=0;/box/.test(i)?(c=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),a=t.fontMetrics().fboxsep+("colorbox"===i?0:c),l=a):"angl"===i?(c=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),a=4*c,l=Math.max(0,.25-n.depth)):(a=s?.2:0,l=a),r=Pt(n,i,a,l,t),/fbox|boxed|fcolorbox/.test(i)?(r.style.borderStyle="solid",r.style.borderWidth=U(c)):"angl"===i&&.049!==c&&(r.style.borderTopWidth=U(c),r.style.borderRightWidth=U(c)),o=n.depth+l,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}var c;let u;if(e.backgroundColor)u=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:o},{type:"elem",elem:n,shift:0}]},t);else{const e=/cancel|phase/.test(i)?["svg-align"]:[];u=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:r,shift:o,wrapperClasses:e}]},t)}return/cancel/.test(i)&&(u.height=n.height,u.depth=n.depth),/cancel/.test(i)&&!s?Ue.makeSpan(["mord","cancel-lap"],[u],t):Ue.makeSpan(["mord"],[u],t)},Cn=(e,t)=>{let n=0;const i=new gt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[St(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){const n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};Ye({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){let{parser:i,funcName:r}=e;const a=Nt(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:a,body:o}},htmlBuilder:En,mathmlBuilder:Cn}),Ye({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){let{parser:i,funcName:r}=e;const a=Nt(t[0],"color-token").color,o=Nt(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:En,mathmlBuilder:Cn}),Ye({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){let{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),Ye({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){let{parser:n,funcName:i}=e;const r=t[0];return{type:"enclose",mode:n.mode,label:i,body:r}},htmlBuilder:En,mathmlBuilder:Cn}),Ye({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){let{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});const Pn={};function kn(e){let{type:t,names:n,props:i,handler:r,htmlBuilder:a,mathmlBuilder:o}=e;const s={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r};for(let l=0;l<n.length;++l)Pn[n[l]]=s;a&&(Xe[t]=a),o&&(Ke[t]=o)}const Rn={};function Nn(e,t){Rn[e]=t}class Dn{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new Dn(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class In{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new In(t,Dn.range(this,e))}}function Ln(e){const t=[];e.consumeSpaces();let n=e.fetch().text;for("\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}const On=e=>{if(!e.parser.settings.displayMode)throw new i("{"+e.envName+"} can be used only in display mode.")};function zn(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function Fn(e,t,n){let{hskipBeforeAndAfter:r,addJot:a,cols:o,arraystretch:s,colSeparationType:l,autoTag:c,singleRow:u,emptySingleRow:d,maxNumCols:h,leqno:p}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){const t=e.gullet.expandMacroAsText("\\arraystretch");if(null==t)s=1;else if(s=parseFloat(t),!s||s<0)throw new i("Invalid \\arraystretch: "+t)}e.gullet.beginGroup();let m=[];const f=[m],g=[],y=[],v=null!=c?[]:void 0;function b(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function x(){v&&(e.gullet.macros.get("\\df@tag")?(v.push(e.subparse([new In("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):v.push(Boolean(c)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(b(),y.push(Ln(e));;){let t=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),t={type:"ordgroup",mode:e.mode,body:t},n&&(t={type:"styling",mode:e.mode,style:n,body:[t]}),m.push(t);const r=e.fetch().text;if("&"===r){if(h&&m.length===h){if(u||l)throw new i("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===r){x(),1===m.length&&"styling"===t.type&&0===t.body[0].body.length&&(f.length>1||!d)&&f.pop(),y.length<f.length+1&&y.push([]);break}if("\\\\"!==r)throw new i("Expected & or \\\\ or \\cr or \\end",e.nextToken);{let t;e.consume()," "!==e.gullet.future().text&&(t=e.parseSizeGroup(!0)),g.push(t?t.value:null),x(),y.push(Ln(e)),m=[],f.push(m),b()}}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:s,body:f,cols:o,rowGaps:g,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:l,tags:v,leqno:p}}function Bn(e){return"d"===e.slice(0,1)?"display":"text"}const Un=function(e,t){let n,r;const a=e.body.length,o=e.hLinesBeforeRow;let s=0,c=new Array(a);const u=[],d=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm;let p=5*h;e.colSeparationType&&"small"===e.colSeparationType&&(p=t.havingStyle(x.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);const m="CD"===e.colSeparationType?B({number:3,unit:"ex"},t):12*h,f=3*h,g=e.arraystretch*m,y=.7*g,v=.3*g;let b=0;function _(e){for(let t=0;t<e.length;++t)t>0&&(b+=.25),u.push({pos:b,isDashed:e[t]})}for(_(o[0]),n=0;n<e.body.length;++n){const i=e.body[n];let a=y,l=v;s<i.length&&(s=i.length);const u=new Array(i.length);for(r=0;r<i.length;++r){const e=ut(i[r],t);l<e.depth&&(l=e.depth),a<e.height&&(a=e.height),u[r]=e}const d=e.rowGaps[n];let h=0;d&&(h=B(d,t),h>0&&(h+=v,l<h&&(l=h),h=0)),e.addJot&&(l+=f),u.height=a,u.depth=l,b+=a,u.pos=b,b+=l+h,c[n]=u,_(o[n+1])}const w=b/2+t.fontMetrics().axisHeight,S=e.cols||[],M=[];let A,T;const E=[];if(e.tags&&e.tags.some(e=>e))for(n=0;n<a;++n){const i=c[n],r=i.pos-w,a=e.tags[n];let o;o=!0===a?Ue.makeSpan(["eqn-num"],[],t):!1===a?Ue.makeSpan([],[],t):Ue.makeSpan([],rt(a,t,!0),t),o.depth=i.depth,o.height=i.height,E.push({type:"elem",elem:o,shift:r})}for(r=0,T=0;r<s||T<S.length;++r,++T){let o,u=S[T]||{},h=!0;for(;"separator"===u.type;){if(h||(A=Ue.makeSpan(["arraycolsep"],[]),A.style.width=U(t.fontMetrics().doubleRuleSep),M.push(A)),"|"!==u.separator&&":"!==u.separator)throw new i("Invalid separator type: "+u.separator);{const e="|"===u.separator?"solid":"dashed",n=Ue.makeSpan(["vertical-separator"],[],t);n.style.height=U(b),n.style.borderRightWidth=U(d),n.style.borderRightStyle=e,n.style.margin="0 "+U(-d/2);const i=b-w;i&&(n.style.verticalAlign=U(-i)),M.push(n)}T++,u=S[T]||{},h=!1}if(r>=s)continue;(r>0||e.hskipBeforeAndAfter)&&(o=l.deflt(u.pregap,p),0!==o&&(A=Ue.makeSpan(["arraycolsep"],[]),A.style.width=U(o),M.push(A)));let m=[];for(n=0;n<a;++n){const e=c[n],t=e[r];if(!t)continue;const i=e.pos-w;t.depth=e.depth,t.height=e.height,m.push({type:"elem",elem:t,shift:i})}m=Ue.makeVList({positionType:"individualShift",children:m},t),m=Ue.makeSpan(["col-align-"+(u.align||"c")],[m]),M.push(m),(r<s-1||e.hskipBeforeAndAfter)&&(o=l.deflt(u.postgap,p),0!==o&&(A=Ue.makeSpan(["arraycolsep"],[]),A.style.width=U(o),M.push(A)))}if(c=Ue.makeSpan(["mtable"],M),u.length>0){const e=Ue.makeLineSpan("hline",t,d),n=Ue.makeLineSpan("hdashline",t,d),i=[{type:"elem",elem:c,shift:0}];for(;u.length>0;){const t=u.pop(),r=t.pos-w;t.isDashed?i.push({type:"elem",elem:n,shift:r}):i.push({type:"elem",elem:e,shift:r})}c=Ue.makeVList({positionType:"individualShift",children:i},t)}if(0===E.length)return Ue.makeSpan(["mord"],[c],t);{let e=Ue.makeVList({positionType:"individualShift",children:E},t);return e=Ue.makeSpan(["tag"],[e],t),Ue.makeFragment([c,e])}},Hn={c:"center ",l:"left ",r:"right "},Vn=function(e,t){const n=[],i=new gt.MathNode("mtd",[],["mtr-glue"]),r=new gt.MathNode("mtd",[],["mml-eqn-num"]);for(let d=0;d<e.body.length;d++){const a=e.body[d],o=[];for(let e=0;e<a.length;e++)o.push(new gt.MathNode("mtd",[St(a[e],t)]));e.tags&&e.tags[d]&&(o.unshift(i),o.push(i),e.leqno?o.unshift(r):o.push(r)),n.push(new gt.MathNode("mtr",o))}let a=new gt.MathNode("mtable",n);const o=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);a.setAttribute("rowspacing",U(o));let s="",l="";if(e.cols&&e.cols.length>0){const t=e.cols;let n="",i=!1,r=0,o=t.length;"separator"===t[0].type&&(s+="top ",r=1),"separator"===t[t.length-1].type&&(s+="bottom ",o-=1);for(let e=r;e<o;e++)"align"===t[e].type?(l+=Hn[t[e].align],i&&(n+="none "),i=!0):"separator"===t[e].type&&i&&(n+="|"===t[e].separator?"solid ":"dashed ",i=!1);a.setAttribute("columnalign",l.trim()),/[sd]/.test(n)&&a.setAttribute("columnlines",n.trim())}if("align"===e.colSeparationType){const t=e.cols||[];let n="";for(let e=1;e<t.length;e++)n+=e%2?"0em ":"1em ";a.setAttribute("columnspacing",n.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?a.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?a.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?a.setAttribute("columnspacing","0.5em"):a.setAttribute("columnspacing","1em");let c="";const u=e.hLinesBeforeRow;s+=u[0].length>0?"left ":"",s+=u[u.length-1].length>0?"right ":"";for(let d=1;d<u.length-1;d++)c+=0===u[d].length?"none ":u[d][0]?"dashed ":"solid ";return/[sd]/.test(c)&&a.setAttribute("rowlines",c.trim()),""!==s&&(a=new gt.MathNode("menclose",[a]),a.setAttribute("notation",s.trim())),e.arraystretch&&e.arraystretch<1&&(a=new gt.MathNode("mstyle",[a]),a.setAttribute("scriptlevel","1")),a},Gn=function(e,t){-1===e.envName.indexOf("ed")&&On(e);const n=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a="split"===e.envName,o=Fn(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:zn(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display");let s,l=0;const c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){let e="";for(let n=0;n<t[0].body.length;n++)e+=Nt(t[0].body[n],"textord").text;s=Number(e),l=2*s}const u=!l;o.body.forEach(function(e){for(let t=1;t<e.length;t+=2){const n=Nt(e[t],"styling");Nt(n.body[0],"ordgroup").body.unshift(c)}if(u)l<e.length&&(l=e.length);else{const t=e.length/2;if(s<t)throw new i("Too many math in a row: expected "+s+", but got "+t,e[0])}});for(let i=0;i<l;++i){let e="r",t=0;i%2===1?e="l":i>0&&u&&(t=1),n[i]={type:"align",align:e,pregap:t,postgap:0}}return o.colSeparationType=u?"align":"alignat",o};kn({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){const n=(It(t[0])?[t[0]]:Nt(t[0],"ordgroup").body).map(function(e){const t=Dt(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new i("Unknown column alignment: "+t,e)}),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Fn(e.parser,r,Bn(e.envName))},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){const t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")];let n="c";const r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){const t=e.parser;if(t.consumeSpaces(),"["===t.fetch().text){if(t.consume(),t.consumeSpaces(),n=t.fetch().text,-1==="lcr".indexOf(n))throw new i("Expected l or c or r",t.nextToken);t.consume(),t.consumeSpaces(),t.expect("]"),t.consume(),r.cols=[{type:"align",align:n}]}}const a=Fn(e.parser,r,Bn(e.envName)),o=Math.max(0,...a.body.map(e=>e.length));return a.cols=new Array(o).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){const t=Fn(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){const n=(It(t[0])?[t[0]]:Nt(t[0],"ordgroup").body).map(function(e){const t=Dt(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new i("Unknown column alignment: "+t,e)});if(n.length>1)throw new i("{subarray} can contain only one column");let r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(r=Fn(e.parser,r,"script"),r.body.length>0&&r.body[0].length>1)throw new i("{subarray} can contain only one column");return r},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){const t=Fn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Bn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Gn,htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&On(e);const t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:zn(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Fn(e.parser,t,"display")},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Gn,htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){On(e);const t={autoTag:zn(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Fn(e.parser,t,"display")},htmlBuilder:Un,mathmlBuilder:Vn}),kn({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(On(e),function(e){const t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();const n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new i("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}let n=[];const r=[n];for(let a=0;a<t.length;a++){const o=t[a];let s=jt();for(let t=0;t<o.length;t++)if(qt(o[t])){n.push(s),t+=1;const r=Dt(o[t]).text,a=new Array(2);if(a[0]={type:"ordgroup",mode:"math",body:[]},a[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(r)>-1);else{if(!("<>AV".indexOf(r)>-1))throw new i('Expected one of "<>AV=|." after @',o[t]);for(let e=0;e<2;e++){let n=!0;for(let s=t+1;s<o.length;s++){if(Wt(o[s],r)){n=!1,t=s;break}if(qt(o[s]))throw new i("Missing a "+r+" character to complete a CD arrow.",o[s]);a[e].body.push(o[s])}if(n)throw new i("Missing a "+r+" character to complete a CD arrow.",o[t])}}const l={type:"styling",body:[Xt(r,a,e)],mode:"math",style:"display"};n.push(l),s=jt()}else s.body.push(o[t]);a%2===0?n.push(s):n.shift(),n=[],r.push(n)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}(e.parser)),htmlBuilder:Un,mathmlBuilder:Vn}),Nn("\\nonumber","\\gdef\\@eqnsw{0}"),Nn("\\notag","\\nonumber"),Ye({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new i(e.funcName+" valid only within array environment")}});var jn=Pn;Ye({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){let{parser:n,funcName:r}=e;const a=t[0];if("ordgroup"!==a.type)throw new i("Invalid environment name",a);let o="";for(let i=0;i<a.body.length;++i)o+=Nt(a.body[i],"textord").text;if("\\begin"===r){if(!jn.hasOwnProperty(o))throw new i("No such environment: "+o,a);const e=jn[o],{args:t,optArgs:r}=n.parseArguments("\\begin{"+o+"}",e),s={mode:n.mode,envName:o,parser:n},l=e.handler(s,t,r);n.expect("\\end",!1);const c=n.nextToken,u=Nt(n.parseFunction(),"environment");if(u.name!==o)throw new i("Mismatch: \\begin{"+o+"} matched by \\end{"+u.name+"}",c);return l}return{type:"environment",mode:n.mode,name:o,nameGroup:a}}});const qn=(e,t)=>{const n=e.font,i=t.withFont(n);return ut(e.body,i)},Wn=(e,t)=>{const n=e.font,i=t.withFont(n);return St(e.body,i)},Xn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ye({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=Ze(t[0]);let a=i;return a in Xn&&(a=Xn[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:qn,mathmlBuilder:Wn}),Ye({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{let{parser:n}=e;const i=t[0],r=l.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:Vt(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}}),Ye({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{let{parser:n,funcName:i,breakOnTokenText:r}=e;const{mode:a}=n,o=n.parseExpression(!0,r);return{type:"font",mode:a,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:qn,mathmlBuilder:Wn});const Kn=(e,t)=>{let n=t;return"display"===e?n=n.id>=x.SCRIPT.id?n.text():x.DISPLAY:"text"===e&&n.size===x.DISPLAY.size?n=x.TEXT:"script"===e?n=x.SCRIPT:"scriptscript"===e&&(n=x.SCRIPTSCRIPT),n},Yn=(e,t)=>{const n=Kn(e.size,t.style),i=n.fracNum(),r=n.fracDen();let a;a=t.havingStyle(i);const o=ut(e.numer,a,t);if(e.continued){const e=8.5/t.fontMetrics().ptPerEm,n=3.5/t.fontMetrics().ptPerEm;o.height=o.height<e?e:o.height,o.depth=o.depth<n?n:o.depth}a=t.havingStyle(r);const s=ut(e.denom,a,t);let l,c,u,d,h,p,m,f,g,y;if(e.hasBarLine?(e.barSize?(c=B(e.barSize,t),l=Ue.makeLineSpan("frac-line",t,c)):l=Ue.makeLineSpan("frac-line",t),c=l.height,u=l.height):(l=null,c=0,u=t.fontMetrics().defaultRuleThickness),n.size===x.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,h=c>0?3*u:7*u,p=t.fontMetrics().denom1):(c>0?(d=t.fontMetrics().num2,h=u):(d=t.fontMetrics().num3,h=3*u),p=t.fontMetrics().denom2),l){const e=t.fontMetrics().axisHeight;d-o.depth-(e+.5*c)<h&&(d+=h-(d-o.depth-(e+.5*c))),e-.5*c-(s.height-p)<h&&(p+=h-(e-.5*c-(s.height-p)));const n=-(e-.5*c);m=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:p},{type:"elem",elem:l,shift:n},{type:"elem",elem:o,shift:-d}]},t)}else{const e=d-o.depth-(s.height-p);e<h&&(d+=.5*(h-e),p+=.5*(h-e)),m=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:p},{type:"elem",elem:o,shift:-d}]},t)}return a=t.havingStyle(n),m.height*=a.sizeMultiplier/t.sizeMultiplier,m.depth*=a.sizeMultiplier/t.sizeMultiplier,f=n.size===x.DISPLAY.size?t.fontMetrics().delim1:n.size===x.SCRIPTSCRIPT.size?t.havingStyle(x.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,g=null==e.leftDelim?ct(t,["mopen"]):wn.customSizedDelim(e.leftDelim,f,!0,t.havingStyle(n),e.mode,["mopen"]),y=e.continued?Ue.makeSpan([]):null==e.rightDelim?ct(t,["mclose"]):wn.customSizedDelim(e.rightDelim,f,!0,t.havingStyle(n),e.mode,["mclose"]),Ue.makeSpan(["mord"].concat(a.sizingClasses(t)),[g,Ue.makeSpan(["mfrac"],[m]),y],t)},Qn=(e,t)=>{let n=new gt.MathNode("mfrac",[St(e.numer,t),St(e.denom,t)]);if(e.hasBarLine){if(e.barSize){const i=B(e.barSize,t);n.setAttribute("linethickness",U(i))}}else n.setAttribute("linethickness","0px");const i=Kn(e.size,t.style);if(i.size!==t.style.size){n=new gt.MathNode("mstyle",[n]);const e=i.size===x.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",e),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){const t=[];if(null!=e.leftDelim){const n=new gt.MathNode("mo",[new gt.TextNode(e.leftDelim.replace("\\",""))]);n.setAttribute("fence","true"),t.push(n)}if(t.push(n),null!=e.rightDelim){const n=new gt.MathNode("mo",[new gt.TextNode(e.rightDelim.replace("\\",""))]);n.setAttribute("fence","true"),t.push(n)}return vt(t)}return n};Ye({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=t[0],a=t[1];let o,s=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,s="(",l=")";break;case"\\\\bracefrac":o=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:o,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:Yn,mathmlBuilder:Qn}),Ye({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Ye({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){let t,{parser:n,funcName:i,token:r}=e;switch(i){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:r}}});const Zn=["display","text","script","scriptscript"],Jn=function(e){let t=null;return e.length>0&&(t=e,t="."===t?null:t),t};Ye({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){let{parser:n}=e;const i=t[4],r=t[5],a=Ze(t[0]),o="atom"===a.type&&"open"===a.family?Jn(a.text):null,s=Ze(t[1]),l="atom"===s.type&&"close"===s.family?Jn(s.text):null,c=Nt(t[2],"size");let u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);let h="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){const e=Nt(p.body[0],"textord");h=Zn[Number(e.text)]}}else p=Nt(p,"textord"),h=Zn[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:r,continued:!1,hasBarLine:u,barSize:d,leftDelim:o,rightDelim:l,size:h}},htmlBuilder:Yn,mathmlBuilder:Qn}),Ye({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){let{parser:n,funcName:i,token:r}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Nt(t[0],"size").value,token:r}}}),Ye({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=t[0],a=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Nt(t[1],"infix").size),o=t[2],s=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:s,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Yn,mathmlBuilder:Qn});const $n=(e,t)=>{const n=t.style;let i,r;"supsub"===e.type?(i=e.sup?ut(e.sup,t.havingStyle(n.sup()),t):ut(e.sub,t.havingStyle(n.sub()),t),r=Nt(e.base,"horizBrace")):r=Nt(e,"horizBrace");const a=ut(r.base,t.havingBaseStyle(x.DISPLAY)),o=Rt(r,t);let s;if(r.isOver?(s=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},t),s.children[0].children[0].children[1].classes.push("svg-align")):(s=Ue.makeVList({positionType:"bottom",positionData:a.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},t),s.children[0].children[0].children[0].classes.push("svg-align")),i){const e=Ue.makeSpan(["mord",r.isOver?"mover":"munder"],[s],t);s=r.isOver?Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:.2},{type:"elem",elem:i}]},t):Ue.makeVList({positionType:"bottom",positionData:e.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:e}]},t)}return Ue.makeSpan(["mord",r.isOver?"mover":"munder"],[s],t)};Ye({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){let{parser:n,funcName:i}=e;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:$n,mathmlBuilder:(e,t)=>{const n=kt(e.label);return new gt.MathNode(e.isOver?"mover":"munder",[St(e.base,t),n])}}),Ye({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;const i=t[1],r=Nt(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:Je(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{const n=rt(e.body,t,!1);return Ue.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{let n=wt(e.body,t);return n instanceof mt||(n=new mt("mrow",[n])),n.setAttribute("href",e.href),n}}),Ye({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;const i=Nt(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");const r=[];for(let o=0;o<i.length;o++){let e=i[o];"~"===e&&(e="\\textasciitilde"),r.push({type:"textord",mode:"text",text:e})}const a={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:Je(a)}}}),Ye({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){let{parser:n}=e;return{type:"hbox",mode:n.mode,body:Je(t[0])}},htmlBuilder(e,t){const n=rt(e.body,t,!1);return Ue.makeFragment(n)},mathmlBuilder:(e,t)=>new gt.MathNode("mrow",_t(e.body,t))}),Ye({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{let{parser:n,funcName:r,token:a}=e;const o=Nt(t[0],"raw").string,s=t[1];let l;n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");const c={};switch(r){case"\\htmlClass":c.class=o,l={command:"\\htmlClass",class:o};break;case"\\htmlId":c.id=o,l={command:"\\htmlId",id:o};break;case"\\htmlStyle":c.style=o,l={command:"\\htmlStyle",style:o};break;case"\\htmlData":{const e=o.split(",");for(let t=0;t<e.length;t++){const n=e[t],r=n.indexOf("=");if(r<0)throw new i("\\htmlData key/value '"+n+"' missing equals sign");const a=n.slice(0,r),o=n.slice(r+1);c["data-"+a.trim()]=o}l={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:c,body:Je(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{const n=rt(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));const r=Ue.makeSpan(i,n,t);for(const a in e.attributes)"class"!==a&&e.attributes.hasOwnProperty(a)&&r.setAttribute(a,e.attributes[a]);return r},mathmlBuilder:(e,t)=>wt(e.body,t)}),Ye({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Je(t[0]),mathml:Je(t[1])}},htmlBuilder:(e,t)=>{const n=rt(e.html,t,!1);return Ue.makeFragment(n)},mathmlBuilder:(e,t)=>wt(e.mathml,t)});const ei=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};{const t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new i("Invalid size: '"+e+"' in \\includegraphics");const n={number:+(t[1]+t[2]),unit:t[3]};if(!F(n))throw new i("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n}};Ye({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{let{parser:r}=e,a={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(n[0]){const e=Nt(n[0],"raw").string.split(",");for(let t=0;t<e.length;t++){const n=e[t].split("=");if(2===n.length){const e=n[1].trim();switch(n[0].trim()){case"alt":l=e;break;case"width":a=ei(e);break;case"height":o=ei(e);break;case"totalheight":s=ei(e);break;default:throw new i("Invalid key: '"+n[0]+"' in \\includegraphics.")}}}}const c=Nt(t[0],"url").url;return""===l&&(l=c,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:c})?{type:"includegraphics",mode:r.mode,alt:l,width:a,height:o,totalheight:s,src:c}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{const n=B(e.height,t);let i=0;e.totalheight.number>0&&(i=B(e.totalheight,t)-n);let r=0;e.width.number>0&&(r=B(e.width,t));const a={height:U(n+i)};r>0&&(a.width=U(r)),i>0&&(a.verticalAlign=U(-i));const o=new K(e.src,e.alt,a);return o.height=n,o.depth=i,o},mathmlBuilder:(e,t)=>{const n=new gt.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);const i=B(e.height,t);let r=0;if(e.totalheight.number>0&&(r=B(e.totalheight,t)-i,n.setAttribute("valign",U(-r))),n.setAttribute("height",U(i+r)),e.width.number>0){const i=B(e.width,t);n.setAttribute("width",U(i))}return n.setAttribute("src",e.src),n}}),Ye({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){let{parser:n,funcName:i}=e;const r=Nt(t[0],"size");if(n.settings.strict){const e="m"===i[1],t="mu"===r.value.unit;e?(t||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+r.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):t&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder:(e,t)=>Ue.makeGlue(e.dimension,t),mathmlBuilder(e,t){const n=B(e.dimension,t);return new gt.SpaceNode(n)}}),Ye({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:(e,t)=>{let n;"clap"===e.alignment?(n=Ue.makeSpan([],[ut(e.body,t)]),n=Ue.makeSpan(["inner"],[n],t)):n=Ue.makeSpan(["inner"],[ut(e.body,t)]);const i=Ue.makeSpan(["fix"],[]);let r=Ue.makeSpan([e.alignment],[n,i],t);const a=Ue.makeSpan(["strut"]);return a.style.height=U(r.height+r.depth),r.depth&&(a.style.verticalAlign=U(-r.depth)),r.children.unshift(a),r=Ue.makeSpan(["thinbox"],[r],t),Ue.makeSpan(["mord","vbox"],[r],t)},mathmlBuilder:(e,t)=>{const n=new gt.MathNode("mpadded",[St(e.body,t)]);if("rlap"!==e.alignment){const t="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",t+"width")}return n.setAttribute("width","0px"),n}}),Ye({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){let{funcName:n,parser:i}=e;const r=i.mode;i.switchMode("math");const a="\\("===n?"\\)":"$",o=i.parseExpression(!1,a);return i.expect(a),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:o}}}),Ye({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new i("Mismatched "+e.funcName)}});const ti=(e,t)=>{switch(t.style.size){case x.DISPLAY.size:return e.display;case x.TEXT.size:return e.text;case x.SCRIPT.size:return e.script;case x.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ye({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{let{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Je(t[0]),text:Je(t[1]),script:Je(t[2]),scriptscript:Je(t[3])}},htmlBuilder:(e,t)=>{const n=ti(e,t),i=rt(n,t,!1);return Ue.makeFragment(i)},mathmlBuilder:(e,t)=>{const n=ti(e,t);return wt(n,t)}});const ni=(e,t,n,i,r,a,o)=>{e=Ue.makeSpan([],[e]);const s=n&&l.isCharacterBox(n);let c,u,d;if(t){const e=ut(t,i.havingStyle(r.sup()),i);u={elem:e,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-e.depth)}}if(n){const e=ut(n,i.havingStyle(r.sub()),i);c={elem:e,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-e.height)}}if(u&&c){const t=i.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+o;d=Ue.makeVList({positionType:"bottom",positionData:t,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:U(-a)},{type:"kern",size:c.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:U(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(c){const t=e.height-o;d=Ue.makeVList({positionType:"top",positionData:t,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:U(-a)},{type:"kern",size:c.kern},{type:"elem",elem:e}]},i)}else{if(!u)return e;{const t=e.depth+o;d=Ue.makeVList({positionType:"bottom",positionData:t,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:U(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}}const h=[d];if(c&&0!==a&&!s){const e=Ue.makeSpan(["mspace"],[],i);e.style.marginRight=U(a),h.unshift(e)}return Ue.makeSpan(["mop","op-limits"],h,i)},ii=["\\smallint"],ri=(e,t)=>{let n,i,r,a=!1;"supsub"===e.type?(n=e.sup,i=e.sub,r=Nt(e.base,"op"),a=!0):r=Nt(e,"op");const o=t.style;let s,l=!1;if(o.size===x.DISPLAY.size&&r.symbol&&!ii.includes(r.name)&&(l=!0),r.symbol){const e=l?"Size2-Regular":"Size1-Regular";let n="";if("\\oiint"!==r.name&&"\\oiiint"!==r.name||(n=r.name.slice(1),r.name="oiint"===n?"\\iint":"\\iiint"),s=Ue.makeSymbol(r.name,e,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),n.length>0){const e=s.italic,i=Ue.staticSvg(n+"Size"+(l?"2":"1"),t);s=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:i,shift:l?.08:0}]},t),r.name="\\"+n,s.classes.unshift("mop"),s.italic=e}}else if(r.body){const e=rt(r.body,t,!0);1===e.length&&e[0]instanceof Q?(s=e[0],s.classes[0]="mop"):s=Ue.makeSpan(["mop"],e,t)}else{const e=[];for(let n=1;n<r.name.length;n++)e.push(Ue.mathsym(r.name[n],r.mode,t));s=Ue.makeSpan(["mop"],e,t)}let c=0,u=0;return(s instanceof Q||"\\oiint"===r.name||"\\oiiint"===r.name)&&!r.suppressBaseShift&&(c=(s.height-s.depth)/2-t.fontMetrics().axisHeight,u=s.italic),a?ni(s,n,i,t,o,u,c):(c&&(s.style.position="relative",s.style.top=U(c)),s)},ai=(e,t)=>{let n;if(e.symbol)n=new mt("mo",[yt(e.name,e.mode)]),ii.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new mt("mo",_t(e.body,t));else{n=new mt("mi",[new ft(e.name.slice(1))]);const t=new mt("mo",[yt("\u2061","text")]);n=e.parentIsSupSub?new mt("mrow",[n,t]):pt([n,t])}return n},oi={"\u220f":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22c0":"\\bigwedge","\u22c1":"\\bigvee","\u22c2":"\\bigcap","\u22c3":"\\bigcup","\u2a00":"\\bigodot","\u2a01":"\\bigoplus","\u2a02":"\\bigotimes","\u2a04":"\\biguplus","\u2a06":"\\bigsqcup"};Ye({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220f","\u2210","\u2211","\u22c0","\u22c1","\u22c2","\u22c3","\u2a00","\u2a01","\u2a02","\u2a04","\u2a06"],props:{numArgs:0},handler:(e,t)=>{let{parser:n,funcName:i}=e,r=i;return 1===r.length&&(r=oi[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ri,mathmlBuilder:ai}),Ye({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{let{parser:n}=e;const i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Je(i)}},htmlBuilder:ri,mathmlBuilder:ai});const si={"\u222b":"\\int","\u222c":"\\iint","\u222d":"\\iiint","\u222e":"\\oint","\u222f":"\\oiint","\u2230":"\\oiiint"};Ye({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){let{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ri,mathmlBuilder:ai}),Ye({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){let{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ri,mathmlBuilder:ai}),Ye({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222b","\u222c","\u222d","\u222e","\u222f","\u2230"],props:{numArgs:0,allowedInArgument:!0},handler(e){let{parser:t,funcName:n}=e,i=n;return 1===i.length&&(i=si[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ri,mathmlBuilder:ai});const li=(e,t)=>{let n,i,r,a,o=!1;if("supsub"===e.type?(n=e.sup,i=e.sub,r=Nt(e.base,"operatorname"),o=!0):r=Nt(e,"operatorname"),r.body.length>0){const e=r.body.map(e=>{const t=e.text;return"string"===typeof t?{type:"textord",mode:e.mode,text:t}:e}),n=rt(e,t.withFont("mathrm"),!0);for(let t=0;t<n.length;t++){const e=n[t];e instanceof Q&&(e.text=e.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Ue.makeSpan(["mop"],n,t)}else a=Ue.makeSpan(["mop"],[],t);return o?ni(a,n,i,t,t.style,0,0):a};function ci(e,t,n){const i=rt(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier;for(let a=0;a<i.length;a++){const e=i[a].classes.indexOf("sizing");e<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(n)):i[a].classes[e+1]==="reset-size"+t.size&&(i[a].classes[e+1]="reset-size"+n.size),i[a].height*=r,i[a].depth*=r}return Ue.makeFragment(i)}Ye({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{let{parser:n,funcName:i}=e;const r=t[0];return{type:"operatorname",mode:n.mode,body:Je(r),alwaysHandleSupSub:"\\operatornamewithlimits"===i,limits:!1,parentIsSupSub:!1}},htmlBuilder:li,mathmlBuilder:(e,t)=>{let n=_t(e.body,t.withFont("mathrm")),i=!0;for(let o=0;o<n.length;o++){const e=n[o];if(e instanceof gt.SpaceNode);else if(e instanceof gt.MathNode)switch(e.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const t=e.children[0];1===e.children.length&&t instanceof gt.TextNode?t.text=t.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){const e=n.map(e=>e.toText()).join("");n=[new gt.TextNode(e)]}const r=new gt.MathNode("mi",n);r.setAttribute("mathvariant","normal");const a=new gt.MathNode("mo",[yt("\u2061","text")]);return e.parentIsSupSub?new gt.MathNode("mrow",[r,a]):gt.newDocumentFragment([r,a])}}),Nn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Qe({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Ue.makeFragment(rt(e.body,t,!1)):Ue.makeSpan(["mord"],rt(e.body,t,!0),t),mathmlBuilder:(e,t)=>wt(e.body,t,!0)}),Ye({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){let{parser:n}=e;const i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(e,t){const n=ut(e.body,t.havingCrampedStyle()),i=Ue.makeLineSpan("overline-line",t),r=t.fontMetrics().defaultRuleThickness,a=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},t);return Ue.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){const n=new gt.MathNode("mo",[new gt.TextNode("\u203e")]);n.setAttribute("stretchy","true");const i=new gt.MathNode("mover",[St(e.body,t),n]);return i.setAttribute("accent","true"),i}}),Ye({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;const i=t[0];return{type:"phantom",mode:n.mode,body:Je(i)}},htmlBuilder:(e,t)=>{const n=rt(e.body,t.withPhantom(),!1);return Ue.makeFragment(n)},mathmlBuilder:(e,t)=>{const n=_t(e.body,t);return new gt.MathNode("mphantom",n)}}),Ye({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;const i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{let n=Ue.makeSpan([],[ut(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(let i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Ue.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{const n=_t(Je(e.body),t),i=new gt.MathNode("mphantom",n),r=new gt.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}}),Ye({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;const i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{const n=Ue.makeSpan(["inner"],[ut(e.body,t.withPhantom())]),i=Ue.makeSpan(["fix"],[]);return Ue.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:(e,t)=>{const n=_t(Je(e.body),t),i=new gt.MathNode("mphantom",n),r=new gt.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}}),Ye({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){let{parser:n}=e;const i=Nt(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder(e,t){const n=ut(e.body,t),i=B(e.dy,t);return Ue.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){const n=new gt.MathNode("mpadded",[St(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),Ye({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){let{parser:t}=e;return{type:"internal",mode:t.mode}}}),Ye({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){let{parser:i}=e;const r=n[0],a=Nt(t[0],"size"),o=Nt(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&Nt(r,"size").value,width:a.value,height:o.value}},htmlBuilder(e,t){const n=Ue.makeSpan(["mord","rule"],[],t),i=B(e.width,t),r=B(e.height,t),a=e.shift?B(e.shift,t):0;return n.style.borderRightWidth=U(i),n.style.borderTopWidth=U(r),n.style.bottom=U(a),n.width=i,n.height=r+a,n.depth=-a,n.maxFontSize=1.125*r*t.sizeMultiplier,n},mathmlBuilder(e,t){const n=B(e.width,t),i=B(e.height,t),r=e.shift?B(e.shift,t):0,a=t.color&&t.getColor()||"black",o=new gt.MathNode("mspace");o.setAttribute("mathbackground",a),o.setAttribute("width",U(n)),o.setAttribute("height",U(i));const s=new gt.MathNode("mpadded",[o]);return r>=0?s.setAttribute("height",U(r)):(s.setAttribute("height",U(r)),s.setAttribute("depth",U(-r))),s.setAttribute("voffset",U(r)),s}});const ui=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ye({type:"sizing",names:ui,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{let{breakOnTokenText:n,funcName:i,parser:r}=e;const a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:ui.indexOf(i)+1,body:a}},htmlBuilder:(e,t)=>{const n=t.havingSize(e.size);return ci(e.body,n,t)},mathmlBuilder:(e,t)=>{const n=t.havingSize(e.size),i=_t(e.body,n),r=new gt.MathNode("mstyle",i);return r.setAttribute("mathsize",U(n.sizeMultiplier)),r}}),Ye({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{let{parser:i}=e,r=!1,a=!1;const o=n[0]&&Nt(n[0],"ordgroup");if(o){let e="";for(let t=0;t<o.body.length;++t)if(e=o.body[t].text,"t"===e)r=!0;else{if("b"!==e){r=!1,a=!1;break}a=!0}}else r=!0,a=!0;const s=t[0];return{type:"smash",mode:i.mode,body:s,smashHeight:r,smashDepth:a}},htmlBuilder:(e,t)=>{const n=Ue.makeSpan([],[ut(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(let r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(let r=0;r<n.children.length;r++)n.children[r].depth=0;const i=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Ue.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{const n=new gt.MathNode("mpadded",[St(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),Ye({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){let{parser:i}=e;const r=n[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:r}},htmlBuilder(e,t){let n=ut(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Ue.wrapFragment(n,t);const i=t.fontMetrics().defaultRuleThickness;let r=i;t.style.id<x.TEXT.id&&(r=t.fontMetrics().xHeight);let a=i+r/4;const o=n.height+n.depth+a+i,{span:s,ruleWidth:l,advanceWidth:c}=wn.sqrtImage(o,t),u=s.height-l;u>n.height+n.depth+a&&(a=(a+u-n.height-n.depth)/2);const d=s.height-n.height-a-l;n.style.paddingLeft=U(c);const h=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){const n=t.havingStyle(x.SCRIPTSCRIPT),i=ut(e.index,n,t),r=.6*(h.height-h.depth),a=Ue.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:i}]},t),o=Ue.makeSpan(["root"],[a]);return Ue.makeSpan(["mord","sqrt"],[o,h],t)}return Ue.makeSpan(["mord","sqrt"],[h],t)},mathmlBuilder(e,t){const{body:n,index:i}=e;return i?new gt.MathNode("mroot",[St(n,t),St(i,t)]):new gt.MathNode("msqrt",[St(n,t)])}});const di={display:x.DISPLAY,text:x.TEXT,script:x.SCRIPT,scriptscript:x.SCRIPTSCRIPT};Ye({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){let{breakOnTokenText:n,funcName:i,parser:r}=e;const a=r.parseExpression(!0,n),o=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:o,body:a}},htmlBuilder(e,t){const n=di[e.style],i=t.havingStyle(n).withFont("");return ci(e.body,i,t)},mathmlBuilder(e,t){const n=di[e.style],i=t.havingStyle(n),r=_t(e.body,i),a=new gt.MathNode("mstyle",r),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}}),Qe({type:"supsub",htmlBuilder(e,t){const n=function(e,t){const n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===x.DISPLAY.size||n.alwaysHandleSupSub)?ri:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===x.DISPLAY.size||n.limits)?li:null:"accent"===n.type?l.isCharacterBox(n.base)?Lt:null:"horizBrace"===n.type&&!e.sub===n.isOver?$n:null:null}(e,t);if(n)return n(e,t);const{base:i,sup:r,sub:a}=e,o=ut(i,t);let s,c;const u=t.fontMetrics();let d=0,h=0;const p=i&&l.isCharacterBox(i);if(r){const e=t.havingStyle(t.style.sup());s=ut(r,e,t),p||(d=o.height-e.fontMetrics().supDrop*e.sizeMultiplier/t.sizeMultiplier)}if(a){const e=t.havingStyle(t.style.sub());c=ut(a,e,t),p||(h=o.depth+e.fontMetrics().subDrop*e.sizeMultiplier/t.sizeMultiplier)}let m;m=t.style===x.DISPLAY?u.sup1:t.style.cramped?u.sup3:u.sup2;const f=t.sizeMultiplier,g=U(.5/u.ptPerEm/f);let y,v=null;if(c){const t=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(o instanceof Q||t)&&(v=U(-o.italic))}if(s&&c){d=Math.max(d,m,s.depth+.25*u.xHeight),h=Math.max(h,u.sub2);const e=4*u.defaultRuleThickness;if(d-s.depth-(c.height-h)<e){h=e-(d-s.depth)+c.height;const t=.8*u.xHeight-(d-s.depth);t>0&&(d+=t,h-=t)}const n=[{type:"elem",elem:c,shift:h,marginRight:g,marginLeft:v},{type:"elem",elem:s,shift:-d,marginRight:g}];y=Ue.makeVList({positionType:"individualShift",children:n},t)}else if(c){h=Math.max(h,u.sub1,c.height-.8*u.xHeight);const e=[{type:"elem",elem:c,marginLeft:v,marginRight:g}];y=Ue.makeVList({positionType:"shift",positionData:h,children:e},t)}else{if(!s)throw new Error("supsub must have either sup or sub.");d=Math.max(d,m,s.depth+.25*u.xHeight),y=Ue.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:s,marginRight:g}]},t)}const b=lt(o,"right")||"mord";return Ue.makeSpan([b],[o,Ue.makeSpan(["msupsub"],[y])],t)},mathmlBuilder(e,t){let n,i,r=!1;e.base&&"horizBrace"===e.base.type&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);const a=[St(e.base,t)];let o;if(e.sub&&a.push(St(e.sub,t)),e.sup&&a.push(St(e.sup,t)),r)o=n?"mover":"munder";else if(e.sub)if(e.sup){const n=e.base;o=n&&"op"===n.type&&n.limits&&t.style===x.DISPLAY||n&&"operatorname"===n.type&&n.alwaysHandleSupSub&&(t.style===x.DISPLAY||n.limits)?"munderover":"msubsup"}else{const n=e.base;o=n&&"op"===n.type&&n.limits&&(t.style===x.DISPLAY||n.alwaysHandleSupSub)||n&&"operatorname"===n.type&&n.alwaysHandleSupSub&&(n.limits||t.style===x.DISPLAY)?"munder":"msub"}else{const n=e.base;o=n&&"op"===n.type&&n.limits&&(t.style===x.DISPLAY||n.alwaysHandleSupSub)||n&&"operatorname"===n.type&&n.alwaysHandleSupSub&&(n.limits||t.style===x.DISPLAY)?"mover":"msup"}return new gt.MathNode(o,a)}}),Qe({type:"atom",htmlBuilder:(e,t)=>Ue.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){const n=new gt.MathNode("mo",[yt(e.text,e.mode)]);if("bin"===e.family){const i=bt(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});const hi={mi:"italic",mn:"normal",mtext:"normal"};Qe({type:"mathord",htmlBuilder:(e,t)=>Ue.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){const n=new gt.MathNode("mi",[yt(e.text,e.mode,t)]),i=bt(e,t)||"italic";return i!==hi[n.type]&&n.setAttribute("mathvariant",i),n}}),Qe({type:"textord",htmlBuilder:(e,t)=>Ue.makeOrd(e,t,"textord"),mathmlBuilder(e,t){const n=yt(e.text,e.mode,t),i=bt(e,t)||"normal";let r;return r="text"===e.mode?new gt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new gt.MathNode("mn",[n]):"\\prime"===e.text?new gt.MathNode("mo",[n]):new gt.MathNode("mi",[n]),i!==hi[r.type]&&r.setAttribute("mathvariant",i),r}});const pi={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},mi={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qe({type:"spacing",htmlBuilder(e,t){if(mi.hasOwnProperty(e.text)){const n=mi[e.text].className||"";if("text"===e.mode){const i=Ue.makeOrd(e,t,"textord");return i.classes.push(n),i}return Ue.makeSpan(["mspace",n],[Ue.mathsym(e.text,e.mode,t)],t)}if(pi.hasOwnProperty(e.text))return Ue.makeSpan(["mspace",pi[e.text]],[],t);throw new i('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){let n;if(!mi.hasOwnProperty(e.text)){if(pi.hasOwnProperty(e.text))return new gt.MathNode("mspace");throw new i('Unknown type of space "'+e.text+'"')}return n=new gt.MathNode("mtext",[new gt.TextNode("\xa0")]),n}});const fi=()=>{const e=new gt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Qe({type:"tag",mathmlBuilder(e,t){const n=new gt.MathNode("mtable",[new gt.MathNode("mtr",[fi(),new gt.MathNode("mtd",[wt(e.body,t)]),fi(),new gt.MathNode("mtd",[wt(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});const gi={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},yi={"\\textbf":"textbf","\\textmd":"textmd"},vi={"\\textit":"textit","\\textup":"textup"},bi=(e,t)=>{const n=e.font;return n?gi[n]?t.withTextFontFamily(gi[n]):yi[n]?t.withTextFontWeight(yi[n]):"\\emph"===n?"textit"===t.fontShape?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(vi[n]):t};Ye({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){let{parser:n,funcName:i}=e;const r=t[0];return{type:"text",mode:n.mode,body:Je(r),font:i}},htmlBuilder(e,t){const n=bi(e,t),i=rt(e.body,n,!0);return Ue.makeSpan(["mord","text"],i,n)},mathmlBuilder(e,t){const n=bi(e,t);return wt(e.body,n)}}),Ye({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){let{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){const n=ut(e.body,t),i=Ue.makeLineSpan("underline-line",t),r=t.fontMetrics().defaultRuleThickness,a=Ue.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n}]},t);return Ue.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){const n=new gt.MathNode("mo",[new gt.TextNode("\u203e")]);n.setAttribute("stretchy","true");const i=new gt.MathNode("munder",[St(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),Ye({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){let{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){const n=ut(e.body,t),i=t.fontMetrics().axisHeight,r=.5*(n.height-i-(n.depth+i));return Ue.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new gt.MathNode("mpadded",[St(e.body,t)],["vcenter"])}),Ye({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new i("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){const n=xi(e),i=[],r=t.havingStyle(t.style.text());for(let a=0;a<n.length;a++){let t=n[a];"~"===t&&(t="\\textasciitilde"),i.push(Ue.makeSymbol(t,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return Ue.makeSpan(["mord","text"].concat(r.sizingClasses(t)),Ue.tryCombineChars(i),r)},mathmlBuilder(e,t){const n=new gt.TextNode(xi(e)),i=new gt.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});const xi=e=>e.body.replace(/ /g,e.star?"\u2423":"\xa0");var _i=We;const wi="[ \r\n\t]",Si="(\\\\[a-zA-Z@]+)"+wi+"*",Mi="[\u0300-\u036f]",Ai=new RegExp(Mi+"+$"),Ti="("+wi+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff]"+Mi+"*|[\ud800-\udbff][\udc00-\udfff]"+Mi+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Si+"|\\\\[^\ud800-\udfff])";class Ei{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Ti,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){const e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new In("EOF",new Dn(this,t,t));const n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new i("Unexpected character: '"+e[t]+"'",new In(e[t],new Dn(this,t,t+1)));const r=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[r]){const t=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===t?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=t+1,this.lex()}return new In(r,new Dn(this,t,this.tokenRegex.lastIndex))}}class Ci{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new i("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const e=this.undefStack.pop();for(const t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(let t=0;t<this.undefStack.length;t++)delete this.undefStack[t][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{const t=this.undefStack[this.undefStack.length-1];t&&!t.hasOwnProperty(e)&&(t[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var Pi=Rn;Nn("\\noexpand",function(e){const t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Nn("\\expandafter",function(e){const t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Nn("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Nn("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Nn("\\@ifnextchar",function(e){const t=e.consumeArgs(3);e.consumeSpaces();const n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Nn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Nn("\\TextOrMath",function(e){const t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});const ki={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Nn("\\char",function(e){let t,n=e.popToken(),r="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if(n=e.popToken(),"\\"===n.text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new i("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if(r=ki[n.text],null==r||r>=t)throw new i("Invalid base-"+t+" digit "+n.text);let a;for(;null!=(a=ki[e.future().text])&&a<t;)r*=t,r+=a,e.popToken()}return"\\@char{"+r+"}"});const Ri=(e,t,n,r)=>{let a=e.consumeArg().tokens;if(1!==a.length)throw new i("\\newcommand's first argument must be a macro name");const o=a[0].text,s=e.isDefined(o);if(s&&!t)throw new i("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!s&&!n)throw new i("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");let l=0;if(a=e.consumeArg().tokens,1===a.length&&"["===a[0].text){let t="",n=e.expandNextToken();for(;"]"!==n.text&&"EOF"!==n.text;)t+=n.text,n=e.expandNextToken();if(!t.match(/^\s*[0-9]+\s*$/))throw new i("Invalid number of arguments: "+t);l=parseInt(t),a=e.consumeArg().tokens}return s&&r||e.macros.set(o,{tokens:a,numArgs:l}),""};Nn("\\newcommand",e=>Ri(e,!1,!0,!1)),Nn("\\renewcommand",e=>Ri(e,!0,!1,!1)),Nn("\\providecommand",e=>Ri(e,!0,!0,!0)),Nn("\\message",e=>{const t=e.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""}),Nn("\\errmessage",e=>{const t=e.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""}),Nn("\\show",e=>{const t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),_i[n],re.math[n],re.text[n]),""}),Nn("\\bgroup","{"),Nn("\\egroup","}"),Nn("~","\\nobreakspace"),Nn("\\lq","`"),Nn("\\rq","'"),Nn("\\aa","\\r a"),Nn("\\AA","\\r A"),Nn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xa9}"),Nn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Nn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xae}"),Nn("\u212c","\\mathscr{B}"),Nn("\u2130","\\mathscr{E}"),Nn("\u2131","\\mathscr{F}"),Nn("\u210b","\\mathscr{H}"),Nn("\u2110","\\mathscr{I}"),Nn("\u2112","\\mathscr{L}"),Nn("\u2133","\\mathscr{M}"),Nn("\u211b","\\mathscr{R}"),Nn("\u212d","\\mathfrak{C}"),Nn("\u210c","\\mathfrak{H}"),Nn("\u2128","\\mathfrak{Z}"),Nn("\\Bbbk","\\Bbb{k}"),Nn("\xb7","\\cdotp"),Nn("\\llap","\\mathllap{\\textrm{#1}}"),Nn("\\rlap","\\mathrlap{\\textrm{#1}}"),Nn("\\clap","\\mathclap{\\textrm{#1}}"),Nn("\\mathstrut","\\vphantom{(}"),Nn("\\underbar","\\underline{\\text{#1}}"),Nn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Nn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),Nn("\\ne","\\neq"),Nn("\u2260","\\neq"),Nn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),Nn("\u2209","\\notin"),Nn("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),Nn("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),Nn("\u225a","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225a}}"),Nn("\u225b","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225b}}"),Nn("\u225d","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225d}}"),Nn("\u225e","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225e}}"),Nn("\u225f","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225f}}"),Nn("\u27c2","\\perp"),Nn("\u203c","\\mathclose{!\\mkern-0.8mu!}"),Nn("\u220c","\\notni"),Nn("\u231c","\\ulcorner"),Nn("\u231d","\\urcorner"),Nn("\u231e","\\llcorner"),Nn("\u231f","\\lrcorner"),Nn("\xa9","\\copyright"),Nn("\xae","\\textregistered"),Nn("\ufe0f","\\textregistered"),Nn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Nn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Nn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Nn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Nn("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),Nn("\u22ee","\\vdots"),Nn("\\varGamma","\\mathit{\\Gamma}"),Nn("\\varDelta","\\mathit{\\Delta}"),Nn("\\varTheta","\\mathit{\\Theta}"),Nn("\\varLambda","\\mathit{\\Lambda}"),Nn("\\varXi","\\mathit{\\Xi}"),Nn("\\varPi","\\mathit{\\Pi}"),Nn("\\varSigma","\\mathit{\\Sigma}"),Nn("\\varUpsilon","\\mathit{\\Upsilon}"),Nn("\\varPhi","\\mathit{\\Phi}"),Nn("\\varPsi","\\mathit{\\Psi}"),Nn("\\varOmega","\\mathit{\\Omega}"),Nn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Nn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Nn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Nn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Nn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Nn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),Nn("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),Nn("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const Ni={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Nn("\\dots",function(e){let t="\\dotso";const n=e.expandAfterFuture().text;return n in Ni?t=Ni[n]:("\\not"===n.slice(0,4)||n in re.math&&["bin","rel"].includes(re.math[n].group))&&(t="\\dotsb"),t});const Di={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Nn("\\dotso",function(e){return e.future().text in Di?"\\ldots\\,":"\\ldots"}),Nn("\\dotsc",function(e){const t=e.future().text;return t in Di&&","!==t?"\\ldots\\,":"\\ldots"}),Nn("\\cdots",function(e){return e.future().text in Di?"\\@cdots\\,":"\\@cdots"}),Nn("\\dotsb","\\cdots"),Nn("\\dotsm","\\cdots"),Nn("\\dotsi","\\!\\cdots"),Nn("\\dotsx","\\ldots\\,"),Nn("\\DOTSI","\\relax"),Nn("\\DOTSB","\\relax"),Nn("\\DOTSX","\\relax"),Nn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Nn("\\,","\\tmspace+{3mu}{.1667em}"),Nn("\\thinspace","\\,"),Nn("\\>","\\mskip{4mu}"),Nn("\\:","\\tmspace+{4mu}{.2222em}"),Nn("\\medspace","\\:"),Nn("\\;","\\tmspace+{5mu}{.2777em}"),Nn("\\thickspace","\\;"),Nn("\\!","\\tmspace-{3mu}{.1667em}"),Nn("\\negthinspace","\\!"),Nn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Nn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Nn("\\enspace","\\kern.5em "),Nn("\\enskip","\\hskip.5em\\relax"),Nn("\\quad","\\hskip1em\\relax"),Nn("\\qquad","\\hskip2em\\relax"),Nn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Nn("\\tag@paren","\\tag@literal{({#1})}"),Nn("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new i("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Nn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Nn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Nn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Nn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Nn("\\newline","\\\\\\relax"),Nn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const Ii=U(T["Main-Regular"]["T".charCodeAt(0)][1]-.7*T["Main-Regular"]["A".charCodeAt(0)][1]);Nn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Ii+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Nn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Ii+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Nn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Nn("\\@hspace","\\hskip #1\\relax"),Nn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Nn("\\ordinarycolon",":"),Nn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Nn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Nn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Nn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Nn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Nn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Nn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Nn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Nn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Nn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Nn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Nn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Nn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Nn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Nn("\u2237","\\dblcolon"),Nn("\u2239","\\eqcolon"),Nn("\u2254","\\coloneqq"),Nn("\u2255","\\eqqcolon"),Nn("\u2a74","\\Coloneqq"),Nn("\\ratio","\\vcentcolon"),Nn("\\coloncolon","\\dblcolon"),Nn("\\colonequals","\\coloneqq"),Nn("\\coloncolonequals","\\Coloneqq"),Nn("\\equalscolon","\\eqqcolon"),Nn("\\equalscoloncolon","\\Eqqcolon"),Nn("\\colonminus","\\coloneq"),Nn("\\coloncolonminus","\\Coloneq"),Nn("\\minuscolon","\\eqcolon"),Nn("\\minuscoloncolon","\\Eqcolon"),Nn("\\coloncolonapprox","\\Colonapprox"),Nn("\\coloncolonsim","\\Colonsim"),Nn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Nn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Nn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Nn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Nn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220c}}"),Nn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Nn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Nn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Nn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Nn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Nn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Nn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Nn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Nn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),Nn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),Nn("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),Nn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),Nn("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),Nn("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),Nn("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),Nn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),Nn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),Nn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),Nn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228a}"),Nn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2acb}"),Nn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228b}"),Nn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2acc}"),Nn("\\imath","\\html@mathml{\\@imath}{\u0131}"),Nn("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),Nn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27e6}}"),Nn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27e7}}"),Nn("\u27e6","\\llbracket"),Nn("\u27e7","\\rrbracket"),Nn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),Nn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),Nn("\u2983","\\lBrace"),Nn("\u2984","\\rBrace"),Nn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29b5}}"),Nn("\u29b5","\\minuso"),Nn("\\darr","\\downarrow"),Nn("\\dArr","\\Downarrow"),Nn("\\Darr","\\Downarrow"),Nn("\\lang","\\langle"),Nn("\\rang","\\rangle"),Nn("\\uarr","\\uparrow"),Nn("\\uArr","\\Uparrow"),Nn("\\Uarr","\\Uparrow"),Nn("\\N","\\mathbb{N}"),Nn("\\R","\\mathbb{R}"),Nn("\\Z","\\mathbb{Z}"),Nn("\\alef","\\aleph"),Nn("\\alefsym","\\aleph"),Nn("\\Alpha","\\mathrm{A}"),Nn("\\Beta","\\mathrm{B}"),Nn("\\bull","\\bullet"),Nn("\\Chi","\\mathrm{X}"),Nn("\\clubs","\\clubsuit"),Nn("\\cnums","\\mathbb{C}"),Nn("\\Complex","\\mathbb{C}"),Nn("\\Dagger","\\ddagger"),Nn("\\diamonds","\\diamondsuit"),Nn("\\empty","\\emptyset"),Nn("\\Epsilon","\\mathrm{E}"),Nn("\\Eta","\\mathrm{H}"),Nn("\\exist","\\exists"),Nn("\\harr","\\leftrightarrow"),Nn("\\hArr","\\Leftrightarrow"),Nn("\\Harr","\\Leftrightarrow"),Nn("\\hearts","\\heartsuit"),Nn("\\image","\\Im"),Nn("\\infin","\\infty"),Nn("\\Iota","\\mathrm{I}"),Nn("\\isin","\\in"),Nn("\\Kappa","\\mathrm{K}"),Nn("\\larr","\\leftarrow"),Nn("\\lArr","\\Leftarrow"),Nn("\\Larr","\\Leftarrow"),Nn("\\lrarr","\\leftrightarrow"),Nn("\\lrArr","\\Leftrightarrow"),Nn("\\Lrarr","\\Leftrightarrow"),Nn("\\Mu","\\mathrm{M}"),Nn("\\natnums","\\mathbb{N}"),Nn("\\Nu","\\mathrm{N}"),Nn("\\Omicron","\\mathrm{O}"),Nn("\\plusmn","\\pm"),Nn("\\rarr","\\rightarrow"),Nn("\\rArr","\\Rightarrow"),Nn("\\Rarr","\\Rightarrow"),Nn("\\real","\\Re"),Nn("\\reals","\\mathbb{R}"),Nn("\\Reals","\\mathbb{R}"),Nn("\\Rho","\\mathrm{P}"),Nn("\\sdot","\\cdot"),Nn("\\sect","\\S"),Nn("\\spades","\\spadesuit"),Nn("\\sub","\\subset"),Nn("\\sube","\\subseteq"),Nn("\\supe","\\supseteq"),Nn("\\Tau","\\mathrm{T}"),Nn("\\thetasym","\\vartheta"),Nn("\\weierp","\\wp"),Nn("\\Zeta","\\mathrm{Z}"),Nn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Nn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Nn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Nn("\\bra","\\mathinner{\\langle{#1}|}"),Nn("\\ket","\\mathinner{|{#1}\\rangle}"),Nn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Nn("\\Bra","\\left\\langle#1\\right|"),Nn("\\Ket","\\left|#1\\right\\rangle");const Li=e=>t=>{const n=t.consumeArg().tokens,i=t.consumeArg().tokens,r=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();const l=t=>n=>{e&&(n.macros.set("|",o),r.length&&n.macros.set("\\|",s));let a=t;return!t&&r.length&&"|"===n.future().text&&(n.popToken(),a=!0),{tokens:a?r:i,numArgs:0}};t.macros.set("|",l(!1)),r.length&&t.macros.set("\\|",l(!0));const c=t.consumeArg().tokens,u=t.expandTokens([...a,...c,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};Nn("\\bra@ket",Li(!1)),Nn("\\bra@set",Li(!0)),Nn("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Nn("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Nn("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Nn("\\angln","{\\angl n}"),Nn("\\blue","\\textcolor{##6495ed}{#1}"),Nn("\\orange","\\textcolor{##ffa500}{#1}"),Nn("\\pink","\\textcolor{##ff00af}{#1}"),Nn("\\red","\\textcolor{##df0030}{#1}"),Nn("\\green","\\textcolor{##28ae7b}{#1}"),Nn("\\gray","\\textcolor{gray}{#1}"),Nn("\\purple","\\textcolor{##9d38bd}{#1}"),Nn("\\blueA","\\textcolor{##ccfaff}{#1}"),Nn("\\blueB","\\textcolor{##80f6ff}{#1}"),Nn("\\blueC","\\textcolor{##63d9ea}{#1}"),Nn("\\blueD","\\textcolor{##11accd}{#1}"),Nn("\\blueE","\\textcolor{##0c7f99}{#1}"),Nn("\\tealA","\\textcolor{##94fff5}{#1}"),Nn("\\tealB","\\textcolor{##26edd5}{#1}"),Nn("\\tealC","\\textcolor{##01d1c1}{#1}"),Nn("\\tealD","\\textcolor{##01a995}{#1}"),Nn("\\tealE","\\textcolor{##208170}{#1}"),Nn("\\greenA","\\textcolor{##b6ffb0}{#1}"),Nn("\\greenB","\\textcolor{##8af281}{#1}"),Nn("\\greenC","\\textcolor{##74cf70}{#1}"),Nn("\\greenD","\\textcolor{##1fab54}{#1}"),Nn("\\greenE","\\textcolor{##0d923f}{#1}"),Nn("\\goldA","\\textcolor{##ffd0a9}{#1}"),Nn("\\goldB","\\textcolor{##ffbb71}{#1}"),Nn("\\goldC","\\textcolor{##ff9c39}{#1}"),Nn("\\goldD","\\textcolor{##e07d10}{#1}"),Nn("\\goldE","\\textcolor{##a75a05}{#1}"),Nn("\\redA","\\textcolor{##fca9a9}{#1}"),Nn("\\redB","\\textcolor{##ff8482}{#1}"),Nn("\\redC","\\textcolor{##f9685d}{#1}"),Nn("\\redD","\\textcolor{##e84d39}{#1}"),Nn("\\redE","\\textcolor{##bc2612}{#1}"),Nn("\\maroonA","\\textcolor{##ffbde0}{#1}"),Nn("\\maroonB","\\textcolor{##ff92c6}{#1}"),Nn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Nn("\\maroonD","\\textcolor{##ca337c}{#1}"),Nn("\\maroonE","\\textcolor{##9e034e}{#1}"),Nn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Nn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Nn("\\purpleC","\\textcolor{##aa87ff}{#1}"),Nn("\\purpleD","\\textcolor{##7854ab}{#1}"),Nn("\\purpleE","\\textcolor{##543b78}{#1}"),Nn("\\mintA","\\textcolor{##f5f9e8}{#1}"),Nn("\\mintB","\\textcolor{##edf2df}{#1}"),Nn("\\mintC","\\textcolor{##e0e5cc}{#1}"),Nn("\\grayA","\\textcolor{##f6f7f7}{#1}"),Nn("\\grayB","\\textcolor{##f0f1f2}{#1}"),Nn("\\grayC","\\textcolor{##e3e5e6}{#1}"),Nn("\\grayD","\\textcolor{##d6d8da}{#1}"),Nn("\\grayE","\\textcolor{##babec2}{#1}"),Nn("\\grayF","\\textcolor{##888d93}{#1}"),Nn("\\grayG","\\textcolor{##626569}{#1}"),Nn("\\grayH","\\textcolor{##3b3e40}{#1}"),Nn("\\grayI","\\textcolor{##21242c}{#1}"),Nn("\\kaBlue","\\textcolor{##314453}{#1}"),Nn("\\kaGreen","\\textcolor{##71B307}{#1}");const Oi={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class zi{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Ci(Pi,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new Ei(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){let t,n,i;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:i,end:n}=this.consumeArg(["]"]))}else({tokens:i,start:t,end:n}=this.consumeArg());return this.pushToken(new In("EOF",n.loc)),this.pushTokens(i),new In("",Dn.range(t,n))}consumeSpaces(){for(;" "===this.future().text;)this.stack.pop()}consumeArg(e){const t=[],n=e&&e.length>0;n||this.consumeSpaces();const r=this.future();let a,o=0,s=0;do{if(a=this.popToken(),t.push(a),"{"===a.text)++o;else if("}"===a.text){if(--o,-1===o)throw new i("Extra }",a)}else if("EOF"===a.text)throw new i("Unexpected end of input in a macro argument, expected '"+(e&&n?e[s]:"}")+"'",a);if(e&&n)if((0===o||1===o&&"{"===e[s])&&a.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(0!==o||n);return"{"===r.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:a}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new i("The length of delimiters doesn't match the number of args!");const n=t[0];for(let e=0;e<n.length;e++){const t=this.popToken();if(n[e]!==t.text)throw new i("Use of the macro doesn't match its definition",t)}}const n=[];for(let i=0;i<e;i++)n.push(this.consumeArg(t&&t[i+1]).tokens);return n}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new i("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){const t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(null==r||e&&r.unexpandable){if(e&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new i("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);let a=r.tokens;const o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(let e=a.length-1;e>=0;--e){let t=a[e];if("#"===t.text){if(0===e)throw new i("Incomplete placeholder at end of macro body",t);if(t=a[--e],"#"===t.text)a.splice(e+1,1);else{if(!/^[1-9]$/.test(t.text))throw new i("Not a valid argument number",t);a.splice(e,2,...o[+t.text-1])}}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){const e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new In(e)]):void 0}expandTokens(e){const t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(!1===this.expandOnce(!0)){const e=this.stack.pop();e.treatAsRelax&&(e.noexpand=!1,e.treatAsRelax=!1),t.push(e)}return this.countExpansion(t.length),t}expandMacroAsText(e){const t=this.expandMacro(e);return t?t.map(e=>e.text).join(""):t}_getExpansion(e){const t=this.macros.get(e);if(null==t)return t;if(1===e.length){const t=this.lexer.catcodes[e];if(null!=t&&13!==t)return}const n="function"===typeof t?t(this):t;if("string"===typeof n){let e=0;if(-1!==n.indexOf("#")){const t=n.replace(/##/g,"");for(;-1!==t.indexOf("#"+(e+1));)++e}const t=new Ei(n,this.settings),i=[];let r=t.lex();for(;"EOF"!==r.text;)i.push(r),r=t.lex();return i.reverse(),{tokens:i,numArgs:e}}return n}isDefined(e){return this.macros.has(e)||_i.hasOwnProperty(e)||re.math.hasOwnProperty(e)||re.text.hasOwnProperty(e)||Oi.hasOwnProperty(e)}isExpandable(e){const t=this.macros.get(e);return null!=t?"string"===typeof t||"function"===typeof t||!t.unexpandable:_i.hasOwnProperty(e)&&!_i[e].primitive}}const Fi=/^[\u208a\u208b\u208c\u208d\u208e\u2080\u2081\u2082\u2083\u2084\u2085\u2086\u2087\u2088\u2089\u2090\u2091\u2095\u1d62\u2c7c\u2096\u2097\u2098\u2099\u2092\u209a\u1d63\u209b\u209c\u1d64\u1d65\u2093\u1d66\u1d67\u1d68\u1d69\u1d6a]/,Bi=Object.freeze({"\u208a":"+","\u208b":"-","\u208c":"=","\u208d":"(","\u208e":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1d62":"i","\u2c7c":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209a":"p","\u1d63":"r","\u209b":"s","\u209c":"t","\u1d64":"u","\u1d65":"v","\u2093":"x","\u1d66":"\u03b2","\u1d67":"\u03b3","\u1d68":"\u03c1","\u1d69":"\u03d5","\u1d6a":"\u03c7","\u207a":"+","\u207b":"-","\u207c":"=","\u207d":"(","\u207e":")","\u2070":"0","\xb9":"1","\xb2":"2","\xb3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1d2c":"A","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u2c7d":"V","\u1d42":"W","\u1d43":"a","\u1d47":"b","\u1d9c":"c","\u1d48":"d","\u1d49":"e","\u1da0":"f","\u1d4d":"g","\u02b0":"h","\u2071":"i","\u02b2":"j","\u1d4f":"k","\u02e1":"l","\u1d50":"m","\u207f":"n","\u1d52":"o","\u1d56":"p","\u02b3":"r","\u02e2":"s","\u1d57":"t","\u1d58":"u","\u1d5b":"v","\u02b7":"w","\u02e3":"x","\u02b8":"y","\u1dbb":"z","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03d5","\u1d61":"\u03c7","\u1dbf":"\u03b8"}),Ui={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030c":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030a":{text:"\\r",math:"\\mathring"},"\u030b":{text:"\\H"},"\u0327":{text:"\\c"}},Hi={"\xe1":"a\u0301","\xe0":"a\u0300","\xe4":"a\u0308","\u01df":"a\u0308\u0304","\xe3":"a\u0303","\u0101":"a\u0304","\u0103":"a\u0306","\u1eaf":"a\u0306\u0301","\u1eb1":"a\u0306\u0300","\u1eb5":"a\u0306\u0303","\u01ce":"a\u030c","\xe2":"a\u0302","\u1ea5":"a\u0302\u0301","\u1ea7":"a\u0302\u0300","\u1eab":"a\u0302\u0303","\u0227":"a\u0307","\u01e1":"a\u0307\u0304","\xe5":"a\u030a","\u01fb":"a\u030a\u0301","\u1e03":"b\u0307","\u0107":"c\u0301","\u1e09":"c\u0327\u0301","\u010d":"c\u030c","\u0109":"c\u0302","\u010b":"c\u0307","\xe7":"c\u0327","\u010f":"d\u030c","\u1e0b":"d\u0307","\u1e11":"d\u0327","\xe9":"e\u0301","\xe8":"e\u0300","\xeb":"e\u0308","\u1ebd":"e\u0303","\u0113":"e\u0304","\u1e17":"e\u0304\u0301","\u1e15":"e\u0304\u0300","\u0115":"e\u0306","\u1e1d":"e\u0327\u0306","\u011b":"e\u030c","\xea":"e\u0302","\u1ebf":"e\u0302\u0301","\u1ec1":"e\u0302\u0300","\u1ec5":"e\u0302\u0303","\u0117":"e\u0307","\u0229":"e\u0327","\u1e1f":"f\u0307","\u01f5":"g\u0301","\u1e21":"g\u0304","\u011f":"g\u0306","\u01e7":"g\u030c","\u011d":"g\u0302","\u0121":"g\u0307","\u0123":"g\u0327","\u1e27":"h\u0308","\u021f":"h\u030c","\u0125":"h\u0302","\u1e23":"h\u0307","\u1e29":"h\u0327","\xed":"i\u0301","\xec":"i\u0300","\xef":"i\u0308","\u1e2f":"i\u0308\u0301","\u0129":"i\u0303","\u012b":"i\u0304","\u012d":"i\u0306","\u01d0":"i\u030c","\xee":"i\u0302","\u01f0":"j\u030c","\u0135":"j\u0302","\u1e31":"k\u0301","\u01e9":"k\u030c","\u0137":"k\u0327","\u013a":"l\u0301","\u013e":"l\u030c","\u013c":"l\u0327","\u1e3f":"m\u0301","\u1e41":"m\u0307","\u0144":"n\u0301","\u01f9":"n\u0300","\xf1":"n\u0303","\u0148":"n\u030c","\u1e45":"n\u0307","\u0146":"n\u0327","\xf3":"o\u0301","\xf2":"o\u0300","\xf6":"o\u0308","\u022b":"o\u0308\u0304","\xf5":"o\u0303","\u1e4d":"o\u0303\u0301","\u1e4f":"o\u0303\u0308","\u022d":"o\u0303\u0304","\u014d":"o\u0304","\u1e53":"o\u0304\u0301","\u1e51":"o\u0304\u0300","\u014f":"o\u0306","\u01d2":"o\u030c","\xf4":"o\u0302","\u1ed1":"o\u0302\u0301","\u1ed3":"o\u0302\u0300","\u1ed7":"o\u0302\u0303","\u022f":"o\u0307","\u0231":"o\u0307\u0304","\u0151":"o\u030b","\u1e55":"p\u0301","\u1e57":"p\u0307","\u0155":"r\u0301","\u0159":"r\u030c","\u1e59":"r\u0307","\u0157":"r\u0327","\u015b":"s\u0301","\u1e65":"s\u0301\u0307","\u0161":"s\u030c","\u1e67":"s\u030c\u0307","\u015d":"s\u0302","\u1e61":"s\u0307","\u015f":"s\u0327","\u1e97":"t\u0308","\u0165":"t\u030c","\u1e6b":"t\u0307","\u0163":"t\u0327","\xfa":"u\u0301","\xf9":"u\u0300","\xfc":"u\u0308","\u01d8":"u\u0308\u0301","\u01dc":"u\u0308\u0300","\u01d6":"u\u0308\u0304","\u01da":"u\u0308\u030c","\u0169":"u\u0303","\u1e79":"u\u0303\u0301","\u016b":"u\u0304","\u1e7b":"u\u0304\u0308","\u016d":"u\u0306","\u01d4":"u\u030c","\xfb":"u\u0302","\u016f":"u\u030a","\u0171":"u\u030b","\u1e7d":"v\u0303","\u1e83":"w\u0301","\u1e81":"w\u0300","\u1e85":"w\u0308","\u0175":"w\u0302","\u1e87":"w\u0307","\u1e98":"w\u030a","\u1e8d":"x\u0308","\u1e8b":"x\u0307","\xfd":"y\u0301","\u1ef3":"y\u0300","\xff":"y\u0308","\u1ef9":"y\u0303","\u0233":"y\u0304","\u0177":"y\u0302","\u1e8f":"y\u0307","\u1e99":"y\u030a","\u017a":"z\u0301","\u017e":"z\u030c","\u1e91":"z\u0302","\u017c":"z\u0307","\xc1":"A\u0301","\xc0":"A\u0300","\xc4":"A\u0308","\u01de":"A\u0308\u0304","\xc3":"A\u0303","\u0100":"A\u0304","\u0102":"A\u0306","\u1eae":"A\u0306\u0301","\u1eb0":"A\u0306\u0300","\u1eb4":"A\u0306\u0303","\u01cd":"A\u030c","\xc2":"A\u0302","\u1ea4":"A\u0302\u0301","\u1ea6":"A\u0302\u0300","\u1eaa":"A\u0302\u0303","\u0226":"A\u0307","\u01e0":"A\u0307\u0304","\xc5":"A\u030a","\u01fa":"A\u030a\u0301","\u1e02":"B\u0307","\u0106":"C\u0301","\u1e08":"C\u0327\u0301","\u010c":"C\u030c","\u0108":"C\u0302","\u010a":"C\u0307","\xc7":"C\u0327","\u010e":"D\u030c","\u1e0a":"D\u0307","\u1e10":"D\u0327","\xc9":"E\u0301","\xc8":"E\u0300","\xcb":"E\u0308","\u1ebc":"E\u0303","\u0112":"E\u0304","\u1e16":"E\u0304\u0301","\u1e14":"E\u0304\u0300","\u0114":"E\u0306","\u1e1c":"E\u0327\u0306","\u011a":"E\u030c","\xca":"E\u0302","\u1ebe":"E\u0302\u0301","\u1ec0":"E\u0302\u0300","\u1ec4":"E\u0302\u0303","\u0116":"E\u0307","\u0228":"E\u0327","\u1e1e":"F\u0307","\u01f4":"G\u0301","\u1e20":"G\u0304","\u011e":"G\u0306","\u01e6":"G\u030c","\u011c":"G\u0302","\u0120":"G\u0307","\u0122":"G\u0327","\u1e26":"H\u0308","\u021e":"H\u030c","\u0124":"H\u0302","\u1e22":"H\u0307","\u1e28":"H\u0327","\xcd":"I\u0301","\xcc":"I\u0300","\xcf":"I\u0308","\u1e2e":"I\u0308\u0301","\u0128":"I\u0303","\u012a":"I\u0304","\u012c":"I\u0306","\u01cf":"I\u030c","\xce":"I\u0302","\u0130":"I\u0307","\u0134":"J\u0302","\u1e30":"K\u0301","\u01e8":"K\u030c","\u0136":"K\u0327","\u0139":"L\u0301","\u013d":"L\u030c","\u013b":"L\u0327","\u1e3e":"M\u0301","\u1e40":"M\u0307","\u0143":"N\u0301","\u01f8":"N\u0300","\xd1":"N\u0303","\u0147":"N\u030c","\u1e44":"N\u0307","\u0145":"N\u0327","\xd3":"O\u0301","\xd2":"O\u0300","\xd6":"O\u0308","\u022a":"O\u0308\u0304","\xd5":"O\u0303","\u1e4c":"O\u0303\u0301","\u1e4e":"O\u0303\u0308","\u022c":"O\u0303\u0304","\u014c":"O\u0304","\u1e52":"O\u0304\u0301","\u1e50":"O\u0304\u0300","\u014e":"O\u0306","\u01d1":"O\u030c","\xd4":"O\u0302","\u1ed0":"O\u0302\u0301","\u1ed2":"O\u0302\u0300","\u1ed6":"O\u0302\u0303","\u022e":"O\u0307","\u0230":"O\u0307\u0304","\u0150":"O\u030b","\u1e54":"P\u0301","\u1e56":"P\u0307","\u0154":"R\u0301","\u0158":"R\u030c","\u1e58":"R\u0307","\u0156":"R\u0327","\u015a":"S\u0301","\u1e64":"S\u0301\u0307","\u0160":"S\u030c","\u1e66":"S\u030c\u0307","\u015c":"S\u0302","\u1e60":"S\u0307","\u015e":"S\u0327","\u0164":"T\u030c","\u1e6a":"T\u0307","\u0162":"T\u0327","\xda":"U\u0301","\xd9":"U\u0300","\xdc":"U\u0308","\u01d7":"U\u0308\u0301","\u01db":"U\u0308\u0300","\u01d5":"U\u0308\u0304","\u01d9":"U\u0308\u030c","\u0168":"U\u0303","\u1e78":"U\u0303\u0301","\u016a":"U\u0304","\u1e7a":"U\u0304\u0308","\u016c":"U\u0306","\u01d3":"U\u030c","\xdb":"U\u0302","\u016e":"U\u030a","\u0170":"U\u030b","\u1e7c":"V\u0303","\u1e82":"W\u0301","\u1e80":"W\u0300","\u1e84":"W\u0308","\u0174":"W\u0302","\u1e86":"W\u0307","\u1e8c":"X\u0308","\u1e8a":"X\u0307","\xdd":"Y\u0301","\u1ef2":"Y\u0300","\u0178":"Y\u0308","\u1ef8":"Y\u0303","\u0232":"Y\u0304","\u0176":"Y\u0302","\u1e8e":"Y\u0307","\u0179":"Z\u0301","\u017d":"Z\u030c","\u1e90":"Z\u0302","\u017b":"Z\u0307","\u03ac":"\u03b1\u0301","\u1f70":"\u03b1\u0300","\u1fb1":"\u03b1\u0304","\u1fb0":"\u03b1\u0306","\u03ad":"\u03b5\u0301","\u1f72":"\u03b5\u0300","\u03ae":"\u03b7\u0301","\u1f74":"\u03b7\u0300","\u03af":"\u03b9\u0301","\u1f76":"\u03b9\u0300","\u03ca":"\u03b9\u0308","\u0390":"\u03b9\u0308\u0301","\u1fd2":"\u03b9\u0308\u0300","\u1fd1":"\u03b9\u0304","\u1fd0":"\u03b9\u0306","\u03cc":"\u03bf\u0301","\u1f78":"\u03bf\u0300","\u03cd":"\u03c5\u0301","\u1f7a":"\u03c5\u0300","\u03cb":"\u03c5\u0308","\u03b0":"\u03c5\u0308\u0301","\u1fe2":"\u03c5\u0308\u0300","\u1fe1":"\u03c5\u0304","\u1fe0":"\u03c5\u0306","\u03ce":"\u03c9\u0301","\u1f7c":"\u03c9\u0300","\u038e":"\u03a5\u0301","\u1fea":"\u03a5\u0300","\u03ab":"\u03a5\u0308","\u1fe9":"\u03a5\u0304","\u1fe8":"\u03a5\u0306","\u038f":"\u03a9\u0301","\u1ffa":"\u03a9\u0300"};class Vi{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new zi(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new i("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){const t=this.nextToken;this.consume(),this.gullet.pushToken(new In("}")),this.gullet.pushTokens(e);const n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){const n=[];for(;;){"math"===this.mode&&this.consumeSpaces();const i=this.fetch();if(-1!==Vi.endOfExpression.indexOf(i.text))break;if(t&&i.text===t)break;if(e&&_i[i.text]&&_i[i.text].infix)break;const r=this.parseAtom(t);if(!r)break;"internal"!==r.type&&n.push(r)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){let t,n=-1;for(let r=0;r<e.length;r++)if("infix"===e[r].type){if(-1!==n)throw new i("only one infix operator per group",e[r].token);n=r,t=e[r].replaceWith}if(-1!==n&&t){let i,r;const a=e.slice(0,n),o=e.slice(n+1);let s;return i=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},r=1===o.length&&"ordgroup"===o[0].type?o[0]:{type:"ordgroup",mode:this.mode,body:o},s="\\\\abovefrac"===t?this.callFunction(t,[i,e[n],r],[]):this.callFunction(t,[i,r],[]),[s]}return e}handleSupSubscript(e){const t=this.fetch(),n=t.text;let r;this.consume(),this.consumeSpaces();do{var a;r=this.parseGroup(e)}while("internal"===(null==(a=r)?void 0:a.type));if(!r)throw new i("Expected group after '"+n+"'",t);return r}formatUnsupportedCmd(e){const t=[];for(let i=0;i<e.length;i++)t.push({type:"textord",mode:"text",text:e[i]});const n={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]}}parseAtom(e){const t=this.parseGroup("atom",e);if("internal"===(null==t?void 0:t.type))return t;if("text"===this.mode)return t;let n,r;for(;;){this.consumeSpaces();const e=this.fetch();if("\\limits"===e.text||"\\nolimits"===e.text){if(t&&"op"===t.type){const n="\\limits"===e.text;t.limits=n,t.alwaysHandleSupSub=!0}else{if(!t||"operatorname"!==t.type)throw new i("Limit controls must follow a math operator",e);t.alwaysHandleSupSub&&(t.limits="\\limits"===e.text)}this.consume()}else if("^"===e.text){if(n)throw new i("Double superscript",e);n=this.handleSupSubscript("superscript")}else if("_"===e.text){if(r)throw new i("Double subscript",e);r=this.handleSupSubscript("subscript")}else if("'"===e.text){if(n)throw new i("Double superscript",e);const t={type:"textord",mode:this.mode,text:"\\prime"},r=[t];for(this.consume();"'"===this.fetch().text;)r.push(t),this.consume();"^"===this.fetch().text&&r.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:r}}else{if(!Bi[e.text])break;{const t=Fi.test(e.text),i=[];for(i.push(new In(Bi[e.text])),this.consume();;){const e=this.fetch().text;if(!Bi[e])break;if(Fi.test(e)!==t)break;i.unshift(new In(Bi[e])),this.consume()}const a=this.subparse(i);t?r={type:"ordgroup",mode:"math",body:a}:n={type:"ordgroup",mode:"math",body:a}}}}return n||r?{type:"supsub",mode:this.mode,base:t,sup:n,sub:r}:t}parseFunction(e,t){const n=this.fetch(),r=n.text,a=_i[r];if(!a)return null;if(this.consume(),t&&"atom"!==t&&!a.allowedInArgument)throw new i("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!a.allowedInText)throw new i("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===a.allowedInMath)throw new i("Can't use function '"+r+"' in math mode",n);const{args:o,optArgs:s}=this.parseArguments(r,a);return this.callFunction(r,o,s,n,e)}callFunction(e,t,n,r,a){const o={funcName:e,parser:this,token:r,breakOnTokenText:a},s=_i[e];if(s&&s.handler)return s.handler(o,t,n);throw new i("No function handler for "+e)}parseArguments(e,t){const n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};const r=[],a=[];for(let o=0;o<n;o++){let n=t.argTypes&&t.argTypes[o];const s=o<t.numOptionalArgs;(t.primitive&&null==n||"sqrt"===t.type&&1===o&&null==a[0])&&(n="primitive");const l=this.parseGroupOfType("argument to '"+e+"'",n,s);if(s)a.push(l);else{if(null==l)throw new i("Null argument, please report this as a bug");r.push(l)}}return{args:r,optArgs:a}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{const e=this.parseArgumentGroup(n,"text");return null!=e?{type:"styling",mode:e.mode,body:[e],style:"text"}:null}case"raw":{const e=this.parseStringGroup("raw",n);return null!=e?{type:"raw",mode:"text",string:e.text}:null}case"primitive":{if(n)throw new i("A primitive argument cannot be optional");const t=this.parseGroup(e);if(null==t)throw new i("Expected group as "+e,this.fetch());return t}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new i("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){const n=this.gullet.scanArgument(t);if(null==n)return null;let i,r="";for(;"EOF"!==(i=this.fetch()).text;)r+=i.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,t){const n=this.fetch();let r,a=n,o="";for(;"EOF"!==(r=this.fetch()).text&&e.test(o+r.text);)a=r,o+=a.text,this.consume();if(""===o)throw new i("Invalid "+t+": '"+n.text+"'",n);return n.range(a,o)}parseColorGroup(e){const t=this.parseStringGroup("color",e);if(null==t)return null;const n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new i("Invalid color: '"+t.text+"'",t);let r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){let t,n=!1;if(this.gullet.consumeSpaces(),t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"),!t)return null;e||0!==t.text.length||(t.text="0pt",n=!0);const r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new i("Invalid size: '"+t.text+"'",t);const a={number:+(r[1]+r[2]),unit:r[3]};if(!F(a))throw new i("Invalid unit: '"+a.unit+"'",t);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;const n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){const n=this.gullet.scanArgument(e);if(null==n)return null;const i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();const r=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const a={type:"ordgroup",mode:this.mode,loc:n.loc,body:r};return t&&this.switchMode(i),a}parseGroup(e,t){const n=this.fetch(),r=n.text;let a;if("{"===r||"\\begingroup"===r){this.consume();const e="{"===r?"}":"\\endgroup";this.gullet.beginGroup();const t=this.parseExpression(!1,e),i=this.fetch();this.expect(e),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Dn.range(n,i),body:t,semisimple:"\\begingroup"===r||void 0}}else if(a=this.parseFunction(t,e)||this.parseSymbol(),null==a&&"\\"===r[0]&&!Oi.hasOwnProperty(r)){if(this.settings.throwOnError)throw new i("Undefined control sequence: "+r,n);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){let t=e.length-1;for(let n=0;n<t;++n){const i=e[n],r=i.text;"-"===r&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:Dn.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Dn.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==r&&"`"!==r||e[n+1].text!==r||(e.splice(n,2,{type:"textord",mode:"text",loc:Dn.range(i,e[n+1]),text:r+r}),t-=1)}}parseSymbol(){const e=this.fetch();let t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();let e=t.slice(5);const n="*"===e.charAt(0);if(n&&(e=e.slice(1)),e.length<2||e.charAt(0)!==e.slice(-1))throw new i("\\verb assertion failed --\n                    please report what input caused this bug");return e=e.slice(1,-1),{type:"verb",mode:"text",body:e,star:n}}Hi.hasOwnProperty(t[0])&&!re[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Hi[t[0]]+t.slice(1));const n=Ai.exec(t);let r;if(n&&(t=t.substring(0,n.index),"i"===t?t="\u0131":"j"===t&&(t="\u0237")),re[this.mode][t]){this.settings.strict&&"math"===this.mode&&Te.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);const n=re[this.mode][t].group,i=Dn.range(e);let a;if(te.hasOwnProperty(n)){const e=n;a={type:"atom",mode:this.mode,family:e,loc:i,text:t}}else a={type:n,mode:this.mode,loc:i,text:t};r=a}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(S(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),r={type:"textord",mode:"text",loc:Dn.range(e),text:t}}if(this.consume(),n)for(let a=0;a<n[0].length;a++){const t=n[0][a];if(!Ui[t])throw new i("Unknown accent ' "+t+"'",e);const o=Ui[t][this.mode]||Ui[t].text;if(!o)throw new i("Accent "+t+" unsupported in "+this.mode+" mode",e);r={type:"accent",mode:this.mode,loc:Dn.range(e),label:o,isStretchy:!1,isShifty:!0,base:r}}return r}}Vi.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Gi=function(e,t){if(!("string"===typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const n=new Vi(e,t);delete n.gullet.macros.current["\\df@tag"];let r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new i("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new In("\\df@tag")])}]}return r};let ji=function(e,t,n){t.textContent="";const i=Wi(e,n).toNode();t.appendChild(i)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),ji=function(){throw new i("KaTeX doesn't work in quirks mode.")});const qi=function(e,t,n){if(n.throwOnError||!(e instanceof i))throw e;const r=Ue.makeSpan(["katex-error"],[new Q(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},Wi=function(e,t){const n=new d(t);try{return function(e,t,n){const i=At(n);let r;if("mathml"===n.output)return Mt(e,t,i,n.displayMode,!0);if("html"===n.output){const t=ht(e,i);r=Ue.makeSpan(["katex"],[t])}else{const a=Mt(e,t,i,n.displayMode,!1),o=ht(e,i);r=Ue.makeSpan(["katex"],[a,o])}return Tt(r,n)}(Gi(e,n),e,n)}catch(i){return qi(i,e,n)}};var Xi={version:"0.16.28",render:ji,renderToString:function(e,t){return Wi(e,t).toMarkup()},ParseError:i,SETTINGS_SCHEMA:c,__parse:function(e,t){const n=new d(t);return Gi(e,n)},__renderToDomTree:Wi,__renderToHTMLTree:function(e,t){const n=new d(t);try{return function(e,t,n){const i=ht(e,At(n)),r=Ue.makeSpan(["katex"],[i]);return Tt(r,n)}(Gi(e,n),0,n)}catch(i){return qi(i,e,n)}},__setFontMetrics:function(e,t){T[e]=t},__defineSymbol:ae,__defineFunction:Ye,__defineMacro:Nn,__domTree:{Span:W,Anchor:X,SymbolNode:Q,SvgNode:Z,PathNode:J,LineNode:$}};return t=t.default}()},e.exports=t()},497(e,t,n){"use strict";var i=n(218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},173(e,t,n){e.exports=n(497)()},218(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4(e,t,n){"use strict";var i=n(853),r=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case M:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case _:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var D=Array.isArray,I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},z=[],F=-1;function B(e){return{current:e}}function U(e){0>F||(e.current=z[F],z[F]=null,F--)}function H(e,t){F++,z[F]=e.current,e.current=t}var V,G,j=B(null),q=B(null),W=B(null),X=B(null);function K(e,t){switch(H(W,t),H(q,e),H(j,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(j),H(j,e)}function Y(){U(j),U(q),U(W)}function Q(e){null!==e.memoizedState&&H(X,e);var t=j.current,n=vd(t,e.type);t!==n&&(H(q,e),H(j,n))}function Z(e){q.current===e&&(U(j),U(q)),X.current===e&&(U(X),uh._currentValue=O)}function J(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",G=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+G}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){i=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){i=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&i&&"string"===typeof s.stack)return[s.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(i){return"\nError generating stack: "+i.message+"\n"+i.stack}}var ie=Object.prototype.hasOwnProperty,re=i.unstable_scheduleCallback,ae=i.unstable_cancelCallback,oe=i.unstable_shouldYield,se=i.unstable_requestPaint,le=i.unstable_now,ce=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,he=i.unstable_NormalPriority,pe=i.unstable_LowPriority,me=i.unstable_IdlePriority,fe=i.log,ge=i.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof fe&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/we|0)|0},_e=Math.log,we=Math.LN2;var Se=256,Me=262144,Ae=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&i;return 0!==s?0!==(i=s&~a)?r=Te(i):0!==(o&=s)?r=Te(o):n||0!==(n=s&~e)&&(r=Te(n)):0!==(s=i&~a)?r=Te(s):0!==o?r=Te(o):n||0!==(n=i&~e)&&(r=Te(n)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=Ae;return 0===(62914560&(Ae<<=1))&&(Ae=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Be(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ue=Math.random().toString(36).slice(2),He="__reactFiber$"+Ue,Ve="__reactProps$"+Ue,Ge="__reactContainer$"+Ue,je="__reactEvents$"+Ue,qe="__reactListeners$"+Ue,We="__reactHandles$"+Ue,Xe="__reactResources$"+Ue,Ke="__reactMarker$"+Ue;function Ye(e){delete e[He],delete e[Ve],delete e[je],delete e[qe],delete e[We]}function Qe(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ge]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Od(e);null!==e;){if(n=e[He])return n;e=Od(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[He]||e[Ge]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function $e(e){var t=e[Xe];return t||(t=e[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function it(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(r=t,ie.call(st,r)||!ie.call(ot,r)&&(at.test(r)?st[r]=!0:(ot[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ht(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,i,r,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?xt(e,o,dt(t)):null!=n?xt(e,o,dt(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,i,r,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),pt(e)}function xt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(D(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),pt(e)}function Mt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||At.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Tt(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nt(){}var Dt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function zt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ve]||null;if(!r)throw Error(o(90));vt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&mt(i)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ft=!1;function Bt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Lt||null!==Ot)&&($c(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Ve]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ht)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(Zh){Vt=!1}var jt=null,qt=null,Wt=null;function Xt(){if(Wt)return Wt;var e,t,n=qt,i=n.length,r="value"in jt?jt.value:jt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return Wt=r.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Yt:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=p({},tn,{view:0,detail:0}),an=Zt(rn),on=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),sn=Zt(on),ln=Zt(p({},on,{dataTransfer:0})),cn=Zt(p({},rn,{relatedTarget:0})),un=Zt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Zt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function yn(){return gn}var vn=Zt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Zt(p({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Zt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),_n=Zt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Zt(p({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Zt(p({},tn,{newState:0,oldState:0})),Mn=[9,13,27,32],An=Ht&&"CompositionEvent"in window,Tn=null;Ht&&"documentMode"in document&&(Tn=document.documentMode);var En=Ht&&"TextEvent"in window&&!Tn,Cn=Ht&&(!An||Tn&&8<Tn&&11>=Tn),Pn=String.fromCharCode(32),kn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function On(e,t,n,i){Lt?Ot?Ot.push(i):Ot=[i]:Lt=i,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var zn=null,Fn=null;function Bn(e){Yu(e,0)}function Un(e){if(mt(Je(e)))return e}function Hn(e,t){if("change"===e)return t}var Vn=!1;if(Ht){var Gn;if(Ht){var jn="oninput"in document;if(!jn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),jn="function"===typeof qn.oninput}Gn=jn}else Gn=!1;Vn=Gn&&(!document.documentMode||9<document.documentMode)}function Wn(){zn&&(zn.detachEvent("onpropertychange",Xn),Fn=zn=null)}function Xn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];On(t,Fn,e,It(e)),Bt(Bn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),Fn=n,(zn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Wn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function Qn(e,t){if("click"===e)return Un(t)}function Zn(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ie.call(t,r)||!Jn(e[r],t[r]))return!1}return!0}function ei(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ti(e,t){var n,i=ei(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ei(i)}}function ni(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ni(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ii(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ai=Ht&&"documentMode"in document&&11>=document.documentMode,oi=null,si=null,li=null,ci=!1;function ui(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ci||null==oi||oi!==ft(i)||("selectionStart"in(i=oi)&&ri(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},li&&$n(li,i)||(li=i,0<(i=id(si,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=oi)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},pi={},mi={};function fi(e){if(pi[e])return pi[e];if(!hi[e])return e;var t,n=hi[e];for(t in n)if(n.hasOwnProperty(t)&&t in mi)return pi[e]=n[t];return e}Ht&&(mi=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);var gi=fi("animationend"),yi=fi("animationiteration"),vi=fi("animationstart"),bi=fi("transitionrun"),xi=fi("transitionstart"),_i=fi("transitioncancel"),wi=fi("transitionend"),Si=new Map,Mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(e,t){Si.set(e,t),it(t,[e])}Mi.push("scrollEnd");var Ti="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ei=[],Ci=0,Pi=0;function ki(){for(var e=Ci,t=Pi=Ci=0;t<e;){var n=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var r=Ei[t];Ei[t++]=null;var a=Ei[t];if(Ei[t++]=null,null!==i&&null!==r){var o=i.pending;null===o?r.next=r:(r.next=o.next,o.next=r),i.pending=r}0!==a&&Ii(n,r,a)}}function Ri(e,t,n,i){Ei[Ci++]=e,Ei[Ci++]=t,Ei[Ci++]=n,Ei[Ci++]=i,Pi|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ni(e,t,n,i){return Ri(e,t,n,i),Li(e)}function Di(e,t){return Ri(e,null,null,t),Li(e)}function Ii(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-xe(n),null===(i=(e=a.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),a):null}function Li(e){if(50<jc)throw jc=0,qc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oi={};function zi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,n,i){return new zi(e,t,n,i)}function Bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ui(e,t){var n=e.alternate;return null===n?((n=Fi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vi(e,t,n,i,r,a){var s=0;if(i=e,"function"===typeof e)Bi(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,j.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Fi(31,n,t,r)).elementType=E,e.lanes=a,e;case y:return Gi(n.children,r,a,t);case v:s=8,r|=24;break;case b:return(e=Fi(12,n,t,2|r)).elementType=b,e.lanes=a,e;case S:return(e=Fi(13,n,t,r)).elementType=S,e.lanes=a,e;case M:return(e=Fi(19,n,t,r)).elementType=M,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case x:s=9;break e;case w:s=11;break e;case A:s=14;break e;case T:s=16,i=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Fi(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Gi(e,t,n,i){return(e=Fi(7,e,i,t)).lanes=n,e}function ji(e,t,n){return(e=Fi(6,e,null,t)).lanes=n,e}function qi(e){var t=Fi(18,null,null,0);return t.stateNode=e,t}function Wi(e,t,n){return(t=Fi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xi=new WeakMap;function Ki(e,t){if("object"===typeof e&&null!==e){var n=Xi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Xi.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yi=[],Qi=0,Zi=null,Ji=0,$i=[],er=0,tr=null,nr=1,ir="";function rr(e,t){Yi[Qi++]=Ji,Yi[Qi++]=Zi,Zi=e,Ji=t}function ar(e,t,n){$i[er++]=nr,$i[er++]=ir,$i[er++]=tr,tr=e;var i=nr;e=ir;var r=32-xe(i)-1;i&=~(1<<r),n+=1;var a=32-xe(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,nr=1<<32-xe(t)+r|n<<r|i,ir=a+e}else nr=1<<a|n<<r|i,ir=e}function or(e){null!==e.return&&(rr(e,1),ar(e,1,0))}function sr(e){for(;e===Zi;)Zi=Yi[--Qi],Yi[Qi]=null,Ji=Yi[--Qi],Yi[Qi]=null;for(;e===tr;)tr=$i[--er],$i[er]=null,ir=$i[--er],$i[er]=null,nr=$i[--er],$i[er]=null}function lr(e,t){$i[er++]=nr,$i[er++]=ir,$i[er++]=tr,nr=t.id,ir=t.overflow,tr=e}var cr=null,ur=null,dr=!1,hr=null,pr=!1,mr=Error(o(519));function fr(e){throw _r(Ki(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mr}function gr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[He]=e,t[Ve]=i,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Xu.length;n++)Qu(Xu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),St(t,i.value,i.defaultValue,i.children)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||cd(t.textContent,n)?(null!=i.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=i.onScroll&&Qu("scroll",t),null!=i.onScrollEnd&&Qu("scrollend",t),null!=i.onClick&&(t.onclick=Nt),t=!0):t=!1,t||fr(e,!0)}function yr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(pr=!1);case 27:case 3:return void(pr=!0);default:cr=cr.return}}function vr(e){if(e!==cr)return!1;if(!dr)return yr(e),dr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ur&&fr(e),yr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ur=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ur=Ld(e)}else 27===n?(n=ur,Td(e.type)?(e=Id,Id=null,ur=e):ur=n):ur=cr?Dd(e.stateNode.nextSibling):null;return!0}function br(){ur=cr=null,dr=!1}function xr(){var e=hr;return null!==e&&(null===kc?kc=e:kc.push.apply(kc,e),hr=null),e}function _r(e){null===hr?hr=[e]:hr.push(e)}var wr=B(null),Sr=null,Mr=null;function Ar(e,t,n){H(wr,t._currentValue),t._currentValue=n}function Tr(e){e._currentValue=wr.current,U(wr)}function Er(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var s=r.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Er(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Er(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function Pr(e,t,n,i){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=r.type;Jn(r.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(r===X.current){if(null===(s=r.alternate))throw Error(o(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}r=r.return}null!==e&&Cr(t,e,n,i),t.flags|=262144}function kr(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){Sr=e,Mr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Nr(e){return Ir(Sr,e)}function Dr(e,t){return null===Sr&&Rr(e),Ir(e,t)}function Ir(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Mr){if(null===e)throw Error(o(308));Mr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mr=Mr.next=t;return n}var Lr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Or=i.unstable_scheduleCallback,zr=i.unstable_NormalPriority,Fr={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new Lr,data:new Map,refCount:0}}function Ur(e){e.refCount--,0===e.refCount&&Or(zr,function(){e.controller.abort()})}var Hr=null,Vr=0,Gr=0,jr=null;function qr(){if(0===--Vr&&null!==Hr){null!==jr&&(jr.status="fulfilled");var e=Hr;Hr=null,Gr=0,jr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wr=I.S;I.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hr){var n=Hr=[];Vr=0,Gr=Vu(),jr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vr++,t.then(qr,qr)}(0,t),null!==Wr&&Wr(e,t)};var Xr=B(null);function Kr(){var e=Xr.current;return null!==e?e:mc.pooledCache}function Yr(e,t){H(Xr,null===t?Xr.current:t.pool)}function Qr(){var e=Kr();return null===e?null:{parent:Fr._currentValue,pool:e}}var Zr=Error(o(460)),Jr=Error(o(474)),$r=Error(o(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Nt,Nt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Nt,Nt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw ra=t,Zr}}function ia(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ra=t,Zr;throw t}}var ra=null;function aa(){if(null===ra)throw Error(o(459));var e=ra;return ra=null,e}function oa(e){if(e===Zr||e===$r)throw Error(o(483))}var sa=null,la=0;function ca(e){var t=la;return la+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===m)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ui(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=ji(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===y?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ia(a)===t.type)?(ua(t=r(t,n.props),n),t.return=e,t):(ua(t=Vi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Gi(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=ji(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ua(n=Vi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wi(t,e.mode,n)).return=e,t;case T:return h(e,t=ia(t),n)}if(D(t)||k(t))return(t=Gi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),n);if(t.$$typeof===_)return h(e,Dr(e,t),n);da(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,i):null;case g:return n.key===r?u(e,t,n,i):null;case T:return p(e,t,n=ia(n),i)}if(D(n)||k(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,ca(n),i);if(n.$$typeof===_)return p(e,t,Dr(e,n),i);da(e,n)}return null}function m(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case g:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case T:return m(e,t,n,i=ia(i),r)}if(D(i)||k(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return m(e,t,n,ca(i),r);if(i.$$typeof===_)return m(e,t,n,Dr(t,i),r);da(t,i)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ia(b)===c.type){n(l,c.sibling),ua(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Gi(u.props.children,l.mode,d,u.key)).return=l,l=d):(ua(d=Vi(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wi(u,l.mode,d)).return=l,l=d}return s(l);case T:return v(l,c,u=ia(u),d)}if(D(u))return function(r,o,s,l){for(var c=null,u=null,d=o,f=o=0,g=null;null!==d&&f<s.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var y=p(r,d,s[f],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),o=a(y,o,f),null===u?c=y:u.sibling=y,u=y,d=g}if(f===s.length)return n(r,d),dr&&rr(r,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(r,s[f],l))&&(o=a(d,o,f),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,f),c}for(d=i(d);f<s.length;f++)null!==(g=m(d,r,f,s[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=a(g,o,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),dr&&rr(r,f),c}(l,c,u,d);if(k(u)){if("function"!==typeof(b=k(u)))throw Error(o(150));return function(r,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,f=s,g=s=0,y=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var b=p(r,f,v.value,c);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(r,f),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,f=y}if(v.done)return n(r,f),dr&&rr(r,g),u;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(r,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return dr&&rr(r,g),u}for(f=i(f);!v.done;g++,v=l.next())null!==(v=m(f,r,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(r,e)}),dr&&rr(r,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,ca(u),d);if(u.$$typeof===_)return v(l,c,Dr(l,u),d);da(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=ji(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,i){try{la=0;var r=v(e,t,n,i);return sa=null,r}catch(o){if(o===Zr||o===$r)throw o;var a=Fi(29,o,null,e.mode);return a.lanes=i,a.return=e,a}}}var pa=ha(!0),ma=ha(!1),fa=!1;function ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&pc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Li(e),Ii(e,null,n),t}return Ri(e,i,t,n),Li(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function _a(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wa=!1;function Sa(){if(wa){if(null!==jr)throw jr}}function Ma(e,t,n,i){wa=!1;var r=e.updateQueue;fa=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,m=h!==s.lane;if(m?(gc&h)===h:(i&h)===h){0!==h&&h===Gr&&(wa=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,g=s;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(y,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(y,d,h):f)||void 0===h)break e;d=p({},d,h);break e;case 2:fa=!0}}null!==(h=s.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(m=s).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===a&&(r.shared.lanes=0),Mc|=o,e.lanes=o,e.memoizedState=d}}function Aa(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Ta(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Aa(n[e],t)}var Ea=B(null),Ca=B(0);function Pa(e,t){H(Ca,e=wc),H(Ea,t),wc=e|t.baseLanes}function ka(){H(Ca,wc),H(Ea,Ea.current)}function Ra(){wc=Ca.current,U(Ea),U(Ca)}var Na=B(null),Da=null;function Ia(e){var t=e.alternate;H(Ba,1&Ba.current),H(Na,e),null===Da&&(null===t||null!==Ea.current||null!==t.memoizedState)&&(Da=e)}function La(e){H(Ba,Ba.current),H(Na,e),null===Da&&(Da=e)}function Oa(e){22===e.tag?(H(Ba,Ba.current),H(Na,e),null===Da&&(Da=e)):za()}function za(){H(Ba,Ba.current),H(Na,Na.current)}function Fa(e){U(Na),Da===e&&(Da=null),U(Ba)}var Ba=B(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rd(n)||Nd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=0,Va=null,Ga=null,ja=null,qa=!1,Wa=!1,Xa=!1,Ka=0,Ya=0,Qa=null,Za=0;function Ja(){throw Error(o(321))}function $a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function eo(e,t,n,i,r,a){return Ha=a,Va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?gs:ys,Xa=!1,a=n(i,r),Xa=!1,Wa&&(a=no(t,n,i,r)),to(e),a}function to(e){I.H=fs;var t=null!==Ga&&null!==Ga.next;if(Ha=0,ja=Ga=Va=null,qa=!1,Ya=0,Qa=null,t)throw Error(o(300));null===e||Ds||null!==(e=e.dependencies)&&kr(e)&&(Ds=!0)}function no(e,t,n,i){Va=e;var r=0;do{if(Wa&&(Qa=null),Ya=0,Wa=!1,25<=r)throw Error(o(301));if(r+=1,ja=Ga=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}I.H=vs,a=t(n,i)}while(Wa);return a}function io(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Ga?Ga.memoizedState:null)!==e&&(Va.flags|=1024),t}function ro(){var e=0!==Ka;return Ka=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(qa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qa=!1}Ha=0,ja=Ga=Va=null,Wa=!1,Ya=Ka=0,Qa=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?Va.memoizedState=ja=e:ja=ja.next=e,ja}function lo(){if(null===Ga){var e=Va.alternate;e=null!==e?e.memoizedState:null}else e=Ga.next;var t=null===ja?Va.memoizedState:ja.next;if(null!==t)ja=t,Ga=e;else{if(null===e){if(null===Va.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ga=e).memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},null===ja?Va.memoizedState=ja=e:ja=ja.next=e}return ja}function co(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),e=na(Qa,e,t),t=Va,null===(null===ja?t.memoizedState:ja.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?gs:ys),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===_)return Nr(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Va.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=Va.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=C;return t.index++,n}function po(e,t){return"function"===typeof t?t(e):t}function mo(e){return fo(lo(),Ga,e)}function fo(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var l=s=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Ha&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Gr&&(d=!0);else{if((Ha&p)===p){u=u.next,p===Gr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Va.lanes|=p,Mc|=p}h=u.action,Xa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,Va.lanes|=h,Mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Jn(a,e.memoizedState)&&(Ds=!0,d&&null!==(n=jr)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,i.lastRenderedState=a}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Jn(a,t.memoizedState)||(Ds=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function yo(e,t,n){var i=Va,r=lo(),a=dr;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Jn((Ga||r).memoizedState,n);if(s&&(r.memoizedState=n,Ds=!0),r=r.queue,Vo(xo.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==ja&&1&ja.memoizedState.tag){if(i.flags|=2048,zo(9,{destroy:void 0},bo.bind(null,i,r,n,t),null),null===mc)throw Error(o(349));a||0!==(127&Ha)||vo(i,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Va.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,i){t.value=n,t.getSnapshot=i,_o(t)&&wo(e)}function xo(e,t,n){return n(function(){_o(t)&&wo(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(i){return!0}}function wo(e){var t=Di(e,2);null!==t&&Kc(t,e,2)}function So(e){var t=so();if("function"===typeof e){var n=e;if(e=n(),Xa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t}function Mo(e,t,n,i){return e.baseState=n,fo(e,Ga,"function"===typeof i?i:po)}function Ao(e,t,n,i,r){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==I.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,To(t,a)):(a.next=n.next,t.pending=n.next=a)}}function To(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(r,i),l=I.S;null!==l&&l(o,s),Eo(e,t,s)}catch(c){Po(e,t,c)}finally{null!==a&&null!==o.types&&(a.types=o.types),I.T=a}}else try{Eo(e,t,a=n(r,i))}catch(u){Po(e,t,u)}}function Eo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Co(e,t,n)},function(n){return Po(e,t,n)}):Co(e,t,n)}function Co(e,t,n){t.status="fulfilled",t.value=n,ko(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,To(e,n)))}function Po(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,ko(t),t=t.next}while(t!==i)}e.action=null}function ko(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ro(e,t){return t}function No(e,t){if(dr){var n=mc.formState;if(null!==n){e:{var i=Va;if(dr){if(ur){t:{for(var r=ur,a=pr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=Dd(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){ur=Dd(r.nextSibling),i="F!"===r.data;break e}}fr(i)}i=!1}i&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},n.queue=i,n=cs.bind(null,Va,i),i.dispatch=n,i=So(!1),a=ds.bind(null,Va,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=so()).queue=r,n=Ao.bind(null,Va,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Do(e){return Io(lo(),Ga,e)}function Io(e,t,n){if(t=fo(e,t,Ro)[0],e=mo(po)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=co(t)}catch(o){if(o===Zr)throw $r;throw o}else i=t;var r=(t=lo()).queue,a=r.dispatch;return n!==t.memoizedState&&(Va.flags|=2048,zo(9,{destroy:void 0},Lo.bind(null,r,n),null)),[i,a,e]}function Lo(e,t){e.action=t}function Oo(e){var t=lo(),n=Ga;if(null!==n)return Io(t,n,e);lo(),t=t.memoizedState;var i=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function zo(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=Va.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Fo(){return lo().memoizedState}function Bo(e,t,n,i){var r=so();Va.flags|=e,r.memoizedState=zo(1|t,{destroy:void 0},n,void 0===i?null:i)}function Uo(e,t,n,i){var r=lo();i=void 0===i?null:i;var a=r.memoizedState.inst;null!==Ga&&null!==i&&$a(i,Ga.memoizedState.deps)?r.memoizedState=zo(t,a,n,i):(Va.flags|=e,r.memoizedState=zo(1|t,a,n,i))}function Ho(e,t){Bo(8390656,8,e,t)}function Vo(e,t){Uo(2048,8,e,t)}function Go(e){var t=lo().memoizedState;return function(e){Va.flags|=4;var t=Va.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function jo(e,t){return Uo(4,2,e,t)}function qo(e,t){return Uo(4,4,e,t)}function Wo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Xo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Wo.bind(null,t,e),n)}function Ko(){}function Yo(e,t){var n=lo();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&$a(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=lo();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&$a(t,i[1]))return i[0];if(i=e(),Xa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[i,t],i}function Zo(e,t,n){return void 0===n||0!==(1073741824&Ha)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Xc(),Va.lanes|=e,Mc|=e,n)}function Jo(e,t,n,i){return Jn(n,t)?n:null!==Ea.current?(e=Zo(e,n,i),Jn(e,t)||(Ds=!0),e):0===(42&Ha)||0!==(1073741824&Ha)&&0===(261930&gc)?(Ds=!0,e.memoizedState=n):(e=Xc(),Va.lanes|=e,Mc|=e,t)}function $o(e,t,n,i,r){var a=L.p;L.p=0!==a&&8>a?a:8;var o=I.T,s={};I.T=s,ds(e,!1,t,n);try{var l=r(),c=I.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Wc());else us(e,t,i,Wc())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},Wc())}finally{L.p=a,null!==o&&null!==s.types&&(o.types=s.types),I.T=o}}function es(){}function ts(e,t,n,i){if(5!==e.tag)throw Error(o(476));var r=ns(e).queue;$o(e,r,t,O,null===n?es:function(){return is(e),n(i)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function is(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Wc())}function rs(){return Nr(uh)}function as(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wc(),i=ba(t,e=va(n),n);return null!==i&&(Kc(i,t,n),xa(i,t,n)),t={cache:Br()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var i=Wc();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?ps(t,n):null!==(n=Ni(e,t,n,i))&&(Kc(n,e,i),ms(n,t,i))}function cs(e,t,n){us(e,t,n,Wc())}function us(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))ps(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,Jn(s,o))return Ri(e,t,r,0),null===mc&&ki(),!1}catch(l){}if(null!==(n=Ni(e,t,r,i)))return Kc(n,e,i),ms(n,t,i),!0}return!1}function ds(e,t,n,i){if(i={lane:2,revertLane:Vu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Ni(e,n,i,2))&&Kc(t,e,2)}function hs(e){var t=e.alternate;return e===Va||null!==t&&t===Va}function ps(e,t){Wa=qa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ms(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var fs={readContext:Nr,use:uo,useCallback:Ja,useContext:Ja,useEffect:Ja,useImperativeHandle:Ja,useLayoutEffect:Ja,useInsertionEffect:Ja,useMemo:Ja,useReducer:Ja,useRef:Ja,useState:Ja,useDebugValue:Ja,useDeferredValue:Ja,useTransition:Ja,useSyncExternalStore:Ja,useId:Ja,useHostTransitionStatus:Ja,useFormState:Ja,useActionState:Ja,useOptimistic:Ja,useMemoCache:Ja,useCacheRefresh:Ja};fs.useEffectEvent=Ja;var gs={readContext:Nr,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Nr,useEffect:Ho,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){Bo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var i=e();if(Xa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=so();if(void 0!==n){var r=n(t);if(Xa){be(!0);try{n(t)}finally{be(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=ls.bind(null,Va,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=cs.bind(null,Va,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ko,useDeferredValue:function(e,t){return Zo(so(),e,t)},useTransition:function(){var e=So(!1);return e=$o.bind(null,Va,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Va,r=so();if(dr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===mc)throw Error(o(349));0!==(127&gc)||vo(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ho(xo.bind(null,i,a,e),[e]),i.flags|=2048,zo(9,{destroy:void 0},bo.bind(null,i,a,n,t),null),n},useId:function(){var e=so(),t=mc.identifierPrefix;if(dr){var n=ir;t="_"+t+"R_"+(n=(nr&~(1<<32-xe(nr)-1)).toString(32)+n),0<(n=Ka++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Za++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rs,useFormState:No,useActionState:No,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Va,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Va)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Nr,use:uo,useCallback:Yo,useContext:Nr,useEffect:Vo,useImperativeHandle:Xo,useInsertionEffect:jo,useLayoutEffect:qo,useMemo:Qo,useReducer:mo,useRef:Fo,useState:function(){return mo(po)},useDebugValue:Ko,useDeferredValue:function(e,t){return Jo(lo(),Ga.memoizedState,e,t)},useTransition:function(){var e=mo(po)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:as,useHostTransitionStatus:rs,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){return Mo(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};ys.useEffectEvent=Go;var vs={readContext:Nr,use:uo,useCallback:Yo,useContext:Nr,useEffect:Vo,useImperativeHandle:Xo,useInsertionEffect:jo,useLayoutEffect:qo,useMemo:Qo,useReducer:go,useRef:Fo,useState:function(){return go(po)},useDebugValue:Ko,useDeferredValue:function(e,t){var n=lo();return null===Ga?Zo(n,e,t):Jo(n,Ga.memoizedState,e,t)},useTransition:function(){var e=go(po)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:as,useHostTransitionStatus:rs,useFormState:Oo,useActionState:Oo,useOptimistic:function(e,t){var n=lo();return null!==Ga?Mo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function bs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Go;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Wc(),r=va(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ba(e,r,i))&&(Kc(t,e,i),xa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Wc(),r=va(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ba(e,r,i))&&(Kc(t,e,i),xa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wc(),i=va(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ba(e,i,n))&&(Kc(t,e,n),xa(t,e,n))}};function _s(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,i)||!$n(r,a))}function ws(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Ms(e){Ti(e)}function As(e){console.error(e)}function Ts(e){Ti(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Cs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ps(e,t,n){return(n=va(n)).tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function ks(e){return(e=va(e)).tag=3,e}function Rs(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Cs(t,n,i)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Cs(t,n,i),"function"!==typeof r&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ns=Error(o(461)),Ds=!1;function Is(e,t,n,i){t.child=null===e?ma(t,null,n,i):pa(t,e.child,n,i)}function Ls(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var o={};for(var s in i)"ref"!==s&&(o[s]=i[s])}else o=i;return Rr(t),i=eo(e,t,n,o,a,r),s=ro(),null===e||Ds?(dr&&s&&or(t),t.flags|=1,Is(e,t,i,r),t.child):(ao(e,t,r),rl(e,t,r))}function Os(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Bi(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,zs(e,t,a,i,r))}if(a=e.child,!al(e,r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,i)&&e.ref===t.ref)return rl(e,t,r)}return t.flags|=1,(e=Ui(a,i)).ref=t.ref,e.return=t,t.child=e}function zs(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if($n(a,i)&&e.ref===t.ref){if(Ds=!1,t.pendingProps=i=a,!al(e,r))return t.lanes=e.lanes,rl(e,t,r);0!==(131072&e.flags)&&(Ds=!0)}}return js(e,t,n,i,r)}function Fs(e,t,n,i){var r=i.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,t.child=null;return Us(e,t,a,n,i)}if(0===(536870912&n))return i=t.lanes=536870912,Us(e,t,null!==a?a.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yr(0,null!==a?a.cachePool:null),null!==a?Pa(t,a):ka(),Oa(t)}else null!==a?(Yr(0,a.cachePool),Pa(t,a),za(),t.memoizedState=null):(null!==e&&Yr(0,null),ka(),za());return Is(e,t,r,n),t.child}function Bs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Us(e,t,n,i,r){var a=Kr();return a=null===a?null:{parent:Fr._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Yr(0,null),ka(),Oa(t),null!==e&&Pr(e,t,i,!0),t.childLanes=r,null}function Hs(e,t){return(t=$s({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vs(e,t,n){return pa(t,e.child,null,n),(e=Hs(t,t.pendingProps)).flags|=2,Fa(t),t.memoizedState=null,e}function Gs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function js(e,t,n,i,r){return Rr(t),n=eo(e,t,n,i,void 0,r),i=ro(),null===e||Ds?(dr&&i&&or(t),t.flags|=1,Is(e,t,n,r),t.child):(ao(e,t,r),rl(e,t,r))}function qs(e,t,n,i,r,a){return Rr(t),t.updateQueue=null,n=no(t,i,n,r),to(e),i=ro(),null===e||Ds?(dr&&i&&or(t),t.flags|=1,Is(e,t,n,a),t.child):(ao(e,t,a),rl(e,t,a))}function Ws(e,t,n,i,r){if(Rr(t),null===t.stateNode){var a=Oi,o=n.contextType;"object"===typeof o&&null!==o&&(a=Nr(o)),a=new n(i,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=i,a.state=t.memoizedState,a.refs={},ga(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Nr(o):Oi,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(bs(t,n,o,i),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&xs.enqueueReplaceState(a,a.state,null),Ma(t,i,a,r),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Ss(n,s);a.props=l;var c=a.context,u=n.contextType;o=Oi,"object"===typeof u&&null!==u&&(o=Nr(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ws(t,a,i,o),fa=!1;var h=t.memoizedState;a.state=h,Ma(t,i,a,r),Sa(),c=t.memoizedState,s||h!==c||fa?("function"===typeof d&&(bs(t,n,d,i),c=t.memoizedState),(l=fa||_s(t,n,l,i,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=o,i=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ya(e,t),u=Ss(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Oi,"object"===typeof c&&null!==c&&(l=Nr(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ws(t,a,i,l),fa=!1,h=t.memoizedState,a.state=h,Ma(t,i,a,r),Sa();var p=t.memoizedState;o!==d||h!==p||fa||null!==e&&null!==e.dependencies&&kr(e.dependencies)?("function"===typeof s&&(bs(t,n,s,i),p=t.memoizedState),(u=fa||_s(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&kr(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Gs(e,t),i=0!==(128&t.flags),a||i?(a=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&i?(t.child=pa(t,e.child,null,r),t.child=pa(t,null,n,r)):Is(e,t,n,r),t.memoizedState=a.state,e=t.child):e=rl(e,t,r),e}function Xs(e,t,n,i){return br(),t.flags|=256,Is(e,t,n,i),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Qr()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Zs(e,t,n){var i,r=t.pendingProps,a=!1,s=0!==(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&0!==(2&Ba.current)),i&&(a=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(dr){if(a?Ia(t):za(),(e=ur)?null!==(e=null!==(e=kd(e,pr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=qi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw fr(t);return Nd(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,a?(za(),l=$s({mode:"hidden",children:l},a=t.mode),r=Gi(r,a,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(r=t.child).memoizedState=Ys(n),r.childLanes=Qs(e,i,n),t.memoizedState=Ks,Bs(null,r)):(Ia(t),Js(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ia(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(za(),t.child=e.child,t.flags|=128,t=null):(za(),l=r.fallback,a=t.mode,r=$s({mode:"visible",children:r.children},a),(l=Gi(l,a,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,pa(t,e.child,null,n),(r=t.child).memoizedState=Ys(n),r.childLanes=Qs(e,i,n),t.memoizedState=Ks,t=Bs(null,r));else if(Ia(t),Nd(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(o(419))).stack="",r.digest=i,_r({value:r,source:null,stack:null}),t=el(e,t,n)}else if(Ds||Pr(e,t,n,!1),i=0!==(n&e.childLanes),Ds||i){if(null!==(i=mc)&&(0!==(r=Le(i,n))&&r!==c.retryLane))throw c.retryLane=r,Di(e,r),Kc(i,e,r),Ns;Rd(l)||ou(),t=el(e,t,n)}else Rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ur=Dd(l.nextSibling),cr=t,dr=!0,hr=null,pr=!1,null!==e&&lr(t,e),(t=Js(t,r.children)).flags|=4096);return t}return a?(za(),l=r.fallback,a=t.mode,u=(c=e.child).sibling,(r=Ui(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ui(u,l):(l=Gi(l,a,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,Bs(null,r),r=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(a=l.cachePool)?(c=Fr._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Qr(),l={baseLanes:l.baseLanes|n,cachePool:a}),r.memoizedState=l,r.childLanes=Qs(e,i,n),t.memoizedState=Ks,Bs(e.child,r)):(Ia(t),e=(n=e.child).sibling,(n=Ui(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Js(e,t){return(t=$s({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $s(e,t){return(e=Fi(22,e,null,t)).lanes=0,e}function el(e,t,n){return pa(t,e.child,null,n),(e=Js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Er(e.return,t,n)}function nl(e,t,n,i,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r,o.treeForkCount=a)}function il(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var o=Ba.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,H(Ba,o),Is(e,t,i,n),i=dr?Ji:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nl(t,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ua(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nl(t,!0,n,null,a,i);break;case"together":nl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ui(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ui(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!kr(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ds=!0;else{if(!al(e,n)&&0===(128&t.flags))return Ds=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Ar(0,Fr,e.memoizedState.cache),br();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Ar(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Ia(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zs(e,t,n):(Ia(t),null!==(e=rl(e,t,n))?e.sibling:null);Ia(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Pr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return il(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(Ba,Ba.current),i)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Ar(0,Fr,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Ds=0!==(131072&e.flags)}else Ds=!1,dr&&0!==(1048576&t.flags)&&ar(t,Ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===w){t.tag=11,t=Ls(null,t,e,i,n);break e}if(r===A){t.tag=14,t=Os(null,t,e,i,n);break e}}throw t=N(e)||e,Error(o(306,t,""))}Bi(e)?(i=Ss(e,i),t.tag=1,t=Ws(null,t,e,i,n)):(t.tag=0,t=js(null,t,e,i,n))}return t;case 0:return js(e,t,t.type,t.pendingProps,n);case 1:return Ws(e,t,i=t.type,r=Ss(i,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,ya(e,t),Ma(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Ar(0,Fr,i),i!==a.cache&&Cr(t,[Fr],n,!0),Sa(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Xs(e,t,i,n);break e}if(i!==r){_r(r=Ki(Error(o(424)),t)),t=Xs(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ur=Dd(e.firstChild),cr=t,dr=!0,hr=null,pr=!0,n=ma(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(br(),i===r){t=rl(e,t,n);break e}Is(e,t,i,n)}t=t.child}return t;case 26:return Gs(e,t),null===e?(n=qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:dr||(n=t.type,e=t.pendingProps,(i=gd(W.current).createElement(n))[He]=t,i[Ve]=e,hd(i,n,e),et(i),t.stateNode=i):t.memoizedState=qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&dr&&(i=t.stateNode=zd(t.type,t.pendingProps,W.current),cr=t,pr=!0,r=ur,Td(t.type)?(Id=r,ur=Dd(i.firstChild)):ur=r),Is(e,t,t.pendingProps.children,n),Gs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=i=ur)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,pr))?(t.stateNode=i,cr=t,ur=Dd(i.firstChild),pr=!1,r=!0):r=!1),r||fr(t)),Q(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,bd(r,a)?i=null:null!==s&&bd(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=eo(e,t,io,null,null,n),uh._currentValue=r),Gs(e,t),Is(e,t,i,n),t.child;case 6:return null===e&&dr&&((e=n=ur)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pr))?(t.stateNode=n,cr=t,ur=null,e=!0):e=!1),e||fr(t)),null;case 13:return Zs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=pa(t,null,i,n):Is(e,t,i,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ar(0,t.type,i.value),Is(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Rr(t),i=i(r=Nr(r)),t.flags|=1,Is(e,t,i,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return zs(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===i.mode)return e=Hs(t,i),t.lanes=536870912,Bs(null,e);if(La(t),(e=ur)?null!==(e=null!==(e=kd(e,pr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=qi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return Hs(t,i)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(La(t),r)if(256&t.flags)t.flags&=-257,t=Vs(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ds||Pr(e,t,n,!1),r=0!==(n&e.childLanes),Ds||r){if(null!==(i=mc)&&0!==(s=Le(i,n))&&s!==a.retryLane)throw a.retryLane=s,Di(e,s),Kc(i,e,s),Ns;ou(),t=Vs(e,t,n)}else e=a.treeContext,ur=Dd(s.nextSibling),cr=t,dr=!0,hr=null,pr=!1,null!==e&&lr(t,e),(t=Hs(t,i)).flags|=4096;return t}return(e=Ui(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return Rr(t),i=Nr(Fr),null===e?(null===(r=Kr())&&(r=mc,a=Br(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},ga(t),Ar(0,Fr,r)):(0!==(e.lanes&n)&&(ya(e,t),Ma(t,null,null,n),Sa()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Ar(0,Fr,i)):(i=a.cache,Ar(0,Fr,i),i!==r.cache&&Cr(t,[Fr],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,i,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ra=ea,Jr;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rh(t)){if(!iu())throw ra=ea,Jr;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,Cc|=t)}function dl(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function pl(e,t,n){var i=t.pendingProps;switch(sr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Tr(Fr),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vr(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xr())),hl(t),null;case 26:var r=t.type,a=t.memoizedState;return null===e?(sl(t),null!==a?(hl(t),cl(t,a)):(hl(t),ll(t,r,0,0,n))):a?a!==e.memoizedState?(sl(t),hl(t),cl(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&sl(t),hl(t),ll(t,r,0,0,n)),null;case 27:if(Z(t),n=W.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&sl(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return hl(t),null}e=j.current,vr(t)?gr(t):(e=zd(r,i,n),t.stateNode=e,sl(t))}return hl(t),null;case 5:if(Z(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&sl(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return hl(t),null}if(a=j.current,vr(t))gr(t);else{var s=gd(W.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a="string"===typeof i.is?s.createElement(r,{is:i.is}):s.createElement(r)}}a[He]=t,a[Ve]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(hd(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&sl(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&sl(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=W.current,vr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=cr))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||cd(e.nodeValue,n)))||fr(t,!0)}else(e=gd(e).createTextNode(i))[He]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=vr(t),null!==n){if(null===e){if(!i)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[He]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fa(t),t):(Fa(t),null);if(0!==(128&t.flags))throw Error(o(558))}return hl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=vr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[He]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),r=!1}else r=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Fa(t),t):(Fa(t),null)}return Fa(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),a=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&$u(t.stateNode.containerInfo),hl(t),null;case 10:return Tr(t.type),hl(t),null;case 19:if(U(Ba),null===(i=t.memoizedState))return hl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)dl(i,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ua(e))){for(t.flags|=128,dl(i,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hi(n,e),n=n.sibling;return H(Ba,1&Ba.current|2),dr&&rr(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&le()>Ic&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ua(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!dr)return hl(t),null}else 2*le()-i.renderingStartTime>Ic&&536870912!==n&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=Ba.current,H(Ba,r?1&n|2:1&n),dr&&rr(t,i.treeForkCount),e):(hl(t),null);case 22:case 23:return Fa(t),Ra(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&U(Xr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Tr(Fr),hl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ml(e,t){switch(sr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Tr(Fr),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Fa(t),null===t.alternate)throw Error(o(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Ba),null;case 4:return Y(),null;case 10:return Tr(t.type),null;case 22:case 23:return Fa(t),Ra(),null!==e&&U(Xr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Tr(Fr),null;default:return null}}function fl(e,t){switch(sr(t),t.tag){case 3:Tr(Fr),Y();break;case 26:case 27:case 5:Z(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fa(t);break;case 13:Fa(t);break;case 19:U(Ba);break;case 10:Tr(t.type);break;case 22:case 23:Fa(t),Ra(),null!==e&&U(Xr);break;case 24:Tr(Fr)}}function gl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,o=n.inst;i=a(),o.destroy=i}n=n.next}while(n!==r)}}catch(s){Su(t,t.return,s)}}function yl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var a=r.next;i=a;do{if((i.tag&e)===e){var o=i.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,r=t;var l=n,c=s;try{c()}catch(u){Su(r,l,u)}}}i=i.next}while(i!==a)}}catch(u){Su(t,t.return,u)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ta(t,n)}catch(i){Su(e,e.return,i)}}}function bl(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Su(e,t,i)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){Su(e,t,r)}}function _l(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){Su(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Su(e,t,a)}else n.current=null}function wl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Su(e,e.return,r)}}function Sl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||ud(e,t,m,null,i,h)}}for(var p in i){var m=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":a=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:m!==h&&ud(e,t,p,m,i,h)}}return void vt(e,s,l,c,u,d,a,r);case"select":for(a in m=s=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(a)||ud(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&ud(e,t,r,a,i,c)}return t=l,n=s,i=m,void(null!=p?_t(e,!!n,p,!1):!!i!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=r||null!=a))switch(s){case"value":p=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==a&&ud(e,t,s,r,i,a)}return void wt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else ud(e,t,f,null,i,p);for(c in i)if(p=i[c],m=n[c],i.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else ud(e,t,c,p,i,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&ud(e,t,g,null,i,p);for(u in i)if(p=i[u],m=n[u],i.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:ud(e,t,u,p,i,m)}return;default:if(Ct(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!i.hasOwnProperty(y)&&dd(e,t,y,void 0,i,p);for(d in i)p=i[d],m=n[d],!i.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||dd(e,t,d,p,i,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&ud(e,t,v,null,i,p);for(h in i)p=i[h],m=n[h],!i.hasOwnProperty(h)||p===m||null==p&&null==m||ud(e,t,h,p,i,m)}(i,e.type,n,t),i[Ve]=t}catch(r){Su(e,e.return,r)}}function Ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Nt));else if(4!==i&&(27===i&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function El(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Cl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hd(t,i,n),t[He]=e,t[Ve]=n}catch(a){Su(e,e.return,a)}}var Pl=!1,kl=!1,Rl=!1,Nl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Il(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&i&&gl(5,n);break;case 1:if(Kl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Su(n,n.return,o)}else{var r=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Su(n,n.return,s)}}64&i&&vl(n),512&i&&xl(n,n.return);break;case 3:if(Kl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ta(e,t)}catch(o){Su(n,n.return,o)}}break;case 27:null===t&&4&i&&Cl(n);case 26:case 5:Kl(e,n),null===t&&4&i&&wl(n),512&i&&xl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&i&&Ul(e,n);break;case 13:Kl(e,n),4&i&&Hl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=Eu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||kl,r=Pl;var a=kl;Pl=i,(kl=t)&&!a?Ql(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),Pl=r,kl=a}break;case 30:break;default:Kl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ol=null,zl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Bl(e,t,n),n=n.sibling}function Bl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:kl||_l(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:kl||_l(n,t);var i=Ol,r=zl;Td(n.type)&&(Ol=n.stateNode,zl=!1),Fl(e,t,n),Fd(n.stateNode),Ol=i,zl=r;break;case 5:kl||_l(n,t);case 6:if(i=Ol,r=zl,Ol=null,Fl(e,t,n),zl=r,null!==(Ol=i))if(zl)try{(9===Ol.nodeType?Ol.body:"HTML"===Ol.nodeName?Ol.ownerDocument.body:Ol).removeChild(n.stateNode)}catch(o){Su(n,t,o)}else try{Ol.removeChild(n.stateNode)}catch(o){Su(n,t,o)}break;case 18:null!==Ol&&(zl?(Ed(9===(e=Ol).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jh(e)):Ed(Ol,n.stateNode));break;case 4:i=Ol,r=zl,Ol=n.stateNode.containerInfo,zl=!0,Fl(e,t,n),Ol=i,zl=r;break;case 0:case 11:case 14:case 15:yl(2,n,t),kl||yl(4,n,t),Fl(e,t,n);break;case 1:kl||(_l(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&bl(n,t,i)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:kl=(i=kl)||null!==n.memoizedState,Fl(e,t,n),kl=i;break;default:Fl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{jh(e)}catch(n){Su(t,t.return,n)}}}function Hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{jh(e)}catch(n){Su(t,t.return,n)}}function Vl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var i=Cu.bind(null,e,t);t.then(i,i)}})}function Gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ol=l.stateNode,zl=!1;break e}break;case 5:Ol=l.stateNode,zl=!1;break e;case 3:case 4:Ol=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Ol)throw Error(o(160));Bl(a,s,r),Ol=null,zl=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)ql(t,e),t=t.sibling}var jl=null;function ql(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gl(t,e),Wl(e),4&i&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:Gl(t,e),Wl(e),512&i&&(kl||null===n||_l(n,n.return)),64&i&&Pl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=jl;if(Gl(t,e),Wl(e),512&i&&(kl||null===n||_l(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Ke]||a[He]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),hd(a,i,n),a[He]=e,et(a),i=a;break e;case"link":var s=nh("link","href",r).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hd(a=r.createElement(i),i,n),r.head.appendChild(a);break;case"meta":if(s=nh("meta","content",r).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hd(a=r.createElement(i),i,n),r.head.appendChild(a);break;default:throw Error(o(468,i))}a[He]=e,et(a),i=a}e.stateNode=i}else ih(r,e.type,e.stateNode);else e.stateNode=Zd(r,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?ih(r,e.type,e.stateNode):Zd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gl(t,e),Wl(e),512&i&&(kl||null===n||_l(n,n.return)),null!==n&&4&i&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gl(t,e),Wl(e),512&i&&(kl||null===n||_l(n,n.return)),32&e.flags){r=e.stateNode;try{Mt(r,"")}catch(f){Su(e,e.return,f)}}4&i&&null!=e.stateNode&&Sl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Rl=!0);break;case 6:if(Gl(t,e),Wl(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){Su(e,e.return,f)}}break;case 3:if(th=null,r=jl,jl=Hd(t.containerInfo),Gl(t,e),jl=r,Wl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{jh(t.containerInfo)}catch(f){Su(e,e.return,f)}Rl&&(Rl=!1,Xl(e));break;case 4:i=jl,jl=Hd(e.stateNode.containerInfo),Gl(t,e),Wl(e),jl=i;break;case 12:default:Gl(t,e),Wl(e);break;case 31:case 19:Gl(t,e),Wl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Vl(e,i)));break;case 13:Gl(t,e),Wl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Nc=le()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Vl(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=kl;if(Pl=u||r,kl=d||c,Gl(t,e),kl=d,Pl=u,Wl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Pl||kl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,r)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){Su(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){Su(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;r?Cd(m,!0):Cd(c.stateNode,!1)}catch(f){Su(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Vl(e,n))));case 30:case 21:}}function Wl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Ml(i)){n=i;break}i=i.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode;El(e,Al(e),r);break;case 5:var a=n.stateNode;32&n.flags&&(Mt(a,""),n.flags&=-33),El(e,Al(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Tl(e,Al(e),s);break;default:throw Error(o(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Il(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Yl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Yl(t);break;case 27:Fd(t.stateNode);case 26:case 5:_l(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(r,a,n),gl(4,a);break;case 1:if(Ql(r,a,n),"function"===typeof(r=(i=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Su(i,i.return,c)}if(null!==(r=(i=a).updateQueue)){var s=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Aa(l[r],s)}catch(c){Su(i,i.return,c)}}n&&64&o&&vl(a),xl(a,a.return);break;case 27:Cl(a);case 26:case 5:Ql(r,a,n),n&&null===i&&4&o&&wl(a),xl(a,a.return);break;case 12:Ql(r,a,n);break;case 31:Ql(r,a,n),n&&4&o&&Ul(r,a);break;case 13:Ql(r,a,n),n&&4&o&&Hl(r,a);break;case 22:null===a.memoizedState&&Ql(r,a,n),xl(a,a.return);break;case 30:break;default:Ql(r,a,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ur(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ur(e))}function $l(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,i),t=t.sibling}function ec(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,i),2048&r&&gl(9,t);break;case 1:case 31:case 13:default:$l(e,t,n,i);break;case 3:$l(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ur(e)));break;case 12:if(2048&r){$l(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else $l(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?$l(e,t,n,i):nc(e,t):2&a._visibility?$l(e,t,n,i):(a._visibility|=2,tc(e,t,n,i,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Zl(o,t);break;case 24:$l(e,t,n,i),2048&r&&Jl(t.alternate,t)}}function tc(e,t,n,i,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:tc(a,o,s,l,r),gl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tc(a,o,s,l,r):nc(a,o):(u._visibility|=2,tc(a,o,s,l,r)),r&&2048&c&&Zl(o.alternate,o);break;case 24:tc(a,o,s,l,r),r&&2048&c&&Jl(o.alternate,o);break;default:tc(a,o,s,l,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:nc(n,i),2048&r&&Zl(i.alternate,i);break;case 24:nc(n,i),2048&r&&Jl(i.alternate,i);break;default:nc(n,i)}t=t.sibling}}var ic=8192;function rc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,i){if("stylesheet"===n.type&&("string"!==typeof i.media||!1!==matchMedia(i.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Wd(i.href),a=t.querySelector(Xd(r));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,i=Kd(i),(r=Bd.get(r))&&$d(i,r),et(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(a,"link",i),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,jl,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var i=jl;jl=Hd(e.stateNode.containerInfo),rc(e,t,n),jl=i;break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=ic,ic=16777216,rc(e,t,n),ic=i):rc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,uc(i,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,uc(i,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Ur(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Dl=i;else e:for(n=e;null!==Dl;){var r=(i=Dl).sibling,a=i.return;if(Ll(i),i===n){Dl=null;break e}if(null!==r){r.return=a,Dl=r;break e}Dl=a}}}var dc={getCacheForType:function(e){var t=Nr(Fr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Nr(Fr).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,fc=null,gc=0,yc=0,vc=null,bc=!1,xc=!1,_c=!1,wc=0,Sc=0,Mc=0,Ac=0,Tc=0,Ec=0,Cc=0,Pc=null,kc=null,Rc=!1,Nc=0,Dc=0,Ic=1/0,Lc=null,Oc=null,zc=0,Fc=null,Bc=null,Uc=0,Hc=0,Vc=null,Gc=null,jc=0,qc=null;function Wc(){return 0!==(2&pc)&&0!==gc?gc&-gc:null!==I.T?Vu():Fe()}function Xc(){if(0===Ec)if(0===(536870912&gc)||dr){var e=Me;0===(3932160&(Me<<=1))&&(Me=262144),Ec=e}else Ec=536870912;return null!==(e=Na.current)&&(e.flags|=32),Ec}function Kc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,gc,Ec,!1)),Ne(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Ac|=n),4===Sc&&Jc(e,gc,Ec,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(o(327));for(var i=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),r=i?function(e,t){var n=pc;pc|=2;var i=ru(),r=au();mc!==e||gc!==t?(Lc=null,Ic=le()+500,tu(e,t)):xc=Ce(e,t);e:for(;;)try{if(0!==yc&&null!==fc){t=fc;var a=vc;t:switch(yc){case 1:yc=0,vc=null,hu(e,t,a,1);break;case 2:case 9:if(ta(a)){yc=0,vc=null,du(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Lu(e)},a.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ta(a)?(yc=0,vc=null,du(t)):(yc=0,vc=null,hu(e,t,a,7));break;case 5:var s=null;switch(fc.tag){case 26:s=fc.memoizedState;case 5:case 27:var l=fc;if(s?rh(s):l.stateNode.complete){yc=0,vc=null;var c=l.sibling;if(null!==c)fc=c;else{var u=l.return;null!==u?(fc=u,pu(u)):fc=null}break t}}yc=0,vc=null,hu(e,t,a,5);break;case 6:yc=0,vc=null,hu(e,t,a,6);break;case 8:eu(),Sc=6;break e;default:throw Error(o(462))}}cu();break}catch(d){nu(e,d)}return Mr=Sr=null,I.H=i,I.A=r,pc=n,null!==fc?0:(mc=null,gc=0,ki(),Sc)}(e,t):su(e,t,!0),a=i;;){if(0===r){xc&&!i&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!a||Zc(n)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;r=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=a,Ac|=a,r=4;break e}a=kc,kc=r,null!==a&&(null===kc?kc=a:kc.push.apply(kc,a))}r=s}if(a=!1,2!==r)continue}}if(1===r){tu(e,0),Jc(e,t,0,!0);break}e:{switch(i=e,a=r){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Jc(i,t,Ec,!bc);break e;case 2:kc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(r=Nc+300-le())){if(Jc(i,t,Ec,!bc),0!==Ee(i,0,!0))break e;Uc=t,i.timeoutHandle=_d(Qc.bind(null,i,n,kc,Lc,Rc,t,Ec,Ac,Cc,bc,a,"Throttled",-0,0),r)}else Qc(i,n,kc,Lc,Rc,t,Ec,Ac,Cc,bc,a,null,-0,0)}break}r=su(e,t,!1),a=!1}Lu(e)}function Qc(e,t,n,i,r,a,o,s,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nt});var m=(62914560&a)===a?Nc-le():(4194048&a)===a?Dc-le():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,o=r.initiatorType,s=r.duration;if(a&&s&&pd(o)){for(o=0,s=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--i,t+=8*(a+o)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(d,m)))return Uc=a,e.cancelPendingCommit=m(fu.bind(null,e,t,a,n,i,r,o,s,l,u,d,null,h,p)),void Jc(e,a,o,!c)}fu(e,t,a,n,i,r,o,s,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Jn(a(),r))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,i){t&=~Tc,t&=~Ac,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-xe(r),o=1<<a;i[a]=-1,r&=~o}0!==n&&De(e,n,t)}function $c(){return 0!==(6&pc)||(Ou(0,!1),!1)}function eu(){if(null!==fc){if(0===yc)var e=fc.return;else Mr=Sr=null,oo(e=fc),sa=null,la=0,e=fc;for(;null!==e;)fl(e.alternate,e),e=e.return;fc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,eu(),mc=e,fc=n=Ui(e.current,null),gc=t,yc=0,vc=null,bc=!1,xc=Ce(e,t),_c=!1,Cc=Ec=Tc=Ac=Mc=Sc=0,kc=Pc=null,Rc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-xe(i),a=1<<r;t|=e[r],i&=~a}return wc=t,ki(),n}function nu(e,t){Va=null,I.H=fs,t===Zr||t===$r?(t=aa(),yc=3):t===Jr?(t=aa(),yc=4):yc=t===Ns?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===fc&&(Sc=1,Es(e,Ki(t,e.current)))}function iu(){var e=Na.current;return null===e||((4194048&gc)===gc?null===Da:((62914560&gc)===gc||0!==(536870912&gc))&&e===Da)}function ru(){var e=I.H;return I.H=fs,null===e?fs:e}function au(){var e=I.A;return I.A=dc,e}function ou(){Sc=4,bc||(4194048&gc)!==gc&&null!==Na.current||(xc=!0),0===(134217727&Mc)&&0===(134217727&Ac)||null===mc||Jc(mc,gc,Ec,!1)}function su(e,t,n){var i=pc;pc|=2;var r=ru(),a=au();mc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var o=Sc;e:for(;;)try{if(0!==yc&&null!==fc){var s=fc,l=vc;switch(yc){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Na.current&&(t=!0);var c=yc;if(yc=0,vc=null,hu(e,s,l,c),n&&xc){o=0;break e}break;default:c=yc,yc=0,vc=null,hu(e,s,l,c)}}lu(),o=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Mr=Sr=null,pc=i,I.H=r,I.A=a,null===fc&&(mc=null,gc=0,ki()),o}function lu(){for(;null!==fc;)uu(fc)}function cu(){for(;null!==fc&&!oe();)uu(fc)}function uu(e){var t=ol(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?pu(e):fc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qs(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=qs(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:oo(t);default:fl(n,t),t=ol(n,t=fc=Hi(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?pu(e):fc=t}function hu(e,t,n,i){Mr=Sr=null,oo(t),sa=null,la=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Pr(t,n,r,!0),null!==(n=Na.current)){switch(n.tag){case 31:case 13:return null===Da?ou():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Mu(e,i,r)),!1;case 22:return n.flags|=65536,i===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Mu(e,i,r)),!1}throw Error(o(435,n.tag))}return Mu(e,i,r),ou(),!1}if(dr)return null!==(t=Na.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==mr&&_r(Ki(e=Error(o(422),{cause:i}),n))):(i!==mr&&_r(Ki(t=Error(o(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Ki(i,n),_a(e,r=Ps(e.stateNode,i,r)),4!==Sc&&(Sc=2)),!1;var a=Error(o(520),{cause:i});if(a=Ki(a,n),null===Pc?Pc=[a]:Pc.push(a),4!==Sc&&(Sc=2),null===t)return!0;i=Ki(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,_a(n,e=Ps(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Oc||!Oc.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Rs(r=ks(r),e,n,i),_a(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,gc))return Sc=1,Es(e,Ki(n,e.current)),void(fc=null)}catch(a){if(null!==r)throw fc=r,a;return Sc=1,Es(e,Ki(n,e.current)),void(fc=null)}32768&t.flags?(dr||1===i?e=!0:xc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Na.current)&&13===i.tag&&(i.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,bc);e=t.return;var n=pl(t.alternate,t,wc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Sc&&(Sc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);Sc=6,fc=null}function fu(e,t,n,i,r,a,s,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==zc);if(0!==(6&pc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,i,r,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-xe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&De(e,i,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Pi,s,l,c),e===mc&&(fc=mc=null,gc=0),Bc=t,Fc=e,Uc=n,Hc=a,Vc=r,Gc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(he,function(){return _u(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=I.T,I.T=null,r=L.p,L.p=2,s=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=bh,ri(e=ii(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==a||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===a&&++d===i&&(c=s),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},bh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(a=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var f=Ss(n.type,r);e=i.getSnapshotBeforeUpdate(f,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){Su(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=s,L.p=r,I.T=i}}zc=1,gu(),yu(),vu()}}function gu(){if(1===zc){zc=0;var e=Fc,t=Bc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var i=L.p;L.p=2;var r=pc;pc|=4;try{ql(t,e);var a=fd,o=ii(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&ni(s.ownerDocument.documentElement,s)){if(null!==l&&ri(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=s.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(o=g,g=f,f=o);var y=ti(s,f),v=ti(s,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),f>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bh=!!md,fd=md=null}finally{pc=r,L.p=i,I.T=n}}e.current=t,zc=2}}function yu(){if(2===zc){zc=0;var e=Fc,t=Bc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var i=L.p;L.p=2;var r=pc;pc|=4;try{Il(e,t.alternate,t)}finally{pc=r,L.p=i,I.T=n}}zc=3}}function vu(){if(4===zc||3===zc){zc=0,se();var e=Fc,t=Bc,n=Uc,i=Gc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Bc=Fc=null,bu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Oc=null),ze(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=I.T,r=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<i.length;o++){var s=i[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,L.p=r}}0!==(3&Uc)&&xu(),Lu(e),r=e.pendingLanes,0!==(261930&n)&&0!==(42&r)?e===qc?jc++:(jc=0,qc=e):jc=0,Ou(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ur(t)))}function xu(){return gu(),yu(),vu(),_u()}function _u(){if(5!==zc)return!1;var e=Fc,t=Hc;Hc=0;var n=ze(Uc),i=I.T,r=L.p;try{L.p=32>n?32:n,I.T=null,n=Vc,Vc=null;var a=Fc,s=Uc;if(zc=0,Bc=Fc=null,Uc=0,0!==(6&pc))throw Error(o(331));var l=pc;if(pc|=4,lc(a.current),ec(a,a.current,s,n),pc=l,Ou(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,a)}catch(c){}return!0}finally{L.p=r,I.T=i,bu(e,t)}}function wu(e,t,n){t=Ki(n,t),null!==(e=ba(e,t=Ps(e.stateNode,t,2),2))&&(Ne(e,2),Lu(e))}function Su(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Oc||!Oc.has(i))){e=Ki(n,e),null!==(i=ba(t,n=ks(2),2))&&(Rs(n,i,t,e),Ne(i,2),Lu(i));break}}t=t.return}}function Mu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(_c=!0,r.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function Au(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(gc&n)===n&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>le()-Nc?0===(2&pc)&&tu(e,0):Tc|=n,Cc===gc&&(Cc=0)),Lu(e)}function Tu(e,t){0===t&&(t=ke()),null!==(e=Di(e,t))&&(Ne(e,t),Lu(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),Tu(e,n)}var Pu=null,ku=null,Ru=!1,Nu=!1,Du=!1,Iu=0;function Lu(e){e!==ku&&null===e.next&&(null===ku?Pu=ku=e:ku=ku.next=e),Nu=!0,Ru||(Ru=!0,Md(function(){0!==(6&pc)?re(ue,zu):Fu()}))}function Ou(e,t){if(!Du&&Nu){Du=!0;do{for(var n=!1,i=Pu;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var a=0;else{var o=i.suspendedLanes,s=i.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=r&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Hu(i,a))}else a=gc,0===(3&(a=Ee(i,i===mc?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||Ce(i,a)||(n=!0,Hu(i,a));i=i.next}}while(n);Du=!1}}function zu(){Fu()}function Fu(){Nu=Ru=!1;var e=0;0!==Iu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Iu);for(var t=le(),n=null,i=Pu;null!==i;){var r=i.next,a=Bu(i,t);0===a?(i.next=null,null===n?Pu=r:n.next=r,null===r&&(ku=n)):(n=i,(0!==e||0!==(3&a))&&(Nu=!0)),i=r}0!==zc&&5!==zc||Ou(e,!1),0!==Iu&&(Iu=0)}function Bu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-xe(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=Pe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=gc,n=Ee(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&ae(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&ae(i),ze(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=me}return i=Uu.bind(null,e),n=re(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&ae(i),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=gc;return 0===(i=Ee(e,e===mc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,i,t),Bu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Hu(e,t){if(xu())return null;Yc(e,t,!0)}function Vu(){if(0===Iu){var e=Gr;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Iu=e}return Iu}function Gu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function ju(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qu=0;qu<Mi.length;qu++){var Wu=Mi[qu];Ai(Wu.toLowerCase(),"on"+(Wu[0].toUpperCase()+Wu.slice(1)))}Ai(gi,"onAnimationEnd"),Ai(yi,"onAnimationIteration"),Ai(vi,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(bi,"onTransitionRun"),Ai(xi,"onTransitionStart"),Ai(_i,"onTransitionCancel"),Ai(wi,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){Ti(u)}r.currentTarget=null,a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=c;try{a(r)}catch(u){Ti(u)}r.currentTarget=null,a=l}}}}function Qu(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var i=e+"__bubble";n.has(i)||(ed(t,e,2,!1),n.add(i))}function Zu(e,t,n){var i=0;t&&(i|=4),ed(n,e,i,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Ju]){e[Ju]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,Zu("selectionchange",!1,t))}}function ed(e,t,n,i){switch(Th(t)){case 2:var r=xh;break;case 8:r=_h;break;default:r=wh}n=r.bind(null,t,n,e),r=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function td(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==s;){if(null===(o=Qe(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=a=o;continue e}s=s.parentNode}}i=i.return}Bt(function(){var i=a,r=It(n),o=[];e:{var s=Si.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case gi:case yi:case vi:c=un;break;case wi:c=_n;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var m,f=i;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Ut(f,p))&&d.push(nd(f,g,m)),h)break;f=f.return}0<d.length&&(s=new c(s,u,null,n,r),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[Ge])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=sn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?s:Je(c),m=null==u?s:Je(u),(s=new d(g,f+"leave",c,n,r)).target=h,s.relatedTarget=m,g=null,Qe(r)===i&&((d=new d(p,f+"enter",u,n,r)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=rd,f=u,m=0,g=p=c;g;g=d(g))m++;g=0;for(var y=f;y;y=d(y))g++;for(;0<m-g;)p=d(p),m--;for(;0<g-m;)f=d(f),g--;for(;m--;){if(p===f||null!==f&&p===f.alternate){d=p;break e}p=d(p),f=d(f)}d=null}else d=null;null!==c&&ad(o,s,c,d,!1),null!==u&&null!==h&&ad(o,h,u,d,!0)}if("select"===(c=(s=i?Je(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Hn;else if(Ln(s))if(Vn)v=Zn;else{v=Yn;var b=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?i&&Ct(i.elementType)&&(v=Hn):v=Qn;switch(v&&(v=v(e,i))?On(o,v,n,r):(b&&b(e,s,i),"focusout"===e&&i&&"number"===s.type&&null!=i.memoizedProps.value&&xt(s,"number",s.value)),b=i?Je(i):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(oi=b,si=i,li=null);break;case"focusout":li=si=oi=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":ci=!1,ui(o,n,r);break;case"selectionchange":if(ai)break;case"keydown":case"keyup":ui(o,n,r)}var x;if(An)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Dn?Rn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Cn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Dn&&(x=Xt()):(qt="value"in(jt=r)?jt.value:jt.textContent,Dn=!0)),0<(b=id(i,_)).length&&(_=new hn(_,e,null,n,r),o.push({event:_,listeners:b}),x?_.data=x:null!==(x=Nn(n))&&(_.data=x))),(x=En?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(kn=!0,Pn);case"textInput":return(e=t.data)===Pn&&kn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!An&&Rn(e,t)?(e=Xt(),Wt=qt=jt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=id(i,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,r),o.push({event:b,listeners:_}),b.data=x)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var a=Gu((r[Ve]||null).action),o=i.submitter;o&&null!==(t=(t=o[Ve]||null)?Gu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new nn("action","action",null,i,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Iu){var e=o?ju(r,o):new FormData(r);ts(n,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?ju(r,o):new FormData(r),ts(n,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(o,e,i,n,r)}Yu(o,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Ut(e,n))&&i.unshift(nd(e,r,a)),null!=(r=Ut(e,t))&&i.push(nd(e,r,a))),3===e.tag)return i;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===i)break;5!==s&&26!==s&&27!==s||null===c||(l=c,r?null!=(c=Ut(n,a))&&o.unshift(nd(n,c,l)):r||null!=(c=Ut(n,a))&&o.push(nd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var od=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(sd,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,i,r,a){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||Mt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&Mt(e,""+i);break;case"className":ct(e,"class",i);break;case"tabIndex":ct(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,i);break;case"style":Et(e,i,a);break;case"data":if("object"!==t){ct(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&ud(e,t,"name",r.name,r,null),ud(e,t,"formEncType",r.formEncType,r,null),ud(e,t,"formMethod",r.formMethod,r,null),ud(e,t,"formTarget",r.formTarget,r,null)):(ud(e,t,"encType",r.encType,r,null),ud(e,t,"method",r.method,r,null),ud(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Nt);break;case"onScroll":null!=i&&Qu("scroll",e);break;case"onScrollEnd":null!=i&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Rt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",i);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":lt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Pt.get(n)||n,i)}}function dd(e,t,n,i,r,a){switch(n){case"style":Et(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof i?Mt(e,i):("number"===typeof i||"bigint"===typeof i)&&Mt(e,""+i);break;case"onScroll":null!=i&&Qu("scroll",e);break;case"onScrollEnd":null!=i&&Qu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ve]||null)?a[n]:null)&&e.removeEventListener(t,a,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):lt(e,n,i):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var i,r=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,i,s,n,null)}}return a&&ud(e,t,"srcSet",n.srcSet,n,null),void(r&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=i=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:ud(e,t,r,d,n,null)}}return void bt(e,i,l,c,u,s,a,!1);case"select":for(a in Qu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:ud(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!r,void(null!=t?_t(e,!!r,t,!1):null!=n&&_t(e,!!r,n,!0));case"textarea":for(s in Qu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ud(e,t,s,l,n,null)}return void St(e,r,a,i);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else ud(e,t,c,r,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(r=0;r<Xu.length;r++)Qu(Xu[r],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ud(e,t,u,r,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&dd(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&ud(e,t,l,r,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,fd=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var _d="function"===typeof setTimeout?setTimeout:void 0,wd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Md="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(Ad)}:_d;function Ad(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Ed(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return e.removeChild(r),void jh(t);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ke]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Fd(e.ownerDocument.body);n=r}while(n);jh(t)}function Cd(e,t){var n=e;e=0;do{var i=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=i}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function kd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Rd(e){return"$?"===e.data||"$~"===e.data}function Nd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Id=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Od(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Bd=new Map,Ud=new Set;function Hd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=L.d;L.d={f:function(){var e=Vd.f(),t=$c();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?is(t):Vd.r(e)},D:function(e){Vd.D(e),jd("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),jd("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var i=Gd;if(i&&e&&t){var r='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+yt(n.imageSizes)+'"]')):r+='[href="'+yt(e)+'"]';var a=r;switch(t){case"style":a=Wd(e);break;case"script":a=Yd(e)}Bd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bd.set(a,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Xd(a))||"script"===t&&i.querySelector(Qd(a))||(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=Gd;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+yt(i)+'"][href="'+yt(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Yd(e)}if(!Bd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Bd.set(a,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(a)))return}hd(i=n.createElement("link"),"link",e),et(i),n.head.appendChild(i)}}},X:function(e,t){Vd.X(e,t);var n=Gd;if(n&&e){var i=$e(n).hoistableScripts,r=Yd(e),a=i.get(r);a||((a=n.querySelector(Qd(r)))||(e=p({src:e,async:!0},t),(t=Bd.get(r))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}},S:function(e,t,n){Vd.S(e,t,n);var i=Gd;if(i&&e){var r=$e(i).hoistableStyles,a=Wd(e);t=t||"default";var o=r.get(a);if(!o){var s={loading:0,preload:null};if(o=i.querySelector(Xd(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bd.get(a))&&$d(e,n);var l=o=i.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Jd(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:s},r.set(a,o)}}},M:function(e,t){Vd.M(e,t);var n=Gd;if(n&&e){var i=$e(n).hoistableScripts,r=Yd(e),a=i.get(r);a||((a=n.querySelector(Qd(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=Bd.get(r))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}};var Gd="undefined"===typeof document?null:document;function jd(e,t,n){var i=Gd;if(i&&"string"===typeof t&&t){var r=yt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Ud.has(r)||(Ud.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}}function qd(e,t,n,i){var r,a,s,l,c=(c=W.current)?Hd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Wd(n.href),(i=(n=$e(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Wd(n.href);var u=$e(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Xd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bd.set(e,n),u||(r=c,a=e,s=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=r.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),hd(a,"link",s),et(a),r.head.appendChild(a))))),t&&null===i)throw Error(o(528,""));return d}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(i=(n=$e(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Wd(e){return'href="'+yt(e)+'"'}function Xd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+yt(e)+'"]'}function Qd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return t.instance=i,et(i),i;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(i=(e.ownerDocument||e).createElement("style")),hd(i,"style",r),Jd(i,n.precedence,e),t.instance=i;case"stylesheet":r=Wd(n.href);var a=e.querySelector(Xd(r));if(a)return t.state.loading|=4,t.instance=a,et(a),a;i=Kd(n),(r=Bd.get(r))&&$d(i,r),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(a,"link",i),t.state.loading|=4,Jd(a,n.precedence,e),t.instance=a;case"script":return a=Yd(n.src),(r=e.querySelector(Qd(a)))?(t.instance=r,et(r),r):(i=n,(r=Bd.get(a))&&eh(i=p({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),hd(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Jd(i,n.precedence,e));return t.instance}function Jd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,o=0;o<i.length;o++){var s=i[o];if(s.dataset.precedence===t)a=s;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var i=new Map,r=th=new Map;r.set(n,i)}else(i=(r=th).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Ke]||a[He]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=i.get(o);s?s.push(a):i.set(o,[a])}}return i}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sh=new Map,t.forEach(ch,e),sh=null,oh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=sh.get(e);if(n)var i=n.get(null);else{n=new Map,sh.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var o=r[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(r=t.instance).getAttribute("data-precedence"),(a=n.get(o)||i)===i&&n.set(null,r),n.set(o,r),this.count++,i=oh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var uh={$$typeof:_,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function dh(e,t,n,i,r,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,i,r,a,o,s,l,c,u,d){return e=new dh(e,t,n,o,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Fi(3,null,null,t),e.current=a,a.stateNode=e,(t=Br()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},ga(a),e}function ph(e){return e?e=Oi:Oi}function mh(e,t,n,i,r,a){r=ph(r),null===i.context?i.context=r:i.pendingContext=r,(i=va(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=ba(e,i,t))&&(Kc(n,0,t),xa(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Di(e,67108864);null!==t&&Kc(t,0,67108864),gh(e,67108864)}}function vh(e){if(13===e.tag||31===e.tag){var t=Wc(),n=Di(e,t=Oe(t));null!==n&&Kc(n,0,t),gh(e,t)}}var bh=!0;function xh(e,t,n,i){var r=I.T;I.T=null;var a=L.p;try{L.p=2,wh(e,t,n,i)}finally{L.p=a,I.T=r}}function _h(e,t,n,i){var r=I.T;I.T=null;var a=L.p;try{L.p=8,wh(e,t,n,i)}finally{L.p=a,I.T=r}}function wh(e,t,n,i){if(bh){var r=Sh(i);if(null===r)td(e,t,i,Mh,n),Lh(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ch=Oh(Ch,e,t,n,i,r),!0;case"dragenter":return Ph=Oh(Ph,e,t,n,i,r),!0;case"mouseover":return kh=Oh(kh,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Rh.set(a,Oh(Rh.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Nh.set(a,Oh(Nh.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Lh(e,i),4&t&&-1<Ih.indexOf(e)){for(;null!==r;){var a=Ze(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Te(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-xe(o);s.entanglements[1]|=l,o&=~l}Lu(a),0===(6&pc)&&(Ic=le()+500,Ou(0,!1))}}break;case 31:case 13:null!==(s=Di(a,2))&&Kc(s,0,2),$c(),gh(a,2)}if(null===(a=Sh(i))&&td(e,t,i,Mh,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else td(e,t,i,null,n)}}function Sh(e){return Ah(e=It(e))}var Mh=null;function Ah(e){if(Mh=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mh=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Eh=!1,Ch=null,Ph=null,kh=null,Rh=new Map,Nh=new Map,Dh=[],Ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Ch=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":kh=null;break;case"pointerover":case"pointerout":Rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(t.pointerId)}}function Oh(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Ze(t))&&yh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Be(e.priority,function(){vh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Be(e.priority,function(){vh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&yh(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Dt=i,n.target.dispatchEvent(i),Dt=null,t.shift()}return!0}function Bh(e,t,n){Fh(e)&&n.delete(t)}function Uh(){Eh=!1,null!==Ch&&Fh(Ch)&&(Ch=null),null!==Ph&&Fh(Ph)&&(Ph=null),null!==kh&&Fh(kh)&&(kh=null),Rh.forEach(Bh),Nh.forEach(Bh)}function Hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Uh)))}var Vh=null;function Gh(e){Vh!==e&&(Vh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===Ah(i||n))continue;break}var a=Ze(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function jh(e){function t(t){return Hh(t,e)}null!==Ch&&Hh(Ch,e),null!==Ph&&Hh(Ph,e),null!==kh&&Hh(kh,e),Rh.forEach(t),Nh.forEach(t);for(var n=0;n<Dh.length;n++){var i=Dh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)zh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],o=r[Ve]||null;if("function"===typeof a)o||Gh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(r=a,o=a[Ve]||null)s=o.formAction;else if(null!==Ah(r))continue}else s=o.action;"function"===typeof s?n[i+1]=s:(n.splice(i,3),i-=3),Gh(n)}}}function qh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Wh(e){this._internalRoot=e}function Xh(e){this._internalRoot=e}Xh.prototype.render=Wh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));mh(t.current,Wc(),e,t,null,null)},Xh.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),$c(),t[Ge]=null}},Xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&zh(e)}};var Kh=r.version;if("19.2.4"!==Kh)throw Error(o(527,Kh,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return d(r),e;if(a===i)return d(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=a;break}if(c===i){s=!0,i=r,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,i=r;break}if(c===i){s=!0,i=a,n=r;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ye=Qh.inject(Yh),ve=Qh}catch(Jh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,i="",r=Ms,a=As,l=Ts;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,i,null,r,a,l,qh),e[Ge]=t.current,$u(e),new Wh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var i=!1,r="",a=Ms,l=As,c=Ts,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,i,r,u,a,l,c,qh)).context=ph(null),n=t.current,(r=va(i=Oe(i=Wc()))).callback=null,ba(n,r,i),n=i,t.current.lanes=n,Ne(t,n),Lu(t),e[Ge]=t.current,$u(e),new Xh(t)},t.version="19.2.4"},672(e,t,n){"use strict";var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},927(e,t,n){var i,r,a,o;o=function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{BlockMath:()=>d,InlineMath:()=>h}),t=o(t),n=r(n),i=r(i);const s=(e,r)=>{let{displayMode:a}=r;const o=n=>{let{children:r,errorColor:o,math:s,renderError:l}=n;const c=null!==s&&void 0!==s?s:r,{html:u,error:d}=(0,t.useMemo)(()=>{try{return{html:i.default.renderToString(c,{displayMode:a,errorColor:o,throwOnError:!!l}),error:void 0}}catch(d){if(d instanceof i.default.ParseError||d instanceof TypeError)return{error:d};throw d}},[c,o,l]);return d?l?l(d):t.default.createElement(e,{html:"".concat(d.message)}):t.default.createElement(e,{html:u})};return o.propTypes={children:n.default.string,errorColor:n.default.string,math:n.default.string,renderError:n.default.func},o},l={html:n.default.string.isRequired},c=e=>{let{html:n}=e;return t.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}})};c.propTypes=l;const u=e=>{let{html:n}=e;return t.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:n}})};u.propTypes=l;const d=s(c,{displayMode:!0}),h=s(u,{displayMode:!1})},"object"===typeof e.exports?o(t,n(43),n(173),n(183)):(r=[t,n(43),n(173),n(183)],void 0===(a="function"===typeof(i=o)?i.apply(t,r):i)||(e.exports=a))},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in i={},t)"key"!==a&&(i[a]=t[a]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var _=x.prototype=new b;_.constructor=x,g(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray;function S(){}var M={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function T(e,t,i){var r=i.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function k(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return k((u=e._init)(e._payload),t,r,a,o)}}if(u)return o=o(e),u=""===a?"."+P(e,0):a,w(o)?(r="",null!=u&&(r=u.replace(C,"$&/")+"/"),k(o,t,r,"",function(e){return e})):null!=o&&(E(o)&&(l=o,c=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+u,o=T(l.type,c,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(w(e))for(var f=0;f<e.length;f++)u+=k(a=e[f],t,r,s=p+P(a,f),o);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=k(a=a.value,t,r,s=p+P(a,f++),o);else if("object"===s){if("function"===typeof e.then)return k(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var i=[],r=0;return k(e,i,"","",function(e){return t.call(n,e,r++)}),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=I,t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return M.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)!A.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(i[a]=t[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];i.children=o}return T(e.type,r,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var i,r={},a=null;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)A.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===r[i]&&(r[i]=o[i]);return T(e,a,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.T,n={};M.T=n;try{var i=e(),r=M.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(S,D)}catch(a){D(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),M.T=t}},t.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},t.use=function(e){return M.H.use(e)},t.useActionState=function(e,t,n){return M.H.useActionState(e,t,n)},t.useCallback=function(e,t){return M.H.useCallback(e,t)},t.useContext=function(e){return M.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return M.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return M.H.useEffect(e,t)},t.useEffectEvent=function(e){return M.H.useEffectEvent(e)},t.useId=function(){return M.H.useId()},t.useImperativeHandle=function(e,t,n){return M.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.H.useMemo(e,t)},t.useOptimistic=function(e,t){return M.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return M.H.useReducer(e,t,n)},t.useRef=function(e){return M.H.useRef(e)},t.useState=function(e){return M.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.H.useTransition()},t.version="19.2.4"},43(e,t,n){"use strict";e.exports=n(288)},579(e,t,n){"use strict";e.exports=n(799)},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(g=!1,_(e),!f)if(null!==i(c))f=!0,M||(M=!0,S());else{var t=i(u);null!==t&&N(w,t.startTime-e)}}var S,M=!1,A=-1,T=5,E=-1;function C(){return!!y||!(t.unstable_now()-E<T)}function P(){if(y=!1,M){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(A),A=-1),m=!0;var a=p;try{t:{for(_(e),h=i(c);null!==h&&!(h.expirationTime>e&&C());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,_(e),n=!0;break t}h===i(c)&&r(c),_(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&N(w,l.startTime-e),n=!1}}break e}finally{h=null,p=a,m=!1}n=void 0}}finally{n?S():M=!1}}}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,R=k.port2;k.port1.onmessage=P,S=function(){R.postMessage(null)}}else S=function(){v(P,0)};function N(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===i(c)&&e===i(u)&&(g?(b(A),A=-1):g=!0,N(w,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,M||(M=!0,S()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853(e,t,n){"use strict";e.exports=n(896)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>i[e]);return o.default=()=>i,n.d(a,o),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),i=n(391);function r(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],d=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var g="popstate";function y(){return M(function(e,t){let{pathname:n="/",search:i="",hash:r=""}=S(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),_("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:w(t))},function(e,t){b("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function M(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s="POP",l=null,u=d();function d(){return(o.state||{idx:null}).idx}function h(){s="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:s,location:m.location,delta:t})}function p(e){return A(e)}null==u&&(u=0,o.replaceState(c(c({},o.state),{},{idx:u}),""));let m={get action(){return s},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(g,h),l=e,()=>{r.removeEventListener(g,h),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let i=_(m.location,e,t);n&&n(i,e),u=d()+1;let c=x(i,u),h=m.createHref(i);try{o.pushState(c,"",h)}catch($r){if($r instanceof DOMException&&"DataCloneError"===$r.name)throw $r;r.location.assign(h)}a&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let i=_(m.location,e,t);n&&n(i,e),u=d();let r=x(i,u),c=m.createHref(i);o.replaceState(r,"",c),a&&l&&l({action:s,location:m.location,delta:0})},go:e=>o.go(e)};return m}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:w(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function T(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,i){let r=V(("string"===typeof t?S(t):t).pathname||"/",n);if(null==r)return null;let a=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=H(r);o=F(a[s],e,i)}return o}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(i)&&o)return;v(l.relativePath.startsWith(i),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(i.length)}let c=Y([i,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),C(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of P(e.path))a(e,t,!0,i);else a(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let o=P(i.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),r&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var k=/^:[\w-]+$/,R=3,N=2,D=1,I=10,L=-2,O=e=>"*"===e;function z(e,t){let n=e.split("/"),i=n.length;return n.some(O)&&(i+=L),t&&(i+=N),n.filter(e=>!O(e)).reduce((e,t)=>e+(k.test(t)?R:""===t?D:I),i)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,r={},a="/",o=[];for(let s=0;s<i.length;++s){let e=i[s],l=s===i.length-1,c="/"===a?t:t.slice(a.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:Y([a,u.pathname]),pathnameBase:Q(Y([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=Y([a,u.pathnameBase]))}return o}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=U(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1),l=i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch($r){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat($r,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}var G=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function j(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function q(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=W(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=S(e):(i=c({},e),v(!i.pathname||!i.pathname.includes("?"),q("?","pathname","search",i)),v(!i.pathname||!i.pathname.includes("#"),q("#","pathname","hash",i)),v(!i.search||!i.search.includes("#"),q("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:i,search:r="",hash:a=""}="string"===typeof e?S(e):e;return i?(i=i.replace(/\/\/+/g,"/"),t=i.startsWith("/")?j(i.substring(1),"/"):j(i,n)):t=n,{pathname:t,search:Z(r),hash:J(a)}}(i,a),u=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var $=class{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function te(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ie(e,t){let n=e;if("string"!==typeof n||!G.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(ne)try{let e=new URL(window.location.href),i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=V(i.pathname,t);i.origin===e.origin&&null!=a?n=a+i.search+i.hash:r=!0}catch(a){b(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:i,isExternal:r,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var re=["POST","PUT","PATCH","DELETE"],ae=(new Set(re),["GET",...re]);new Set(ae),Symbol("ResetLoaderData");var oe=e.createContext(null);oe.displayName="DataRouter";var se=e.createContext(null);se.displayName="DataRouterState";var le=e.createContext(!1);function ce(){return e.useContext(le)}var ue=e.createContext({isTransitioning:!1});ue.displayName="ViewTransition";var de=e.createContext(new Map);de.displayName="Fetchers";var he=e.createContext(null);he.displayName="Await";var pe=e.createContext(null);pe.displayName="Navigation";var me=e.createContext(null);me.displayName="Location";var fe=e.createContext({outlet:null,matches:[],isDataRoute:!1});fe.displayName="Route";var ge=e.createContext(null);ge.displayName="RouteError";var ye="REACT_ROUTER_ERROR";function ve(){return null!=e.useContext(me)}function be(){return v(ve(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(me).location}var xe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _e(t){e.useContext(pe).static||e.useLayoutEffect(t)}function we(){let{isDataRoute:t}=e.useContext(fe);return t?function(){let{router:t}=Ie("useNavigate"),n=Oe("useNavigate"),i=e.useRef(!1);_e(()=>{i.current=!0});let r=e.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(i.current,xe),i.current&&("number"===typeof e?await t.navigate(e):await t.navigate(e,c({fromRouteId:n},r)))},[t,n]);return r}():function(){v(ve(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(oe),{basename:n,navigator:i}=e.useContext(pe),{matches:r}=e.useContext(fe),{pathname:a}=be(),o=JSON.stringify(X(r)),s=e.useRef(!1);_e(()=>{s.current=!0});let l=e.useCallback(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(s.current,xe),!s.current)return;if("number"===typeof e)return void i.go(e);let l=K(e,JSON.parse(o),a,"path"===r.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:Y([n,l.pathname])),(r.replace?i.replace:i.push)(l,r.state,r)},[n,i,o,a,t]);return l}()}e.createContext(null);function Se(){let{matches:t}=e.useContext(fe),n=t[t.length-1];return n?n.params:{}}function Me(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:i}=e.useContext(fe),{pathname:r}=be(),a=JSON.stringify(X(i));return e.useMemo(()=>K(t,JSON.parse(a),r,"path"===n),[t,a,r,n])}function Ae(t,n,i,r,a){v(ve(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(pe),{matches:s}=e.useContext(fe),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Be(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=be();if(n){var g;let e="string"===typeof n?S(n):n;v("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let y=m.pathname||"/",x=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=T(t,{pathname:x});b(p||null!=_,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),b(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Ne(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Y([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Y([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,i,r,a);return n&&w?e.createElement(me.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},w):w}function Te(){let t=ze(),n=ee(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:o},"ErrorBoundary")," or"," ",e.createElement("code",{style:o},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:a},i):null,s)}var Ee=e.createElement(Te,null),Ce=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let t=this.state.error;if(this.context&&"object"===typeof t&&t&&"digest"in t&&"string"===typeof t.digest){const e=function(e){if(e.startsWith("".concat(ye,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new $(t.status,t.statusText,t.data)}catch(t){}}(t.digest);e&&(t=e)}let n=void 0!==t?e.createElement(fe.Provider,{value:this.props.routeContext},e.createElement(ge.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?e.createElement(ke,{error:t},n):n}};Ce.contextType=le;var Pe=new WeakMap;function ke(t){let{children:n,error:i}=t,{basename:r}=e.useContext(pe);if("object"===typeof i&&i&&"digest"in i&&"string"===typeof i.digest){let t=function(e){if(e.startsWith("".concat(ye,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(i.digest);if(t){let n=Pe.get(i);if(n)throw n;let a=ie(t.location,r);if(ne&&!Pe.get(i)){if(!a.isExternal&&!t.reloadDocument){const e=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:t.replace}));throw Pe.set(i,e),e}window.location.href=a.absoluteURL||a.to}return e.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(a.absoluteURL||a.to)})}}return n}function Re(t){let{routeContext:n,match:i,children:r}=t,a=e.useContext(oe);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(fe.Provider,{value:n},r)}function Ne(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!i)return null;if(i.errors)t=i.matches;else{if(0!==n.length||i.initialized||!(i.matches.length>0))return null;t=i.matches}}let a=t,o=null===i||void 0===i?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(i)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}let c=i&&r?(e,t)=>{var n,a;r(e,{location:i.location,params:null!==(n=null===(a=i.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==n?n:{},unstable_pattern:te(i.matches),errorInfo:t})}:void 0;return a.reduceRight((t,r,u)=>{let d,h=!1,p=null,m=null;i&&(d=o&&r.route.id?o[r.route.id]:void 0,p=r.route.errorElement||Ee,s&&(l<0&&0===u?(Be("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===u&&(h=!0,m=r.route.hydrateFallbackElement||null)));let f=n.concat(a.slice(0,u+1)),g=()=>{let n;return n=d?p:h?m:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(Re,{match:r,routeContext:{outlet:t,matches:f,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===u)?e.createElement(Ce,{location:i.location,revalidation:i.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):g()},null)}function De(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ie(t){let n=e.useContext(oe);return v(n,De(t)),n}function Le(t){let n=e.useContext(se);return v(n,De(t)),n}function Oe(t){let n=function(t){let n=e.useContext(fe);return v(n,De(t)),n}(t),i=n.matches[n.matches.length-1];return v(i.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),i.route.id}function ze(){var t;let n=e.useContext(ge),i=Le("useRouteError"),r=Oe("useRouteError");return void 0!==n?n:null===(t=i.errors)||void 0===t?void 0:t[r]}var Fe={};function Be(e,t,n){t||Fe[e]||(Fe[e]=!0,b(!1,n))}var Ue={};function He(e,t){e||Ue[t]||(Ue[t]=!0,console.warn(t))}t.useOptimistic;e.memo(function(e){let{routes:t,future:n,state:i,onError:r}=e;return Ae(t,void 0,i,r,n)});function Ve(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ge(t){let{basename:n="/",children:i=null,location:r,navigationType:a="POP",navigator:o,static:s=!1,unstable_useTransitions:l}=t;v(!ve(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=e.useMemo(()=>({basename:c,navigator:o,static:s,unstable_useTransitions:l,future:{}}),[c,o,s,l]);"string"===typeof r&&(r=S(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:f="default"}=r,g=e.useMemo(()=>{let e=V(d,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:m,key:f},navigationType:a}},[c,d,h,p,m,f,a]);return b(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:e.createElement(pe.Provider,{value:u},e.createElement(me.Provider,{children:i,value:g}))}function je(e){let{children:t,location:n}=e;return Ae(qe(t),n)}e.Component;function qe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];return e.Children.forEach(t,(t,r)=>{if(!e.isValidElement(t))return;let a=[...n,r];if(t.type===e.Fragment)return void i.push.apply(i,qe(t.props.children,a));v(t.type===Ve,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=qe(t.props.children,a)),i.push(o)}),i}var We="get",Xe="application/x-www-form-urlencoded";function Ke(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Ye=null;var Qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ze(e){return null==e||Qe.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Xe,'"')),null)}function Je(e,t){let n,i,r,a,o;if(Ke(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");i=o?V(o,t):null,n=e.getAttribute("method")||We,r=Ze(e.getAttribute("enctype"))||Xe,a=new FormData(e)}else if(function(e){return Ke(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ke(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(i=s?V(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||We,r=Ze(e.getAttribute("formenctype"))||Ze(o.getAttribute("enctype"))||Xe,a=new FormData(o,e),!function(){if(null===Ye)try{new FormData(document.createElement("form"),0),Ye=!1}catch(e){Ye=!0}return Ye}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,i)}}else{if(Ke(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=We,i=null,r=Xe,o=e}var s;return a&&"text/plain"===r&&(o=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function $e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function et(e,t,n,i){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname="".concat(r.pathname,"_.").concat(i):r.pathname="".concat(r.pathname,".").concat(i):"/"===r.pathname?r.pathname="_root.".concat(i):t&&"/"===V(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(i):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(i),r}async function tt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch($r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error($r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nt(e){return null!=e&&"string"===typeof e.page}function it(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function rt(e,t,n,i,r,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function at(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1),[...new Set(i)];var i}function ot(e,t){let n=new Set,i=new Set(t);return e.reduce((e,r)=>{if(t&&!nt(r)&&"script"===r.as&&r.href&&i.has(r.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(r));return n.has(a)||(n.add(a),e.push({key:a,link:r})),e},[])}function st(e,t){return"lazy"===e.mode&&!0===t}function lt(){let t=e.useContext(oe);return $e(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ct(){let t=e.useContext(se);return $e(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ut=e.createContext(void 0);function dt(){let t=e.useContext(ut);return $e(t,"You must render this element inside a <HydratedRouter> element"),t}function ht(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pt(e,t,n){if(n&&!yt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ut.displayName="FrameworkContext";function mt(t){let{page:n}=t,i=r(t,d),{router:a}=lt(),o=e.useMemo(()=>T(a.routes,n,a.basename),[a.routes,n,a.basename]);return o?e.createElement(gt,c({page:n,matches:o},i)):null}function ft(t){let{manifest:n,routeModules:i}=dt(),[r,a]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return ot((await Promise.all(e.map(async e=>{let i=t.routes[e.route.id];if(i){let e=await tt(i,n);return e.links?e.links():[]}return[]}))).flat(1).filter(it).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(t,n,i).then(t=>{e||a(t)}),()=>{e=!0}},[t,n,i]),r}function gt(t){let{page:n,matches:i}=t,a=r(t,h),o=be(),{future:s,manifest:l,routeModules:u}=dt(),{basename:d}=lt(),{loaderData:p,matches:m}=ct(),f=e.useMemo(()=>rt(n,i,m,l,o,"data"),[n,i,m,l,o]),g=e.useMemo(()=>rt(n,i,m,l,o,"assets"),[n,i,m,l,o]),y=e.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(i.forEach(n=>{var i;let r=l.routes[n.route.id];r&&r.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in p&&null!==(i=u[n.route.id])&&void 0!==i&&i.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let r=et(n,d,s.unstable_trailingSlashAwareDataRequests,"data");return t&&e.size>0&&r.searchParams.set("_routes",i.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[d,s.unstable_trailingSlashAwareDataRequests,p,o,l,f,i,n,u]),v=e.useMemo(()=>at(g,l),[g,l]),b=ft(g);return e.createElement(e.Fragment,null,y.map(t=>e.createElement("link",c({key:t,rel:"prefetch",as:"fetch",href:t},a))),v.map(t=>e.createElement("link",c({key:t,rel:"modulepreload",href:t},a))),b.map(t=>{var n;let{key:i,link:r}=t;return e.createElement("link",c(c({key:i,nonce:a.nonce},r),{},{crossOrigin:null!==(n=r.crossOrigin)&&void 0!==n?n:a.crossOrigin}))}))}var yt=!1;function vt(t){let{manifest:n,serverHandoffString:i,isSpaMode:a,renderMeta:o,routeDiscovery:s,ssr:l}=dt(),{router:d,static:h,staticContext:p}=lt(),{matches:m}=ct(),f=ce(),g=st(s,l);o&&(o.didRenderScripts=!0);let y=pt(m,null,a);e.useEffect(()=>{0},[]);let v=e.useMemo(()=>{var a;if(f)return null;let o=p?"window.__reactRouterContext = ".concat(i,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=h?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let i="route".concat(t),r=n.routes[e.route.id];$e(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=r,u=[...a?[{module:a,varName:"".concat(i,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(i,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===u.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(i," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=r(e,u),a=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:i.routes[t]}),{});return c(c({},i),{},{routes:l,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",c(c({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),e.createElement("script",c(c({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),b=yt||f?[]:(n.entry.imports.concat(at(y,n,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let _="object"===typeof n.sri?n.sri:{};return He(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),yt||f?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",c(c({},t),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}})):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:_[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:_[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:_[n],suppressHydrationWarning:!0})),v)}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function xt(t){let{error:n,isOutsideRemixApp:i}=t;console.error(n);let r,a=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(n))return e.createElement(_t,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(_t,{title:"Application Error!",isOutsideRemixApp:i},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function _t(t){var n;let{title:i,renderScripts:r,isOutsideRemixApp:a,children:o}=t,{routeModules:s}=dt();return null!==s.root&&void 0!==n&&n.Layout&&!a?o:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,i)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?e.createElement(vt,null):null)))}var wt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{wt&&(window.__reactRouterVersion="7.13.0")}catch(Lb){}function St(t){let{basename:n,children:i,unstable_useTransitions:r,window:a}=t,o=e.useRef();null==o.current&&(o.current=y({window:a,v5Compat:!0}));let s=o.current,[l,c]=e.useState({action:s.action,location:s.location}),u=e.useCallback(t=>{!1===r?c(t):e.startTransition(()=>c(t))},[r]);return e.useLayoutEffect(()=>s.listen(u),[s,u]),e.createElement(Ge,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var Mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=e.forwardRef(function(t,n){let{onClick:i,discover:a="render",prefetch:o="none",relative:s,reloadDocument:l,replace:u,state:d,target:h,to:m,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:y}=t,b=r(t,p),{basename:x,unstable_useTransitions:_}=e.useContext(pe),S="string"===typeof m&&Mt.test(m),M=ie(m,x);m=M.to;let A=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ve(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=e.useContext(pe),{hash:a,pathname:o,search:s}=Me(t,{relative:n}),l=o;return"/"!==i&&(l="/"===o?i:Y([i,o])),r.createHref({pathname:l,search:s,hash:a})}(m,{relative:s}),[T,E,C]=function(t,n){let i=e.useContext(ut),[r,a]=e.useState(!1),[o,s]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let m=()=>{a(!0)},f=()=>{a(!1),s(!1)};return i?"intent"!==t?[o,p,{}]:[o,p,{onFocus:ht(l,m),onBlur:ht(c,f),onMouseEnter:ht(u,m),onMouseLeave:ht(d,f),onTouchStart:ht(h,m)}]:[!1,p,{}]}(o,b),P=function(t){let{target:n,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=we(),d=be(),h=Me(t,{relative:o});return e.useCallback(p=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(p,n)){p.preventDefault();let n=void 0!==i?i:w(d)===w(h),m=()=>u(t,{replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:l});c?e.startTransition(()=>m()):m()}},[d,u,h,i,r,n,t,a,o,s,l,c])}(m,{replace:u,state:d,target:h,preventScrollReset:f,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});let k=e.createElement("a",c(c(c({},b),C),{},{href:M.absoluteURL||A,onClick:M.isExternal||l?i:function(e){i&&i(e),e.defaultPrevented||P(e)},ref:bt(n,E),target:h,"data-discover":S||"render"!==a?void 0:"true"}));return T&&!S?e.createElement(e.Fragment,null,k,e.createElement(mt,{page:A})):k});At.displayName="Link";var Tt=e.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:a=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:d,children:h}=t,p=r(t,m),f=Me(u,{relative:p.relative}),g=be(),y=e.useContext(se),{navigator:b,basename:x}=e.useContext(pe),_=null!=y&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.useContext(ue);v(null!=i,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pt("useViewTransitionState"),a=Me(t,{relative:n});if(!i.isTransitioning)return!1;let o=V(i.currentLocation.pathname,r)||i.currentLocation.pathname,s=V(i.nextLocation.pathname,r)||i.nextLocation.pathname;return null!=B(a.pathname,s)||null!=B(a.pathname,o)}(f)&&!0===d,w=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,S=g.pathname,M=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),M=M?M.toLowerCase():null,w=w.toLowerCase()),M&&x&&(M=V(M,x)||M);const A="/"!==w&&w.endsWith("/")?w.length-1:w.length;let T,E=S===w||!s&&S.startsWith(w)&&"/"===S.charAt(A),C=null!=M&&(M===w||!s&&M.startsWith(w)&&"/"===M.charAt(w.length)),P={isActive:E,isPending:C,isTransitioning:_},k=E?i:void 0;T="function"===typeof o?o(P):[o,E?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(P):l;return e.createElement(At,c(c({},p),{},{"aria-current":k,className:T,ref:n,style:R,to:u,viewTransition:d}),"function"===typeof h?h(P):h)});Tt.displayName="NavLink";var Et=e.forwardRef((t,n)=>{let{discover:i="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:l,state:u,method:d=We,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b}=t,x=r(t,f),{unstable_useTransitions:_}=e.useContext(pe),S=Nt(),M=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:i}=e.useContext(pe),r=e.useContext(fe);v(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o=c({},Me(t||".",{relative:n})),s=be();if(null==t){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}t&&"."!==t||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(o.pathname="/"===o.pathname?i:Y([i,o.pathname]));return w(o)}(h,{relative:m}),A="get"===d.toLowerCase()?"get":"post",T="string"===typeof h&&Mt.test(h);return e.createElement("form",c(c({ref:n,method:A,action:M,onSubmit:s?p:t=>{if(p&&p(t),t.defaultPrevented)return;t.preventDefault();let n=t.nativeEvent.submitter,i=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||d,r=()=>S(n||t.currentTarget,{fetcherKey:a,method:i,navigate:o,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b});_&&!1!==o?e.startTransition(()=>r()):r()}},x),{},{"data-discover":T||"render"!==i?void 0:"true"}))});function Ct(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Pt(t){let n=e.useContext(oe);return v(n,Ct(t)),n}Et.displayName="Form";var kt=0,Rt=()=>"__".concat(String(++kt),"__");function Nt(){let{router:t}=Pt("useSubmit"),{basename:n}=e.useContext(pe),i=Oe("useRouteId"),r=t.fetch,a=t.navigate;return e.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:l,formData:c,body:u}=Je(e,n);if(!1===t.navigate){let e=t.fetcherKey||Rt();await r(e,i,t.action||o,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||s,formEncType:t.encType||l,flushSync:t.flushSync})}else await a(t.action||o,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||s,formEncType:t.encType||l,replace:t.replace,state:t.state,fromRouteId:i,flushSync:t.flushSync,viewTransition:t.viewTransition})},[r,a,n,i])}const Dt=JSON.parse('[{"label":"Main","ids":["home","degree","viewer"]},{"label":"Practice & Labs","ids":["problems","lab"]},{"label":"Chemistry","ids":["genchem","genchemlab","ochem","ochem-lab","analytical","inorganic","physical"]},{"label":"Life Sciences","ids":["genbio","biochem1","biochem2","biochem-lab","molbio","microbio","genetics","bioinformatics","cell-biology","cell-physiology","immunology","neurobiology"]},{"label":"Metabolism","ids":["metabolic-cycles"]},{"label":"MCAT Prep","ids":["mcat-prep","cognitive-psychology"]},{"label":"Quantitative","ids":["calculus","stats","physics"]},{"label":"Support","ids":["resources","glossary","about","contact"]}]'),It=JSON.parse('{"L":[{"id":"home","title":"Home","icon":"fa-house","color":"#667eea","description":"Landing page: quick-start, saved views, and entry points to tools.","order":0,"topics":[{"id":"quick-start","title":"Quick-start","summary":"Open the 3D viewer, try virtual lab, and explore resources."}]},{"id":"degree","title":"Degree Roadmap","icon":"fa-road","color":"#4b6cb7","description":"Suggested 4-year roadmap with semester-by-semester guidance and milestones.","order":1,"topics":[{"id":"year1","title":"Year 1 \u2014 Foundations","summary":"Gen Chem, calculus/statistics, intro bio, lab safety."},{"id":"year2","title":"Year 2 \u2014 Core Chemical Principles","summary":"Organic chemistry, physical chemistry intro, analytical methods."},{"id":"year3","title":"Year 3 \u2014 Biochemistry & Techniques","summary":"Enzyme kinetics, molecular biology, lab techniques."},{"id":"year4","title":"Year 4 \u2014 Synthesis & Capstone","summary":"Advanced electives, capstone research, bioinformatics."}]},{"id":"viewer","title":"3D Molecular Viewer","icon":"fa-atom","color":"#9b59b6","description":"Three.js-based 3D viewer: example molecules, saved views, rotation/zoom controls (desktop-optimized).","order":2,"topics":[{"id":"molecule-glucose","title":"Glucose","summary":"Monosaccharide example (C6H12O6)."},{"id":"molecule-atp","title":"ATP","summary":"Energy currency example."},{"id":"saved-views","title":"Saved Views","summary":"LocalStorage-backed camera/view presets."}]},{"id":"genchem","title":"General Chemistry","icon":"fa-flask","color":"#ff6b6b","description":"Atomic structure, periodic trends, thermodynamics, acid-base chemistry, bonding and equilibrium.","order":3,"topics":[{"id":"atomic-structure","title":"Atomic Structure & Periodic Trends","important":true},{"id":"bonding","title":"Chemical Bonding & Molecular Geometry"},{"id":"acid-base","title":"Acid\u2013Base Chemistry","important":true},{"id":"thermodynamics","title":"Thermodynamics & Equilibrium"},{"id":"redox","title":"Redox Reactions"},{"id":"stoichiometry","title":"Stoichiometry & Limiting Reagents","important":true},{"id":"equilibrium-constant","title":"Equilibrium Constants (Kc, Kp)"},{"id":"le-chatelier","title":"Le Ch\xe2telier\u2019s Principle"},{"id":"gas-laws","title":"Gas Laws & Partial Pressures"},{"id":"colligative","title":"Colligative Properties"},{"id":"phase-diagrams","title":"Phase Diagrams & Phase Changes"}]},{"id":"physics","title":"Physics Essentials","icon":"fa-wave-square","color":"#ff8a65","description":"Classical mechanics, waves & oscillations, thermal physics, intro electromagnetism, diagrams.","order":4,"topics":[{"id":"mechanics","title":"Classical Mechanics","important":true},{"id":"waves","title":"Waves & Oscillations"},{"id":"thermal","title":"Thermal Physics"},{"id":"electromagnetism","title":"Electromagnetism (Intro)"},{"id":"diagrams","title":"Free-body & Energy Diagrams"},{"id":"lenses","title":"Lenses & Optics","important":true},{"id":"fluids","title":"Fluids & Bernoulli\u2019s Principle","important":true},{"id":"work-energy","title":"Work\u2013Energy Theorem"},{"id":"power","title":"Power & Efficiency"},{"id":"torque","title":"Torque & Rotational Equilibrium"}]},{"id":"stats","title":"Statistics","icon":"fa-chart-pie","color":"#ff6f00","description":"Biochemical data analysis: descriptive stats, hypothesis testing, regression, power & sampling.","order":5,"topics":[{"id":"descriptive","title":"Descriptive Statistics","important":true},{"id":"replicates","title":"Biological vs Technical Replicates","important":true},{"id":"hypothesis","title":"Hypothesis Testing (t-tests, ANOVA)"},{"id":"regression","title":"Regression & Enzyme Kinetics"},{"id":"error-analysis","title":"Error Analysis & Confidence Intervals"}]},{"id":"genchemlab","title":"General Chemistry Lab","icon":"fa-vial","color":"#2ecc71","description":"Practical lab skills: titration, dilutions, spectroscopy, sample prep, safety and data handling.","order":6,"topics":[{"id":"titration","title":"Titration","important":true},{"id":"dilutions","title":"Dilutions & Molarity"},{"id":"spectroscopy","title":"IR / NMR / UV-Vis Spectroscopy"},{"id":"orbital-basics","title":"Electron Orbitals & Configurations"},{"id":"safety","title":"Lab Safety & Data Recording"}]},{"id":"ochem","title":"Organic Chemistry","icon":"fa-circle-nodes","color":"#f39c12","description":"Functional groups, reaction mechanisms, stereochemistry, spectroscopy for organic compounds.","order":7,"topics":[{"id":"functional-groups","title":"Functional Groups"},{"id":"mech","title":"Reaction Mechanisms"},{"id":"stereochem","title":"Stereochemistry"},{"id":"org-spectroscopy","title":"Organic Spectroscopy (NMR, IR)"},{"id":"acid-base-org","title":"Acid\u2013Base Chemistry in Organic Reactions","important":true},{"id":"aromaticity","title":"Aromaticity & Huckel\u2019s Rule"},{"id":"carbonyl","title":"Carbonyl Chemistry (Aldehydes, Ketones)"},{"id":"reaction-energy","title":"Reaction Energy Diagrams & Transition States"}]},{"id":"ochem-lab","title":"Organic Chemistry Lab","icon":"fa-flask-vial","color":"#e67e22","description":"Hands-on organic lab techniques: synthesis, purification, spectroscopy, and green chemistry principles.","order":8,"topics":[{"id":"extraction","title":"Liquid\u2013Liquid Extraction","important":true},{"id":"chromatography","title":"Chromatography (TLC, Column)","important":true},{"id":"recrystallization","title":"Recrystallization & Purification"},{"id":"synthesis","title":"Organic Synthesis & Retrosynthesis","important":true},{"id":"spectroscopy-lab","title":"IR / NMR / MS in Organic Lab"},{"id":"green-chemistry","title":"Green Chemistry Principles"}]},{"id":"analytical","title":"Analytical Chemistry","icon":"fa-chart-line","color":"#3b82f6","description":"Quantitative methods, calibration curves, instrument-specific workflows (LC-MS, NMR basics).","order":9,"topics":[{"id":"calibration","title":"Calibration & Standard Curves","important":true},{"id":"instrument-methods","title":"Instrument Methods (LC-MS, UV-Vis)"},{"id":"error-propagation","title":"Error Propagation & Limits of Detection"},{"id":"lod-loq","title":"Limits of Detection & Quantification","important":true},{"id":"chromatography","title":"Chromatography (HPLC, GC)"},{"id":"mass-spec","title":"Mass Spectrometry Fundamentals"},{"id":"electrochem","title":"Electrochemistry & Sensors"}]},{"id":"inorganic","title":"Inorganic Chemistry","icon":"fa-cubes-stacked","color":"#f97316","description":"Coordination compounds, crystal field theory, organometallics, and catalysis basics.","order":10,"topics":[{"id":"coordination","title":"Coordination Compounds & Nomenclature"},{"id":"crystal-field","title":"Crystal Field Theory"},{"id":"organometallics","title":"Organometallic Chemistry Basics"},{"id":"catalysis","title":"Catalysis & Reaction Mechanisms","important":true}]},{"id":"biochem1","title":"Biochemistry I","icon":"fa-microscope","color":"#e74c3c","description":"Core metabolism and enzyme function: glycolysis, TCA, electron transport, Michaelis\u2013Menten kinetics.","order":11,"topics":[{"id":"glycolysis","title":"Glycolysis","important":true},{"id":"tca","title":"Citric Acid Cycle (TCA)"},{"id":"mm-kinetics","title":"Michaelis\u2013Menten Kinetics","important":true},{"id":"etc","title":"Electron Transport Chain"},{"id":"gluconeogenesis","title":"Gluconeogenesis"},{"id":"glycogen","title":"Glycogen Metabolism"},{"id":"fatty-acids","title":"Fatty Acid Oxidation"},{"id":"regulation","title":"Metabolic Regulation & Control","important":true}]},{"id":"biochem2","title":"Biochemistry II","icon":"fa-vials","color":"#9b59b6","description":"Regulation, signaling, pathways, advanced lab techniques, and structural biology basics.","order":12,"topics":[{"id":"regulation","title":"Pathway Regulation & Signaling"},{"id":"structural-bio","title":"Structural Biology (PDB, protein folding)"},{"id":"lab-tech","title":"Lab Techniques (PCR, gels, cloning)","important":true}]},{"id":"biochem-lab","title":"Biochemistry Lab","icon":"fa-vials","color":"#c0392b","description":"Experimental biochemistry techniques: protein purification, enzyme kinetics, nucleic acid analysis, and cell culture.","order":13,"topics":[{"id":"protein-purification","title":"Protein Purification & Analysis","important":true},{"id":"enzyme-assays","title":"Enzyme Assays & Kinetics","important":true},{"id":"gel-electrophoresis","title":"SDS-PAGE & Gel Electrophoresis"},{"id":"western-blot","title":"Western Blotting"},{"id":"nucleic-acid-techniques","title":"DNA/RNA Techniques (PCR, Quantification)","important":true},{"id":"cell-culture","title":"Cell Culture Techniques"}]},{"id":"calculus","title":"Calculus for Chemists","icon":"fa-calculator","color":"#6c5ce7","description":"Partial derivatives, total differentials, integrals, DEs and approximations used in physical chemistry/stat mech.","order":14,"topics":[{"id":"partial-derivatives","title":"Partial Derivatives & Thermo"},{"id":"differential-eq","title":"Differential Equations & Rate Laws"},{"id":"integrals-partitions","title":"Integrals & Partition Functions"}]},{"id":"physical","title":"Physical Chemistry","icon":"fa-wave-square","color":"#3498db","description":"Quantum chemistry, statistical mechanics, thermodynamics and kinetics with math toolkit.","order":15,"topics":[{"id":"quantum","title":"Quantum Chemistry & MO Theory"},{"id":"statmech","title":"Statistical Mechanics"},{"id":"thermo-advanced","title":"Advanced Thermodynamics"}]},{"id":"genbio","title":"General Biology","icon":"fa-leaf","color":"#16a085","description":"Cell structure, physiology, molecular biology basics relevant to biochemistry.","order":16,"topics":[{"id":"cell-bio","title":"Cell Structure & Function"},{"id":"bioenergetics","title":"Bioenergetics & Membranes"}]},{"id":"molbio","title":"Molecular Biology","icon":"fa-dna","color":"#e67e22","description":"DNA/RNA structure, replication, transcription/translation, and recombinant DNA technology.","order":17,"topics":[{"id":"dna-rna","title":"DNA & RNA Structure"},{"id":"replication","title":"DNA Replication"},{"id":"tx-translation","title":"Transcription & Translation"},{"id":"recombinant-dna","title":"Recombinant DNA Technology","important":true},{"id":"rna-processing","title":"RNA Processing & Splicing"},{"id":"gene-regulation","title":"Gene Regulation (Operons, Enhancers)","important":true},{"id":"crispr","title":"CRISPR & Genome Editing"},{"id":"rna-interference","title":"RNA Interference (siRNA, miRNA)"}]},{"id":"microbio","title":"Microbiology","icon":"fa-bacteria","color":"#27ae60","description":"Bacterial structure, viral life cycles, antimicrobial mechanisms, and lab methods.","order":18,"topics":[{"id":"bacterial-structure","title":"Bacterial Structure & Physiology"},{"id":"viruses","title":"Viruses & Replication Cycles"},{"id":"antibiotics","title":"Antibiotics & Mechanisms","important":true}]},{"id":"bioinformatics","title":"Bioinformatics","icon":"fa-code","color":"#1abc9c","description":"Sequence analysis, alignments, and structure databases.","order":19,"topics":[{"id":"blast","title":"BLAST & Sequence Alignment"},{"id":"databases","title":"GenBank, UniProt, PDB"},{"id":"msa","title":"Multiple Sequence Alignment (Clustal, MUSCLE)"},{"id":"phylogenetics","title":"Phylogenetics & Evolutionary Trees"},{"id":"motifs","title":"Motifs, Domains & HMMs"},{"id":"structure-pred","title":"Protein Structure Prediction (AlphaFold)"},{"id":"variant-analysis","title":"Variant Calling & Annotation"}]},{"id":"genetics","title":"Genetics","icon":"fa-dna","color":"#ff6b6b","description":"DNA structure & replication, transcription/translation, molecular techniques and epigenetics.","order":20,"topics":[{"id":"dna-structure","title":"DNA Structure & Replication","important":true},{"id":"tx-translation","title":"Transcription & Translation"},{"id":"molecular-techniques","title":"PCR, Sequencing, Cloning","important":true},{"id":"epigenetics","title":"Epigenetics"}]},{"id":"problems","title":"Practice Problems","icon":"fa-pen-to-square","color":"#764ba2","description":"Problem sets and worked solutions across modules (calcs, kinetics, titrations, genetics problems).","order":21,"topics":[{"id":"kinetics-problems","title":"Enzyme Kinetics Practice"},{"id":"acid-base-problems","title":"Acid\u2013Base & Titration Problems"},{"id":"stats-problems","title":"Statistics & Hypothesis Testing"}]},{"id":"lab","title":"Virtual Lab","icon":"fa-laptop-code","color":"#2bcbba","description":"Interactive enzyme kinetics simulations, noise toggles, fitting Km & Vmax, and chart outputs.","order":22,"topics":[{"id":"enzyme-sim","title":"Enzyme Kinetics Simulator","important":true},{"id":"data-fit","title":"Curve Fitting (Km & Vmax)"}]},{"id":"about","title":"About","icon":"fa-circle-info","color":"#95a5a6","description":"Project description, technical focus, author & contributions.","order":23,"topics":[{"id":"author","title":"Author & Technical Focus"},{"id":"why-project","title":"Why This Project"}]},{"id":"resources","title":"Resources & Links","icon":"fa-book","color":"#4b6cb7","description":"Collections of authoritative databases, visualization tools, virtual labs, and references.","order":24,"topics":[{"id":"databases","title":"Databases & Molecular References"},{"id":"visualization","title":"3D Visualization Tools (Mol*, NGL, PyMOL)"},{"id":"virtual-labs","title":"Virtual Labs & Simulations"}]},{"id":"glossary","title":"Glossary","icon":"fa-book-open","color":"#8e44ad","description":"Key terms and definitions across biochemistry, chemistry, and molecular biology.","order":25,"topics":[{"id":"terms","title":"Key Terms & Definitions"}]},{"id":"contact","title":"Contact","icon":"fa-envelope","color":"#27ae60","description":"Get in touch for questions, feedback, or support.","order":26,"topics":[{"id":"general","title":"General Inquiries"},{"id":"feedback","title":"Feedback"}]},{"id":"metabolic-cycles","title":"Metabolic Cycles","icon":"fa-retweet","color":"#d35400","description":"Pathway maps and cycle-by-cycle breakdowns: enzymes, regulation points, stoichiometry, and integration with central metabolism.","order":27,"topics":[{"id":"glycolysis-map","title":"Glycolysis \u2014 Map & Key Enzymes","important":true},{"id":"tca-cycle","title":"TCA / Citric Acid Cycle","important":true},{"id":"etc-oxphos","title":"Electron Transport & Oxidative Phosphorylation","important":true},{"id":"pentose-phosphate","title":"Pentose Phosphate Pathway (PPP)"},{"id":"urea-cycle","title":"Urea Cycle & Nitrogen Disposal"},{"id":"fatty-acid-oxidation","title":"Fatty Acid \u03b2-oxidation"},{"id":"fatty-acid-synthesis","title":"Fatty Acid Synthesis & Lipogenesis"},{"id":"gluconeogenesis","title":"Gluconeogenesis & Regulation"},{"id":"amino-acid-metabolism","title":"Amino Acid Catabolism & Key Transaminations"},{"id":"integrated-maps","title":"Integrated Metabolic Maps (interactive)"}]},{"id":"mcat-prep","title":"MCAT Prep","icon":"fa-graduation-cap","color":"#2c3e50","description":"High-yield concept reviews, practice passages, timing strategies, and exam-style question banks mapped to AAMC topics.","order":28,"topics":[{"id":"chem-phys-foundations","title":"Chemical & Physical Foundations","important":true},{"id":"bio-biochem-foundations","title":"Biological & Biochemical Foundations","important":true},{"id":"psych-soc","title":"Psychology & Sociology Foundations"},{"id":"cars-strategies","title":"CARS \u2014 Comprehension & Strategy"},{"id":"practice-passages","title":"Practice Passages & Explanations","important":true},{"id":"full-lengths","title":"Full-Length Exam Simulations"},{"id":"high-yield-facts","title":"High-Yield Facts & Cheat Sheets","important":true},{"id":"timing-test-day","title":"Timing, Breaks & Test-Day Logistics"}]},{"id":"cell-biology","title":"Cell Biology","icon":"fa-microscope","color":"#1abc9c","description":"Cell structure, membranes, organelles, transport, cytoskeleton, and signalling.","order":29,"includeInPractice":true,"topics":[{"id":"membrane-transport","title":"Membrane Transport & Channels"},{"id":"organelles","title":"Organelles & Function"},{"id":"cytoskeleton","title":"Cytoskeleton & Motility"},{"id":"cell-division","title":"Cell Cycle & Mitosis/Meiosis"},{"id":"cell-signaling","title":"Cell Signaling Pathways"},{"id":"membrane-dynamics","title":"Endocytosis/Exocytosis & Vesicle Trafficking"}]},{"id":"cell-physiology","title":"Cell Physiology","icon":"fa-heart-pulse","color":"#16a085","description":"Physiological processes at the cellular level: membrane potentials, excitability, transport energetics.","order":30,"includeInPractice":true,"topics":[{"id":"membrane-potential","title":"Membrane Potential & Nernst Equation"},{"id":"ion-transport","title":"Ion Pumps and Transport Energetics"},{"id":"cell-volume","title":"Osmosis & Cell Volume Regulation"},{"id":"electrophysiology","title":"Basic Electrophysiology (action potentials)"},{"id":"cell-metabolism","title":"Cellular Energy & Metabolic Integration"}]},{"id":"immunology","title":"Immunology","icon":"fa-shield-virus","color":"#c0392b","description":"Innate and adaptive immunity, antibody structure, antigen presentation, and immune responses.","order":31,"includeInPractice":true,"topics":[{"id":"innate-immunity","title":"Innate Immunity & Inflammation"},{"id":"adaptive-immunity","title":"Adaptive Immunity (B & T cells)"},{"id":"antibodies","title":"Antibody Structure & Function"},{"id":"antigen-presentation","title":"Antigen Presentation & MHC"},{"id":"vaccines","title":"Vaccines & Immunological Memory"}]},{"id":"cognitive-psychology","title":"Cognitive Psychology","icon":"fa-brain","color":"#8e44ad","description":"Foundational cognitive science topics: memory, attention, perception, and learning relevant to neuro/behavioral modules.","order":32,"includeInPractice":true,"topics":[{"id":"memory","title":"Memory Systems & Models"},{"id":"attention","title":"Attention & Perception"},{"id":"learning","title":"Learning & Conditioning"},{"id":"decision-making","title":"Decision Making & Cognitive Biases"},{"id":"cognition-neuro","title":"Neurocognitive Bases (overview)"}]},{"id":"neurobiology","title":"Neurobiology","icon":"fa-brain","color":"#2c3e50","description":"Cellular and systems neuroscience: neurons, synapses, signaling, neurotransmitters, and circuits.","order":33,"includeInPractice":true,"topics":[{"id":"neuron-structure","title":"Neuron Structure & Ion Channels"},{"id":"synaptic-transmission","title":"Synaptic Transmission & Plasticity"},{"id":"nt-systems","title":"Neurotransmitters & Receptor Types"},{"id":"sensory-systems","title":"Sensory Systems & Pathways"},{"id":"neurophysiology","title":"Systems Neurophysiology (basic circuits)"}]}]}');var Lt=n(579);const Ot=t=>{let{collapsed:n,setCollapsed:i}=t;return(0,e.useEffect)(()=>{const e=()=>i(window.innerWidth<900);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]),(0,Lt.jsxs)("aside",{className:"sidebar ".concat(n?"collapsed":""),children:[(0,Lt.jsxs)("div",{className:"sidebar-header",children:[!n&&(0,Lt.jsx)("h2",{className:"sidebar-title",children:"Biochem Guide"}),(0,Lt.jsx)("button",{className:"sidebar-toggle",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,Lt.jsx)("i",{className:"fa-solid ".concat(n?"fa-chevron-right":"fa-chevron-left")})})]}),Dt.map(e=>(0,Lt.jsxs)("nav",{className:"sidebar-group",children:[!n&&(0,Lt.jsx)("h3",{className:"group-label",children:e.label}),(0,Lt.jsx)("ul",{className:"group-list",children:e.ids.map(e=>{const t=It.L.find(t=>t.id===e);if(!t)return null;const i="home"===e?"/":"/".concat(e);return(0,Lt.jsx)("li",{children:(0,Lt.jsxs)(Tt,{to:i,"data-tooltip":t.title,className:e=>{let{isActive:t}=e;return"nav-link ".concat(t?"active":"")},children:[(0,Lt.jsx)("span",{className:"nav-icon",style:{color:t.color},children:(0,Lt.jsx)("i",{className:"fa-solid ".concat(t.icon)})}),!n&&(0,Lt.jsx)("span",{className:"nav-text",children:t.title})]})},e)})})]},e.label))]})},zt=e=>{let{title:t,text:n,color:i}=e;return(0,Lt.jsxs)("div",{style:{background:"white",padding:14,borderRadius:10,borderLeft:"4px solid ".concat(i)},children:[(0,Lt.jsx)("strong",{children:t}),(0,Lt.jsx)("p",{style:{margin:"6px 0",color:"#555"},children:n})]})},Ft=()=>{const e=we();return(0,Lt.jsx)("main",{className:"content home-page",children:(0,Lt.jsxs)("section",{className:"section active",children:[(0,Lt.jsxs)("div",{className:"home-hero",children:[(0,Lt.jsxs)("div",{className:"hero-left",children:[(0,Lt.jsx)("h1",{className:"hero-title",children:"Explore Biochemistry in 3D"}),(0,Lt.jsx)("p",{className:"hero-description",children:"Visualize molecules in real time, rotate structures, and explore biochemical interactions through an interactive 3D viewer and virtual labs."}),(0,Lt.jsxs)("div",{className:"hero-cta-group",children:[(0,Lt.jsx)("button",{className:"cta-primary",onClick:()=>e("/viewer"),children:"\ud83e\uddec Open 3D Molecular Viewer"}),(0,Lt.jsx)("button",{className:"cta-secondary",onClick:()=>e("/lab"),children:"Try Virtual Lab"}),(0,Lt.jsx)("button",{className:"cta-link",onClick:()=>e("/resources"),children:"Browse Resources \u2192"})]}),(0,Lt.jsx)("p",{className:"hero-subtext",children:"No setup required \u2022 Interactive rotation \u2022 Save views"})]}),(0,Lt.jsx)("div",{className:"hero-right",children:(0,Lt.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxASDxAREBAQERAQEBAVEhYQFhcVGBYXFhEYFxUTFRkYICggGh4lGxMVIjEhMSo3Ly4uGx8/ODQsOSotLjABCgoKDg0OGxAQGy8mICYrLzcxMzEvLTAvNy8yLS0vLy0tLi8tNS0tLS0tLS0tNS8tLS0vLS0tLS0tLS0tLS0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQYBBAcCA//EADgQAAICAgEDAwIEBQMCBwEAAAECAAMEERIFITEGEyJBUQcUMmEjQnGBkVKh0SQzQ3KisbLB4RX/xAAZAQEAAwEBAAAAAAAAAAAAAAAAAgMEAQX/xAAuEQEAAgIBAwMCBgICAwAAAAAAAQIDESEEEjETQVEiYTJxgZGh8LHBBRQjM0L/2gAMAwEAAhEDEQA/AO4wEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA1682prHqW2trawC6BgWUHwWXyJzcb0nOO0Vi0xxPu2J1AgICB8srJStGssdURBtmcgAD9yZyZ15SrW1p7axuTGyEsRbK3V0cbVlIII+4IiJ34LVms9to1L6zqJAQEBAQEBAQEBAQEBAQEBAQEBAQKv619TfkWxdj43PYGP24qNdtd/kw/tuZuqyZKU/8AH+L2bej6WM/dMz4hX8K0Y3UPzL4yLkZaXe8z3ivgi8SNVEHuwRST/wDHch0sZe2LZY+qfLubNFsXZ3cR4jX+0I/4lsnUr792thqOC1P8P5PixB8bZSd633l9rTW32Sw4ceXBOuLR778/oueP6254hyvy6qoTkA9wB86PIFdgedHR3rwJp9PfETy8r1Yjc2idR/fG0difizh2Oa1pyBYHIIYKAAoJZid/sRrW/E5jxze3bBmzVxUm8+G70/8AEjEuyWx0ruBVbHLt7YUIgG2/Xv6+Nb/acvSaTqUsV4yxE092l1P1XidRxraUVzT8TcHUqwUWKeQ1viPHy/2nj9V1WXvrTHTdfef1exXpb9LfumdW9kz6I6x096FxsJ24UllVbAQx8uW7+d7J/wCJ6WO1Zj6WXrMWWl95fMrRLGQgICAgICAgICAgICAgICAgICAgIGnn9Mov171SWaB1zG9b+o+x/fyJzTsWmPCmflrX6pjC98N+n11sKKTq3jao4qdlT89fUt9/rqZ56ikZvTmeZhomkelvU73ynMb0n0s3WZKY9LveTyYEspblyYouyqsWHcgbOu80M87ieUlYuIzFW/Ls/ZyG4E/A6DEHv2P1+k7FiaTrcxw+OXg4rWVhqqWNrMTtAQ38NySe2ie3mInXhGYiY1KK9YthYWOt7YVblbFCGutNoeJPMn6ABP8AYSGTJ2RuWnpunnPbtiYjj3c46j0jqLHqF2FjW0I4psDVci9ytraKnIhSfcNhCgFSpHckRXe/CWaKxSPq3PuvHoDoWQlzZtlNWJXkY1S/lk2WV1P632o4nW+31330dzsRqVd8ndTU8z8/6XuSUkBAQEBAQEBAQEBAQEBAQEBAQEBA82ICCD4IIP8AeCOFK6L+H2PT7wAcAsfb9xg/8uuZA1vz2H9T5mf/AKuLui0xzDXm63Llndp5V/1Z6Xx8e2sLkY9HLvTWodLPivf2uB/7jHsGHEkkdyQJrpfHSs0mOZ8MeXD1Ge/rRadR5RnRfT1+fd+YxLHxsfVqIwWzautetfxFUlST3P8AUf0qtFpv3TLVXLjrgjFFed+W5j+iur10JjNkb5WuyvTc6cCVJ+J7HZ048d995opbHFJiY5edkrntmraLfT7+7301OtLTaHpyLm56Vb7gX8dyoc917HwSfsJ4fV9Fk6m1bTbWv7t7k26bFbWOeNPHRPWFq5z3Zb2YlPG5hQFCpYyNxsB9xeTWL2+KkEnwNAiehjm+vrUdRjwRFYwzuZ87dI9MdT/M4y2nlss4IdDWw0fDKfB1o/3+strO42zZMc47ds/wlp1WQEBAQEBAQEBAQEBAQEBAQEBAQEBA1Oq5vs0vbwL8AOw7eWA2T9AN7J+gBnJnUbTx17rRG9OO+oPVCJnOwxQ9uHbqk2lrEFtvyUgjROirEL/TQEwzTNXN3zbdZ8R8N/TRGTHakTqI5n7vPrP1R1C9VqsdsBhXweqpts9mwVccDtdnj8OR7ffZnpVwXtEW3w8y3WYKd2LtmbfPxCzen/XLvXiU2U2tfU6ra2ywKCkqbmfXHezsjfnXfZ1KOpy16es2v7eU8FfViLV8T4n2fb0rk/l6sm/qOern3ONbWk7q2rbbuPjsEHQ7ADz5lPSZYy4++J8tnXXpN4itO3UfujfSXoG+6oDq2QznFyOWOtFqsB9XZ2C8vkSfry0fpNMRpjtabTuXT8TFSpFrrXiijsNk/wC57zqL7QEBAQEBAQEBAQEBAQEBAQEBAQEBAQECD9TdTxcdAt1641mUfbrs47PIDQbx21y8nxvyJC9oiOV2HFe+5rG9eVO9LL02j+DmWC7Jsa4LdkJrmmwQvIE60AD3PnffxM/SdbGWsxG41Put6jpvUtN61jn4Y6T0vpPutk05KB3dkVGsFiJoHR49mYkqugSfI1LbUx5Jm1udpXvnx4q4JjUV8KR61qGI3vYd720WtdTcbCpIYIpNLEa/Urk/QnRjHipSfpd6jqMuXHWto4jlY/RtvUWrwPy/LJ6de5WznWKno4XsLELLYd62xDfzAAedyyZtuNKMdcc0tN51Ps7EJJQQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECC9W9AOZUqrYK2U7BZeQ/20R4Hg/SWY7RW25jarNS96dtbTDk3pLpVJtzLRVZauKWCgIUFYYMG5AHeyqnY2e3ne54/V36q1NYPnnx4e5mwYqZMcceI1r5+6DwKebcEdFra9BWHfgCxs+Abf82iOw/4npdLbHNNXhi/5LF1eLLE1tvfmfh0L0H6jVG6jj5FWOi0upeyrulrv8WDOexOuGh9QdeRJTqGesXvqPMulYSoK09tVROIKqmgACN6HHt/iEX2gICAgICAgICAgICAgICAgICAgICAgICAgc/8AVnqfKwsjjj0LbW787S6truPAKnQOgSSfsJRkyxW8U3HLZgxYrY7XvM8Od+ofVS5WG6DHSoBte3XoLyJDe6oX67Df5HmXenOtwy+rHdqeUf07n+QFLUMKRkLkW2JZ3C8AmijHXYHzo686nMuOYr9UNHRZ6+rNsdoiY/unYfw76+LaqsVaLVSjEpKWsVKuv6Qp4k8W7fpJ3oRHHGleSO6PUmdzM8rnJKSAgICAgICAgICAgICAgICAgICAgICAgRnqBmOPbXWzi21GRPb/AFgspAYf087/AGnJjcaTx27bRaY3qVAy/SPUF9jFpyVYAMbrLW7kMRyYL3PEbICk7/fUw5Ohpe8XtzMf3h6VOtxTF5tXz40qHU8HFwXTAyQuStprtORUQgK8ipqDFhx2a2Vm5HQI137DbEzSrz81q5bxaI0lvRXq+itjW1IrSy4jGYqti1o7BT7rk8ifl/jyTuctl51KzD0VrY5vXURDrNXWsP8AgqmRj/x9ikI6EPxOjw0dHv2/rJbhRWlpiZiPCSnUSAgICAgICAgICAgICAgICAgICAgICBA9f9V42JbXTa2rbUZk32XQ33Zj42QQJm6nPOKkzWNz7Q19P0eTNHdXxEuf9Q69j05v/wDSRrrcq9XSmpVPtMBxq5cvLbK8eI/m/tKuiyzeO/NGrT7NHUY+o9CcVIjVZ53xKu2ep8sWZN+auZjnKDfl0YsnF67QydmUbRNKD277Owdmb6xOuZebkvFpjtrrUfv+Zf0DNyTTW9bVvk/xOJI4DmQzs5/lbS7157KNTRacc03HE/DDjjNXLMTzE+74eqPTjYf5UKtrrcSCnEsCQw5srqSNkP47+O+/pjydkW7p4epiyZIxdkfK8egPTOO17c+lmhMJqrMS6x3L2GxeTc++rApA4t48a0dyWonlXW9qxMR7unzqBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAoGez5fUb8TMx8YY/tsMa4qGc91BRX32LfLY7a4DzM05aTk9O0xv2+W/jFirkxWnu9/hv209KwMfHqykx6+DWmhbuNj7LEsys2yCd7J39porSPEQyZOovNptaZ5cn9QnEYZ3C852TffUqfmcdlsStf56HRgVOtbOvkEG10e8rRMKsdotPPhuej/AFHk03V1qEf419rxrda/EoH1vetjffvokHxIUpev42rqs2C86wR48tbqXV+p9QsFOSMmhrbCa6/acVA1+CF0WYDZ2wJ8/XQkMlYtxKfTzNazeNcfu8+k/wA7jZ92TcmXWzo1VtrIAR7dlJsYi0r7iitCNDv3Gh9rKxFY1DLae6du3+m/UuLnJY+K5dan4MWUr31sEA/QzkWifCeXDbHru94TEkqICAgICAgICAgICAgICAgICAgICB5fwfr2MDmnoj02pfJqty1b2n3TVTYVsq+T/wAWwdmB2VI7+Rv66mGvR4pyd8/ih6nV9Va8VtFdRPz7qZ6xopxVt6cS9ubWfcN7gIHqIW06LsSNeDo6JX7ma6V7Y0xdTm9a/drX2TfoTpGBmNUGArzKqT7iks/IBl+Xy2C2vJ2ezfUGS9Xut55hC3R2w44t26rK1Yvpvp1N6FHxv/EDcz7h4ujAp83IA+I7f0ll72t5Z8eKmONVWGrPweNZOTSy2ErX7ligMQoPFFOlJC6PYeNSCxzr1f6jw7upUi/HyK2wcgoHNnBLKz35jtrXIIwO+419+2bNktE/TXbbjxTGOZ3GpXr0n17EyLcunFoak0W7s3WtYsLEj3Bx874nue5GpdW21GXFata2md7WWTUkBAQEBAQEBAQEBAQEBAQEBAQEBAq/rL1YmG1FPFzbkEheI3rvxGvuSzKNfuf2By9XbJ6fbi/FPhs6XpvUi158QrleQem5P5i3p9j5GWD7962qFXnYSq8T8Q3wUt9B2795zpoyVrEZI595Ty2jLj/HxXxCI9YerGyas6q7GBxa8gVBuQUbUpxHPvuwWHkQPjx+/mbqViZ5nTzMt7VjdY2rWF6e6oGS2ug1ri1LxaocXuU9h8VPJn0wBH0C9wTFcdO/mUr9Vm9Hj9m5X6Yy2sZMikqLKudBPAOWOm4MpfYA4+CBomWTesX48M8Y72xanynT+HGRe9OQ11lbMlYsqZAxqA3sVuWA/m8a7Enue0pyfj3SWzp7RGKa5axMzCN616EXEp3n33X80vY3JtErVDXxVuzFrW5MV2wQaPZtd4TEb3KdMl4p6dfEt/8ACzExLcnnxzqXoAShcmztcBti/wAVXRAAJQEqAw87kYis23EpznvGH0pjjbsMsZyAgICAgICAgICAgICAgICAgICAgVH1jmYhsWt76xlVoeNbdzxcry19mKr57nX0mTquojDSbxG5j2asOLJavxWZ8/kjPUnUem5mAMfJc0uUDKCSGTgx4kWMpX5BOQB/UveWYM3qUi0xqfhXfBavPt8uTL1Ky2hMVq6rKMVkXVYFYsAXgjW2KQzHSa327EfaW2pknmviFmDL0tazTNxM+JXdvxT0xXD6dXoPXW4exR2XYIAGvsQNdtjuZbSk2YcuStPdvVercjNDW9ONeMMV9Oti8lckni3xGyNB1PjXIH+kZhOttx4VrO9Q9arvoNl+RWz1WVVqyELa3uMhKJ/O2yujrfjXYgzl5rW0Rvyt6fBkzYr31Edvtvz+T7eqvU/VK7q2uvyKq68T5PiITWxfkvN9sEB5FVJP6SO2iROXrHd9M8GDNrFNb0julqemc3lh5WNfk3Y1grS+u1nZeaaVwoQgFuTMF8997HYd6JwUrM3jja/psl5yViI7vs7X6bza7cWk12+9xrrVmJBYsEG+ZH833l9Z3HCjLWa3mLRqUpOqyAgICAgICAgICAgICAgICAgICBTfWXRsZBlZz0pbkHHKUqdqeQRh5B0ex148DX1mbPmxYdWvOt8NOGcmSIx7+lSPWYz7sbDy8mhq8a50OXWlgXzbwVfIbi9fEjyRvvrtLt/TtH04nL6dZ435aXTacS/qfTbLFuSu8OiUV1gJ/DZq6yzAjtve9A64L3865XLvX3WZei7O7cxPa6d1b0/06qpjeuMlXP3Wa5QNsq65FgVLnjsdydiWxaa8wxzji/ExtpV3dMrZMil6wGJtY4tI2/JSfdKohZv5Ty/v9IiNlp7PLab1V0k0tkPlr7dV3tFmdxpyO3EDudjZ2B439jOTDsT8J3puVjXVcqHqtqYkbQhgTrZB/f7g94HPPVfS+nZXUUAtZHx9V5HAowYEkisciSCrEbGtfL7ief1fV0xXrW0TqZ/R6HT0yY6TeI5nxPuvXpnKxDSKcS2uxcXVTe3oAEDXgdu+j3/rNtLVmPpZc2PLWd5InnnlLyakgICAgICAgICAgICAgICAgICAgcs610yzEGVbfdmZdNmQQE4OSpYclZW2dL3KkgfRP6TLk6fHf/2Rtu9ecuopEV1H5bVirIyPatFL2ZmC1dtuVjWOi3VKrlQqBtkle2yq8fj/AOWXY4isaiVfUXtl1ft1Hjx7t30t6LvycauyrIfGLY9jY7NzNgLMVYsRoBWDN4JBDDtNU5K+nFYh5lcN/Wm9p49nqz8L8qxK6rb++KrGhmZnXm5Usq19+C7BO9d9Dzszkzj7I15Kxm9Se6Y7fb5WXo/p+7HyMepqzZjlLFax01Zr5sFcoN+da120BvxO91Jpz+JzsyxljX4P5aLfhYrZXJrGfFCfEMqi3kAdDZAXiDo7+uta+sqte1snfP7NmOuGnTejWvO/PujrfR9+DhtlZWc9dtFz2/8ASqpZ1VVAPydV5/EnR3oEgbkLxN53MrOmyxgpakVidx7s/hXUzZtv/VYl1r0pfYQrs5ZyH5AsigEe4eWj5IB/aPZPfMz4WXzYrYK1rE93u6h0joVGNZe9CKgyGDuqj+YA7Pnx3J14Gz95OKxHhTfLe+u6d6Sk6rICAgICAgICAgICAgICAgICAgIFM9b42e11RouVMT22FyMhOySRslQTr5L9RoKT38SrJW1uInTTjvijHMWru2+Jcr65iW0ZD3YduQlatbXcwU1WqXqNlgCuA/DieXLXYfX4xTF2xzPPy7PVWmsU/wDmJ3pO9B6r1dMXhgWnMxvZsFDiv+JWK/k2ls+fY8q1B2P06HiX461rXnll6nJfJkmaxqJeH/EPq9eLe9poVlro1zpcPWS4QtYOygnf82gCe32k74prWLfLPi6it7zjje4Wz0v1PP8Ag2YxJF7aR0AsZPyxKhOB0fnZ9e/Y+fpzJ2bjt+HcPqanv+f4U/ovq7qLXZ1VN73fmKb7KjaHc0sGA+BX9IAYjXEDYXx33XTttbVJ/dq6muXDSLZaanXiOf7KOxPXvUkrvL2Y+ZV7iBhlcGG2BChEJVyCUJ0AfH08yNu6L6jwnj9KcE2nff7R9liq657eVVkLhVY2Vm1KWbHtRms/QCrI3ZAX4eD48nsZj6yvUWiPRnUrcUYe3dp5Xj071LKOZk4t+O6V1jmlzEkOTx2FOgCDtjoeNHc045v4vCOXHijHW1LbmfMfC0S1mICAgICAgICAgICAgICAgICAgIEZ6kOT+Vt/KGpb9Dgbu6/qHLfY/wAu/pI23rhbh9Pvj1N6+zg1hcdQvV7q3yLq6wWRS3ydkIU8k0FRWIYa/wDvUIi0RzLVe+G969ldRHn7rV6c9bt06m7DvxaW/LLYytQ9ahmZl4oVCgNs2fqUk9/0+TLqY79sTZh6nNhnLaMP8pjpv4m9Oeq5rMW6u+sVe5WlYY2FjxUI2x/6uM7NZ3qFUWjt7pTdfXcQ2UWCu2tGQWKx5dg6sCGUEgHeu/1/pOTExOpTrMWjceEZV6t6PXffjJW1RLGw8alVbmH6nHbyNHudHsZ2adpGack+d64bB6H0TqNBrxUxSGd7CaVNbciCjOQvE77/AFkXVXPozqHTrqstL6My3YrZrfi3HwNlyxKjQOwdr9AdbmbPljFMWtaIieG/p5xWxzjtXn5dS6WWdA91arYpYKwKtyX6OpH0P0+s0MM8JCdcICAgICAgICAgICAgICAgICAgIGp1Six6bFpdUsKnizLyG9dtj7TkpVmItHd4cF9Q9CuxKbky8ZLLcuwucimza1ikLqtgF4ryLltaBI+58V7tWvPMtcUwZs0xX6arD0L1Ij8QcDGTAcNXk3Cvi1ahC1KggbbRTtoHuBrWp3FkzTPPsz5enwVpbc8ylB6a6Tk04wpyKGawu9FjNt3bkRo7A+PIaKaBPEfaa++029S0b08/0sdaejWdTMfql8r03lJi1Y1eV7Vh5j3EJXbNzZQB2Ogvx3vev8SnNPqTMxw19Frp+3v+rXyqN/4YZtF1L0WC5bDrJawVoa1JXnw2WJBHL/Cg9p2lrV58z93M9KZJnUaj4jho+m8PNozL8DDvoS1TzstoT3goXiSQPqfkoKkeSftM9Jt3dtnpdTjwTijLi49te669E9G5aVcLcp2tNyu7uSyhWX+IlWySTvj8iBvXgSjP0OLPrv8AZVPWWmYmIiOE76J6fl41NlGXcb2Szdb6OgnBQFBb9wx19N6mrHWaxqZQ6rLjy37qV7Vjk2YgICAgICAgICAgICAgICAgY3AzAQEDhnrNrhnZwuozhRkvTjKyVhgRzLM6Mw0CVHYDffW/tI1tMzMaX5MVK0raLbmfMfCJWxKaLsVbgq4+Sqm3uVvBLBa9nXEr89HWjwY6Ej/2r4+ccbSy/wDGRkpEZPfnUNin0VbkW211r7Yx7QWZ3dvnvQTSN8Sex5a2NAjX103vWYjt/X83n4sWSu5vr7fkkcrGbCZar3yLMktZkUJju1wZhWQh24LcmsQ+AToDfmRvmx1vEVjyvw9DnyYLZLTH0y0Ou+rM+23F9yz2GxazyqY2CxrEYlmtQABuSoO3gKWPbcjem43H+UsGfsnttHnzOv8ADQNIyL0znarBQ1c3fHFqsbQz1o1akMNsRX+g61yJ0d6ha3bG5WYsNst+3HG/2dR9Ldcrw8Gmq7IOQ2+1pbYb3G5KASToAMBsn6H6TBh66s55wanj39mnN098k91a/p+S9gz0WBmAgIGYCAgICAgICAgIGICBjcBuBjcDHKBjnAx7sCk/iF1vJoZRVg5GXTZjXrb7LOAOXx1tEbiwHfZ+/bxIzae6I0vpjpOKbzbmPZQfSvpVrabqffqLLSuR7NgLXVOp+KMuwA+jonjtf0+GMsxTj7vqjbP1MdR6W6zMfE/6ho42FlUnJxRY+LydckWNzO2Ct/B9vlosxdTyHcBD9xL5iazM08fLHFq3rWMvFvja15PqfPfGTIWnEe5XcK9iqg1sqQvJ964+fl3Otb8CjJSYt215lt6bNSaxbLuK+7R9T53Rbzboe1nvjhTaGcVoSO/cnh47E63xbRPmc7ZjiUe+J5jw1MHDXLpS/qFlladNXFUnjqq6ssOSFj25MECgroHmO3fcqi+97hvydN6fZ2W3M/Hs6Jl9DwOp41LqD7PtJ7ITVZTS6Ve3cDR1x/8AyJpS8b0hXNm6bJMRPPutOMNIo0BpQNA7A0PAMsZZnb67getwMwEDMBAQEBAQEBAQMQMQEDyYHkmB8yTA+NjH7GBo5OaF++/sIENmdbcfpXX9YFaWpDfbcq8brv8AuPvz4+ngeB/gSMViJ3C22a9qxWZ4jw2Rj0MVawFnU7Uk67/0HYyyL2iO2PDNbFS1ovMcwp3qz08lSh1sd1a/m4sJAA8dtDiT31sjfiUcYo29OJv12StOI4/ho5/Sb1ej38O5iXq4+2U4NU/hHZNsP0nQJAXZ8fW3utbmzFfHjpaa44nUffa7U5N2PjZdeVjVJi0qtdaIeRaoEjj3J5duBLHR3uef1leptSYxzEc+fs9HDj6e18cUmdzHPxtN/h7k3PVdbY6Gq2z/AKcKApWtdjiQoAA8Aa+01YO7sjulR1kUrftrHMeV1raXMb6K0D6CB7AgZgICAgICAgICAgICA1AxqA1AagCBAh+odIViXSwox8g/JT/byP8AMCv5eK43yXY+6fIf41v/AGgaBxFPddf2gatuMw+u4Gue/wAWPxIIYHuCPsR9uwgideEd6Z6bbitkPYwf3SgXjy7IhYqO/j9fgdhAtGMxca4cR+/1gSFSMNfIjQAGu2gPAgfZ+te32sYH9h+r/aBZMRdqG0RsA6PmBswEBAQEBAQEBAQEBAQEBAQEBAwTA17huBr+z+0DVy+nVt3Kjl/qHY/5ECJyejt9CHH2bsf8j/gQI63BVSOalT9OX/sD4MDJx113A1AxXegPGtWsf7Js/wCTAkcPo+Rb/wB2wUp/pTux/v8ASBP9O6Jj090QFv8AU/yb/J8f2gSUBAQEBAQEBAQEBAQEBAQEBAQEDyYHgiBjUDyyQPmaoHlqAexGwfvA0buh0N5TQ+ykgf4HiBt4+EiDiiqo+wGoGwtcD7LuB7gICAgICAgICAgICAgICAgICAgYgY1AxqA1AxqA4wHGA4wMhYHoQMwEBAQEBAQEBAQEBAQEBAQEBAQMQEDEBAxAQMwAgZgZgICAgICAgICAgIH/2Q==",alt:"3D molecule illustration",className:"hero-image"})})]}),(0,Lt.jsxs)("div",{className:"feature-grid",children:[(0,Lt.jsx)(zt,{color:"#667eea",title:"3D Molecular Viewer",text:"Load molecules, rotate structures, and inspect atomic details."}),(0,Lt.jsx)(zt,{color:"#2ecc71",title:"Virtual Lab",text:"Run enzyme kinetics experiments and estimate Km and Vmax."}),(0,Lt.jsx)(zt,{color:"#f39c12",title:"Practice Problems",text:"Concept checks aligned with each biochemistry topic."})]}),(0,Lt.jsxs)("div",{className:"info-actions",children:[(0,Lt.jsx)("button",{className:"info-link",onClick:()=>e("/about"),children:"About This Project"}),(0,Lt.jsx)("span",{className:"info-separator",children:"\u2022"}),(0,Lt.jsx)("button",{className:"info-link",onClick:()=>e("/contact"),children:"Contact"})]})]})})},Bt=JSON.parse('[{"id":1,"title":"Buffer System Calculation","difficulty":"Medium","category":"General Chemistry","question":"A buffer solution contains 0.50 M acetic acid (CH\u2083COOH) and 0.30 M sodium acetate (CH\u2083COONa). The pKa of acetic acid is 4.76. Calculate the pH of this buffer solution.","hint":"Use the Henderson\u2013Hasselbalch equation: pH = pKa + log([A\u207b]/[HA]) and plug in the ratio 0.30/0.50.","answer":"pH = 4.54","solution":"Use the Henderson\u2013Hasselbalch equation: pH = pKa + log([A\u207b]/[HA]). pH = 4.76 + log(0.30/0.50) = 4.76 + log(0.6) = 4.76 + (-0.22) = 4.54."},{"id":2,"title":"Stoichiometry","difficulty":"Easy","category":"General Chemistry","question":"How many molecules of water are produced when 2 moles of hydrogen gas react completely with oxygen gas according to the balanced equation: 2H\u2082 + O\u2082 \u2192 2H\u2082O?","hint":"Use the stoichiometric mole ratio (2 mol H\u2082 \u2192 2 mol H\u2082O) and multiply moles of H\u2082O by Avogadro\'s number (6.022\xd710\xb2\xb3).","answer":"1.2044 \xd7 10^24 molecules","solution":"From the balanced equation 2H\u2082 \u2192 2H\u2082O, 2 moles H\u2082 produce 2 moles H\u2082O. 1 mole = 6.022 \xd7 10^23 molecules. Therefore 2 moles = 2 \xd7 6.022 \xd7 10^23 = 1.2044 \xd7 10^24 molecules."},{"id":3,"title":"ATP Yield from Glucose","difficulty":"Hard","category":"Biochemistry I","question":"Calculate the total ATP yield from the complete oxidation of one molecule of glucose through glycolysis, the citric acid cycle, and oxidative phosphorylation. Assume the malate-aspartate shuttle.","hint":"Count ATP, NADH, and FADH\u2082 produced at each stage; convert NADH\u21922.5 ATP and FADH\u2082\u21921.5 ATP (P/O ratios) and sum.","answer":"~30\u201332 ATP per glucose","solution":"Detailed breakdown (assuming malate\u2013aspartate shuttle and P/O ratios NADH\u21922.5 ATP, FADH2\u21921.5 ATP): Glycolysis: 2 ATP (substrate-level) + 2 NADH \u2192 5 ATP. Pyruvate\u2192Acetyl-CoA (\xd72): 2 NADH \u2192 5 ATP. Citric acid cycle (\xd72): 6 NADH \u2192 15 ATP, 2 FADH2 \u2192 3 ATP, 2 GTP \u2192 2 ATP. Total = 2 + 5 + 5 + 15 + 3 + 2 = 32 ATP. Actual yield may vary (30\u201332) due to shuttle efficiency and proton leak."},{"id":4,"title":"Free Energy and Equilibrium","difficulty":"Hard","category":"Physical Chemistry","question":"For a reaction at 298 K, the equilibrium constant Keq = 2.5 \xd7 10^4. Calculate \u0394G\xb0 for this reaction. (R = 8.314 J/mol\xb7K)","hint":"Use \u0394G\xb0 = \u2212RT ln(Keq). Compute ln(2.5\xd710\u2074) first, then multiply by \u2212RT.","answer":"\u0394G\xb0 = \u221225.2 kJ/mol","solution":"Use \u0394G\xb0 = \u2212RT ln(Keq). \u0394G\xb0 = \u2212(8.314 J\xb7mol\u207b\xb9\xb7K\u207b\xb9)(298 K) \xd7 ln(2.5 \xd7 10^4) = \u22122477.6 \xd7 10.127 \u2248 \u221225,088 J/mol = \u221225.2 kJ/mol."},{"id":5,"title":"Stereochemistry","difficulty":"Medium","category":"Organic Chemistry","question":"How many stereoisomers are possible for a molecule with 3 chiral centers?","hint":"Use the maximum formula 2\u207f where n is number of chiral centers; check for meso forms which reduce the count.","answer":"8 stereoisomers","solution":"Maximum stereoisomers = 2^n where n is the number of chiral centers. For n = 3: 2^3 = 8. (Note: the actual number may be less if meso forms are present.)"},{"id":6,"title":"Amino Acid at Physiological pH","difficulty":"Easy","category":"Biochemistry I","question":"Glycine has pKa\u2081 = 2.34 (carboxyl group) and pKa\u2082 = 9.60 (amino group). What is the predominant form of glycine at pH 7.4 (physiological pH)?","hint":"Compare pH to each pKa: if pH > pKa the group is deprotonated; if pH < pKa it\'s protonated.","answer":"Zwitterion form (\u207aH\u2083N-CH\u2082-COO\u207b)","solution":"At pH 7.4: pH > pKa\u2081 (2.34) so the carboxyl group is deprotonated (COO\u207b). pH < pKa\u2082 (9.60) so the amino group is protonated (NH\u2083\u207a). Result: \u207aH\u2083N-CH\u2082-COO\u207b (zwitterion)."},{"id":7,"title":"Michaelis\u2013Menten Kinetics","difficulty":"Medium","category":"Biochemistry II","question":"An enzyme has a Km of 2.0 mM and a Vmax of 100 \u03bcmol/min. Calculate the reaction velocity when the substrate concentration is 6.0 mM.","hint":"Use v = (Vmax \xd7 [S]) / (Km + [S]). Plug in Vmax=100, Km=2.0, [S]=6.0.","answer":"v = 75 \u03bcmol/min","solution":"Use v = (Vmax \xd7 [S]) / (Km + [S]). v = (100 \xd7 6.0) / (2.0 + 6.0) = 600 / 8 = 75 \u03bcmol/min. At [S] = 3\xd7Km, velocity is 75% of Vmax."},{"id":8,"title":"\u03b2-Oxidation Energy Yield","difficulty":"Hard","category":"Biochemistry II","question":"Calculate the total ATP yield from the complete oxidation of palmitic acid (16:0). Include \u03b2-oxidation and the citric acid cycle.","hint":"\u03b2-oxidation cycles = (n/2)\u22121 for even chain; count NADH/FADH\u2082 from cycles and NADH/FADH\u2082/GTP from CAC per acetyl-CoA; subtract activation cost (\u22122 ATP).","answer":"106 ATP","solution":"\u03b2-Oxidation (7 cycles for 16C): 7 FADH2 \u2192 10.5 ATP (1.5 each), 7 NADH \u2192 17.5 ATP (2.5 each). Produces 8 acetyl-CoA. Citric acid cycle (8 acetyl-CoA): 24 NADH \u2192 60 ATP, 8 FADH2 \u2192 12 ATP, 8 GTP \u2192 8 ATP. Activation cost: \u22122 ATP. Total = 10.5 + 17.5 + 60 + 12 + 8 \u2212 2 = 106 ATP."},{"id":9,"title":"DNA Replication \u2014 Complementary Strand","difficulty":"Easy","category":"Genetics","question":"A DNA strand has the sequence 5\'-ATGCTAGC-3\'. What is the sequence of the complementary strand?","hint":"Pair bases A\u2194T and G\u2194C, then write the complementary sequence in the antiparallel (3\'\u21925\') direction.","answer":"3\'-TACGATCG-5\'","solution":"Base pairing: A\u2194T, G\u2194C. Complement of 5\'-ATGCTAGC-3\' is 3\'-TACGATCG-5\' (written antiparallel)."},{"id":10,"title":"Translation","difficulty":"Medium","category":"Genetics","question":"An mRNA sequence reads: 5\'-AUGGCUAAAUAA-3\'. What is the amino acid sequence of the resulting peptide? (AUG=Met, GCU=Ala, AAA=Lys, UAA=Stop)","hint":"Translate codons sequentially from 5\' until you hit a stop codon.","answer":"Met-Ala-Lys","solution":"Read codons 5\'\u21923\': AUG \u2192 Met (start), GCU \u2192 Ala, AAA \u2192 Lys, UAA \u2192 Stop (terminates translation). Peptide: Met-Ala-Lys."},{"id":11,"title":"Signal Transduction","difficulty":"Medium","category":"Biochemistry II","question":"A hormone binds to a GPCR that activates adenylyl cyclase. Describe the signaling cascade that follows and name the key molecules involved.","hint":"Follow the chain: GPCR \u2192 heterotrimeric G protein (Gs) \u2192 adenylyl cyclase \u2192 cAMP \u2192 PKA \u2192 phosphorylation of targets.","answer":"GPCR \u2192 Gs protein \u2192 Adenylyl cyclase \u2192 cAMP \u2192 PKA","solution":"1) Hormone binds GPCR. 2) GPCR activates Gs (heterotrimeric G protein). 3) Gs activates adenylyl cyclase. 4) Adenylyl cyclase converts ATP \u2192 cAMP (second messenger). 5) cAMP activates protein kinase A (PKA). 6) PKA phosphorylates downstream targets; the cascade amplifies the signal."},{"id":12,"title":"R/S Configuration","difficulty":"Easy","category":"Organic Chemistry","question":"Determine the R/S configuration of the chiral center in the molecule with substituents NH2, COOH, CH2SH, and H. (Image: images/config_problem.png)","image_url":"images/config_problem.png","hint":"Assign CIP priorities by atomic number, orient the lowest-priority group away, then trace 1\u21922\u21923: clockwise = R, counterclockwise = S.","answer":"R","solution":"Assign priorities (highest to lowest) based on atomic number: NH2, COOH, CH2SH, H. Orient lowest priority (H) away and trace from highest \u2192 second \u2192 third. The path NH2 \u2192 COOH \u2192 CH2SH is clockwise, so configuration is R."},{"id":13,"title":"Biochemistry \u2014 Electron Transport Chain","difficulty":"Easy","category":"Biochemistry I","question":"During the electron transport chain, which compound acts as the final electron acceptor?","hint":"What small diatomic molecule accepts electrons and combines with protons to form water?","answer":"O\u2082","solution":"Oxygen (O\u2082) accepts electrons at the end of the electron transport chain and combines with protons to form water (H\u2082O)."},{"id":14,"title":"Metabolic Pathways \u2014 NADPH and Ribose-5-Phosphate","difficulty":"Easy","category":"Biochemistry I","question":"Which metabolic pathway is primarily responsible for generating NADPH and ribose-5-phosphate in cells?","hint":"This pathway has an oxidative phase producing NADPH and a non-oxidative phase producing pentoses.","answer":"Pentose Phosphate Pathway","solution":"The Pentose Phosphate Pathway (PPP) produces NADPH (for reductive biosynthesis) and ribose-5-phosphate (for nucleotide synthesis)."},{"id":15,"title":"Metabolic Pathways \u2014 Key Regulatory Enzyme in Glycolysis","difficulty":"Easy","category":"Biochemistry I","question":"Which enzyme is the key regulatory step in glycolysis?","hint":"It\'s the enzyme that converts fructose-6-phosphate to fructose-1,6-bisphosphate and is allosterically regulated by ATP and AMP.","answer":"Phosphofructokinase (PFK)","solution":"Phosphofructokinase catalyzes fructose-6-phosphate \u2192 fructose-1,6-bisphosphate (the committed, highly regulated step) and is regulated by the cell\'s energy status."},{"id":16,"title":"DNA Replication \u2014 Polymerase","difficulty":"Easy","category":"Genetics","question":"During DNA replication, which enzyme is responsible for synthesizing the new DNA strand by adding nucleotides to the 3\' end?","hint":"This enzyme requires a primer and extends from a free 3\'-OH.","answer":"DNA polymerase","solution":"DNA polymerase synthesizes the new strand by adding nucleotides to the free 3\'-OH end; it ensures accurate replication of genetic material."},{"id":17,"title":"DNA vs RNA","difficulty":"Easy","category":"General Biology","question":"Which of the following nucleotides is found in RNA but not in DNA?","hint":"It\'s the base that pairs with adenine in RNA and is structurally different from thymine (no methyl group).","answer":"Uracil","solution":"RNA contains uracil (U) instead of thymine (T), which is present in DNA."},{"id":18,"title":"Cell Organelles \u2014 SER","difficulty":"Easy","category":"General Biology","question":"What is the role of the Smooth Endoplasmic Reticulum (SER) in cells?","hint":"Think lipid metabolism and detoxification \u2014 which ER is smooth and lacks ribosomes?","answer":"Lipid synthesis and detoxification","solution":"The SER is involved in lipid synthesis, carbohydrate metabolism, and detoxification of drugs and poisons."},{"id":19,"title":"Cell Organelles \u2014 Golgi","difficulty":"Easy","category":"General Biology","question":"What is the role of the Golgi apparatus in cells?","hint":"It receives vesicles from the ER and modifies/sorts proteins for secretion or delivery to organelles.","answer":"Protein modification and sorting","solution":"The Golgi modifies, sorts, and packages proteins and lipids for secretion or delivery to organelles."},{"id":20,"title":"Enzyme Kinetics \u2014 Overcome by Substrate Increase","difficulty":"Easy","category":"Biochemistry II","question":"Which type of inhibition can be overcome by increasing substrate concentration?","hint":"If adding more substrate outcompetes the inhibitor at the active site, which inhibition is that?","answer":"Competitive inhibition","solution":"Competitive inhibitors compete with substrate for the active site; adding more substrate outcompetes the inhibitor, restoring activity."},{"id":21,"title":"Enzyme Kinetics \u2014 Inhibition That Decreases Vmax Only","difficulty":"Easy","category":"Biochemistry II","question":"Given an enzyme that follows Michaelis\u2013Menten kinetics, which type of inhibition decreases the Vmax but does not affect the Km?","hint":"An inhibitor that binds to an allosteric site and reduces active enzyme population without changing substrate binding affinity.","answer":"Non-competitive inhibition","solution":"Non-competitive inhibitors bind an allosteric site and reduce the fraction of active enzyme, lowering Vmax while leaving Km (substrate affinity) unchanged."},{"id":22,"title":"Physical Chemistry \u2014 First-Order Reaction (Integrated Rate Law)","difficulty":"Hard","category":"Physical Chemistry","question":"A first-order reaction A \u2192 products follows \u2212d[A]/dt = k[A] where k = 0.693 min\u207b\xb9. (a) Derive the integrated rate law using separation of variables. (b) Determine the time required for [A] to decrease to 25% of initial value. (c) Show why the half-life is independent of [A]\u2080.","hint":"Separate variables: \u2212d[A]/[A] = k dt, integrate to get ln([A]\u2080/[A]) = kt; plug [A]=0.25[A]\u2080 for part (b).","answer":"(a) ln([A]\u2080/[A]) = kt (b) t = ln(4)/0.693 \u2248 2.00 min (c) t\u2081/\u2082 = ln(2)/k, independent of [A]\u2080","solution":"(a) Separate: \u2212d[A]/[A] = k dt; integrate: ln([A]\u2080/[A]) = kt. (b) For [A] = 0.25[A]\u2080: ln(4) = kt \u2192 t = ln(4)/0.693 \u2248 2.00 min. (c) For half-life set [A] = 0.5[A]\u2080: ln(2) = kt\u2081/\u2082 \u2192 t\u2081/\u2082 = ln(2)/k, [A]\u2080 cancels so t\u2081/\u2082 is independent of initial concentration."},{"id":23,"title":"Physical Chemistry \u2014 Helmholtz Free Energy and Pressure","difficulty":"Hard","category":"Physical Chemistry","question":"For a real gas, the Helmholtz free energy is A(T,V) = \u2212nRT ln(V \u2212 nb) \u2212 a(n\xb2/V) with positive constants a and b. (a) Derive pressure as a function of V and T using the appropriate thermodynamic derivative. (b) Show it reduces to the van der Waals equation. (c) Determine the condition for mechanical instability by evaluating (\u2202P/\u2202V)_T.","hint":"Use P = \u2212(\u2202A/\u2202V)_T to get P = nRT/(V \u2212 nb) \u2212 a n\xb2/V\xb2; rearrange to the van der Waals form and differentiate for (\u2202P/\u2202V)_T.","answer":"(a) P = nRT/(V \u2212 nb) \u2212 a n\xb2/V\xb2 (b) Rearranged gives (P + a n\xb2/V\xb2)(V \u2212 nb) = nRT (van der Waals) (c) (\u2202P/\u2202V)_T = \u2212nRT/(V \u2212 nb)\xb2 + 2a n\xb2/V\xb3; mechanical instability when this \u2265 0 (spinodal when = 0).","solution":"(a) P = \u2212(\u2202A/\u2202V)_T. Compute \u2202A/\u2202V = \u2212nRT/(V \u2212 nb) + a n\xb2/V\xb2, so P = nRT/(V \u2212 nb) \u2212 a n\xb2/V\xb2. (b) Multiply both sides: (P + a n\xb2/V\xb2)(V \u2212 nb) = nRT \u2192 van der Waals form. (c) Differentiate: (\u2202P/\u2202V)_T = \u2212nRT/(V \u2212 nb)\xb2 + 2a n\xb2/V\xb3. Mechanical instability (spinodal) occurs when this derivative equals zero (changes sign)."},{"id":24,"title":"Genetics \u2014 Simple Mendelian Cross","difficulty":"Easy","category":"Genetics","question":"In a species where T (tall) is dominant over t (short), if two heterozygous tall plants (Tt \xd7 Tt) are crossed, what is the probability that their offspring will be short?","hint":"Draw a Punnett square for Tt \xd7 Tt; count how many of the four equally likely genotypes are tt.","answer":"1/4","solution":"Punnett square for Tt \xd7 Tt gives genotypes TT, Tt, tT, tt (4 equally likely). Only tt is short \u2192 probability = 1/4."},{"id":25,"title":"Genetics \u2014 tRNA vs mRNA","difficulty":"Medium","category":"Genetics","question":"What makes tRNA different from mRNA in terms of structure and function?","hint":"Think cloverleaf secondary structure, anticodon loop, and amino acid attachment for tRNA vs linear coding sequence for mRNA.","answer":"tRNA is shorter and has a cloverleaf structure with anticodons; mRNA is longer and carries genetic information to ribosomes.","solution":"tRNA (transfer RNA) is relatively short, folds into a cloverleaf secondary structure with an anticodon loop that pairs to mRNA codons and carries specific amino acids. mRNA (messenger RNA) is a linear, typically longer molecule that encodes the amino acid sequence of proteins and serves as the template for translation."},{"id":26,"title":"Analytical Chemistry \u2014 Calibration Curve","difficulty":"Medium","category":"Analytical Chemistry","question":"Given a calibration curve y = 2.5x + 0.5 (y = absorbance, x = concentration in mg/mL), what is the concentration of a sample with absorbance 3.0? With an R\xb2 of 0.98, how reliable is the calibration for predicting concentrations?","hint":"Solve x = (y \u2212 intercept)/slope \u2192 x = (3.0 \u2212 0.5)/2.5. R\xb2 = 0.98 implies a strong linear fit but check residuals for systematic deviations.","answer":"Concentration = 1.0 mg/mL. R\xb2 = 0.98 indicates very high reliability.","solution":"Plug y = 3.0: 3.0 = 2.5x + 0.5 \u2192 2.5 = 2.5x \u2192 x = 1.0 mg/mL. R\xb2 = 0.98 implies the calibration explains 98% of variance in the data; it\'s a very good fit and reliable for predicting concentrations within the calibration range (but consider residuals and experimental error for exact uncertainty)."},{"id":27,"title":"Organic Chemistry \u2014 Nucleophilic Substitution","difficulty":"Medium","category":"Organic Chemistry","question":"In an SN2 reaction, how does the structure of the alkyl halide affect the reaction rate? Compare primary, secondary, and tertiary alkyl halides.","hint":"Consider steric hindrance: SN2 reactions proceed via backside attack, so less hindered substrates react faster.","answer":"Primary > Secondary >> Tertiary in SN2 reaction rate.","solution":"In SN2 reactions, the nucleophile attacks the electrophilic carbon from the opposite side of the leaving group. Primary alkyl halides have the least steric hindrance, allowing for faster nucleophilic attack, followed by secondary alkyl halides which have moderate hindrance. Tertiary alkyl halides are highly hindered, making SN2 reactions very slow or negligible. Thus, the order of reactivity is Primary > Secondary >> Tertiary."},{"id":28,"title":"Organic Chemistry \u2014 IR Spectroscopy","difficulty":"Medium","category":"Organic Chemistry","question":"In an IR spectrum, a strong absorption is observed around 1700 cm\u207b\xb9. What functional group is likely present in the molecule?","hint":"Consider common functional groups with characteristic C=O stretching frequencies.","answer":"Carbonyl group (C=O)","solution":"A strong absorption around 1700 cm\u207b\xb9 in an IR spectrum is characteristic of the C=O stretching vibration found in carbonyl-containing functional groups such as aldehydes, ketones, carboxylic acids, and esters."},{"id":29,"title":"Physical Chemistry \u2014 Colligative Properties","difficulty":"Medium","category":"Physical Chemistry","question":"How does the addition of a non-volatile solute affect the boiling point of a solvent? Calculate the boiling point elevation for 1 mol of NaCl dissolved in 1 kg of water (Kb for water = 0.512 \xb0C\xb7kg/mol).","hint":"Use the boiling point elevation formula \u0394Tb = iKb m, where i is the van\'t Hoff factor (2 for NaCl) and m is molality.","answer":"\u0394Tb = 1.024 \xb0C; New boiling point = 101.024 \xb0C","solution":"For NaCl, i = 2 (dissociates into Na\u207a and Cl\u207b). Molality m = 1 mol / 1 kg = 1 mol/kg. \u0394Tb = iKb m = 2 \xd7 0.512 \xb0C\xb7kg/mol \xd7 1 mol/kg = 1.024 \xb0C. Normal boiling point of water is 100 \xb0C, so new boiling point = 100 + 1.024 = 101.024 \xb0C."},{"id":30,"title":"General Chemistry \u2014 Gas Laws","difficulty":"Easy","category":"General Chemistry","question":"A sample of gas occupies 2.0 L at 1.0 atm and 300 K. What volume will it occupy at 2.0 atm and 400 K? (Use the combined gas law: P1V1/T1 = P2V2/T2)","hint":"Rearrange the combined gas law to solve for V2: V2 = (P1V1T2)/(P2T1).","answer":"V2 = 1.33 L","solution":"Using the combined gas law: V2 = (P1V1T2)/(P2T1) = (1.0 atm \xd7 2.0 L \xd7 400 K) / (2.0 atm \xd7 300 K) = (800) / (600) = 1.33 L."},{"id":31,"title":"Allosteric Regulation \u2014 Sigmoidal Kinetics","difficulty":"Medium","category":"Biochemistry II","question":"An enzyme displays sigmoidal (S-shaped) kinetics instead of Michaelis\u2013Menten behavior. What does this indicate about the enzyme, and how do allosteric activators affect its activity curve?","hint":"Think cooperativity and quaternary structure; compare hyperbolic vs sigmoidal curves.","answer":"The enzyme is allosteric and exhibits cooperativity; activators shift the curve left.","solution":"Sigmoidal kinetics indicate an allosteric enzyme with multiple subunits exhibiting cooperativity. Binding of substrate to one active site affects affinity at others. Allosteric activators stabilize the high-affinity (R) state, shifting the sigmoidal curve left and increasing activity at lower substrate concentrations."},{"id":32,"title":"Glycolysis vs Gluconeogenesis Regulation","difficulty":"Hard","category":"Biochemistry I","question":"Name two enzymes that are reciprocally regulated between glycolysis and gluconeogenesis, and explain why this regulation is necessary.","hint":"Focus on irreversible steps and prevention of futile cycles.","answer":"PFK-1 vs fructose-1,6-bisphosphatase; pyruvate kinase vs pyruvate carboxylase/PEPCK.","solution":"PFK-1 (glycolysis) and fructose-1,6-bisphosphatase (gluconeogenesis) are reciprocally regulated to prevent futile cycling. Similarly, pyruvate kinase is inhibited when pyruvate carboxylase and PEPCK are active. This regulation ensures energy efficiency and directional control depending on metabolic state."},{"id":33,"title":"Redox Carriers \u2014 NADH vs NADPH","difficulty":"Easy","category":"Biochemistry I","question":"Why do cells use NADH and NADPH for different purposes despite their similar structures?","hint":"One is primarily catabolic; the other anabolic.","answer":"NADH is used for ATP production; NADPH is used for biosynthesis and antioxidant defense.","solution":"NADH primarily donates electrons to the electron transport chain for ATP generation (catabolic processes). NADPH provides reducing power for anabolic reactions (fatty acid synthesis, nucleotide synthesis) and antioxidant defense (e.g., glutathione reduction). Separate pools allow independent regulation."},{"id":34,"title":"Protein Structure \u2014 Disulfide Bonds","difficulty":"Medium","category":"Biochemistry I","question":"Where are disulfide bonds most commonly found: cytosolic proteins or secreted proteins? Explain why.","hint":"Consider cellular redox environments.","answer":"Secreted proteins","solution":"Disulfide bonds are most common in secreted and extracellular proteins because the extracellular environment and ER lumen are oxidizing. The cytosol is reducing, which disfavors disulfide bond formation."},{"id":35,"title":"Membrane Transport \u2014 GLUT vs SGLT","difficulty":"Medium","category":"Biochemistry II","question":"Compare GLUT transporters and SGLT transporters in terms of energy usage and mechanism.","hint":"Facilitated diffusion vs secondary active transport.","answer":"GLUT uses facilitated diffusion; SGLT uses secondary active transport with Na\u207a.","solution":"GLUT transporters move glucose down its concentration gradient via facilitated diffusion and do not require energy. SGLT transporters couple glucose uptake to Na\u207a movement down its electrochemical gradient, making them secondary active transporters."},{"id":36,"title":"ETC Inhibition \u2014 Cyanide Poisoning","difficulty":"Hard","category":"Biochemistry II","question":"Cyanide inhibits cytochrome c oxidase (Complex IV). Explain why this rapidly leads to death despite oxygen being present.","hint":"Think electron flow, proton gradient, and ATP synthesis.","answer":"Electron transport stops, ATP synthesis halts, causing cellular hypoxia.","solution":"Cyanide blocks electron transfer to oxygen at Complex IV, stopping the electron transport chain. This collapses the proton gradient, halts oxidative phosphorylation, and prevents ATP synthesis. Cells experience functional hypoxia despite normal oxygen levels, leading to rapid energy failure."},{"id":37,"title":"Amino Acid Properties \u2014 pI Conceptual Trap","difficulty":"Medium","category":"Biochemistry I","question":"At its isoelectric point (pI), will an amino acid migrate in an electric field? Why or why not?","hint":"Net charge matters, not presence of charges.","answer":"No, it has zero net charge.","solution":"At the isoelectric point, an amino acid has equal positive and negative charges, resulting in zero net charge. Because migration in an electric field depends on net charge, the amino acid will not migrate."},{"id":38,"title":"Western Blot Interpretation","difficulty":"Hard","category":"Biochemistry II","question":"A Western blot shows a protein band at a higher molecular weight than expected after after treatment with a modifying enzyme or signaling stimulus. Give a likely explanation.","hint":"Think post-translational modifications.","answer":"Post-translational modification such as phosphorylation or glycosylation.","solution":"An upward shift in molecular weight on a Western blot often indicates post-translational modification. Glycosylation, ubiquitination, or multiple phosphorylations can increase apparent molecular mass."},{"id":39,"title":"Metabolic Integration \u2014 Fed State","difficulty":"Medium","category":"Biochemistry I","question":"In the fed state, which pathways are upregulated in the liver, and which hormone is primarily responsible?","hint":"High glucose, storage mode.","answer":"Glycolysis, glycogenesis, fatty acid synthesis; insulin.","solution":"In the fed state, insulin levels are high. Insulin promotes glycolysis, glycogen synthesis, and fatty acid synthesis in the liver while inhibiting gluconeogenesis and glycogen breakdown."},{"id":40,"title":"Enzyme Specificity \u2014 Lock-and-Key vs Induced Fit","difficulty":"Easy","category":"Biochemistry I","question":"Which enzyme model better explains catalytic efficiency: lock-and-key or induced fit, and why?","hint":"Consider transition state stabilization.","answer":"Induced fit","solution":"The induced-fit model better explains catalysis because enzyme binding induces conformational changes that stabilize the transition state, lowering activation energy. The lock-and-key model does not account for this dynamic interaction."},{"id":41,"title":"Biochemical Thermodynamics \u2014 \u0394G vs \u0394G\xb0\u2032","difficulty":"Medium","category":"Biochemistry I","question":"A reaction has a \u0394G\xb0\u2032 of +5.7 kJ/mol but proceeds spontaneously in the cell. Explain how this is possible.","hint":"Consider actual metabolite concentrations and coupling.","answer":"Because \u0394G depends on concentrations, not just \u0394G\xb0\u2032.","solution":"\u0394G = \u0394G\xb0\u2032 + RT ln Q. Even if \u0394G\xb0\u2032 is positive, a reaction can proceed spontaneously if the reaction quotient Q is kept low (products removed) or if the reaction is coupled to a highly exergonic process such as ATP hydrolysis."},{"id":42,"title":"Enzyme Catalysis \u2014 Mechanistic Strategies","difficulty":"Medium","category":"Biochemistry I","question":"Name three common strategies enzymes use to lower activation energy.","hint":"Think chemistry, not pathways.","answer":"General acid\u2013base catalysis, covalent catalysis, metal ion catalysis.","solution":"Enzymes lower activation energy through strategies including general acid\u2013base catalysis (proton transfer), covalent catalysis (temporary covalent enzyme\u2013substrate intermediate), metal ion catalysis (stabilization of negative charges), and transition state stabilization."},{"id":43,"title":"Lineweaver\u2013Burk Plot Interpretation","difficulty":"Hard","category":"Biochemistry II","question":"On a Lineweaver\u2013Burk plot, how does competitive inhibition change the slope and intercepts?","hint":"Recall how Km and Vmax change.","answer":"Slope increases, y-intercept unchanged, x-intercept shifts right.","solution":"Competitive inhibition increases apparent Km without affecting Vmax. On a Lineweaver\u2013Burk plot, this increases the slope (Km/Vmax), leaves the y-intercept (1/Vmax) unchanged, and shifts the x-intercept toward zero."},{"id":44,"title":"Metabolic Compartmentalization","difficulty":"Medium","category":"Biochemistry I","question":"Why does fatty acid synthesis occur in the cytosol while \u03b2-oxidation occurs in the mitochondria?","hint":"Think regulation and futile cycles.","answer":"To prevent futile cycling and allow independent regulation.","solution":"Separating fatty acid synthesis (cytosol) from \u03b2-oxidation (mitochondria) prevents futile cycling and allows independent hormonal and energetic regulation of anabolic and catabolic pathways."},{"id":45,"title":"Urea Cycle \u2014 Nitrogen Disposal","difficulty":"Hard","category":"Biochemistry I","question":"Why is ammonia converted to urea before excretion?","hint":"Compare toxicity and solubility.","answer":"Urea is far less toxic than ammonia.","solution":"Ammonia is highly toxic, especially to the brain. The urea cycle converts ammonia into urea, a far less toxic and water-soluble compound that can be safely transported in blood and excreted by the kidneys."},{"id":46,"title":"Transamination Reactions","difficulty":"Medium","category":"Biochemistry I","question":"What is the role of pyridoxal phosphate (PLP) in amino acid metabolism?","hint":"Think vitamin B6 and nitrogen transfer.","answer":"PLP carries amino groups during transamination.","solution":"PLP (derived from vitamin B6) acts as a coenzyme that temporarily accepts and donates amino groups during transamination reactions, enabling the interconversion of amino acids and keto acids."},{"id":47,"title":"Membrane Fluidity","difficulty":"Medium","category":"Biochemistry I","question":"How do unsaturated fatty acids affect membrane fluidity?","hint":"Consider packing efficiency.","answer":"They increase fluidity.","solution":"Unsaturated fatty acids introduce kinks into lipid tails, preventing tight packing and increasing membrane fluidity, especially at lower temperatures."},{"id":48,"title":"Protein Folding \u2014 Chaperones","difficulty":"Medium","category":"Biochemistry I","question":"What is the role of molecular chaperones in protein folding?","hint":"They do not encode structure.","answer":"They prevent aggregation and assist proper folding.","solution":"Molecular chaperones help proteins fold correctly by preventing misfolding and aggregation, especially under stress conditions, but they do not determine the final structure."},{"id":49,"title":"Protein Denaturation","difficulty":"Easy","category":"Biochemistry I","question":"Which levels of protein structure are disrupted by denaturation?","hint":"Think non-covalent interactions.","answer":"Secondary, tertiary, and quaternary structures.","solution":"Denaturation disrupts non-covalent interactions, affecting secondary, tertiary, and quaternary structure, while primary structure (peptide bonds) remains intact."},{"id":50,"title":"Oxidative Stress \u2014 Glutathione","difficulty":"Medium","category":"Biochemistry I","question":"What role does glutathione play in protecting cells from oxidative damage?","hint":"Think redox buffering.","answer":"It reduces reactive oxygen species.","solution":"Glutathione acts as a major cellular antioxidant by donating electrons to reactive oxygen species, reducing them while glutathione itself becomes oxidized and is later regenerated using NADPH."},{"id":51,"title":"Experimental Design \u2014 Enzyme Assays","difficulty":"Hard","category":"Biochemistry II","question":"Why must enzyme assays be performed under initial rate conditions?","hint":"Avoid reverse reactions and substrate depletion.","answer":"To ensure measured rates reflect enzyme kinetics.","solution":"Initial rate conditions minimize substrate depletion, product inhibition, and reverse reactions, ensuring the measured velocity accurately reflects intrinsic enzyme kinetics."},{"id":52,"title":"Signal Amplification","difficulty":"Easy","category":"Biochemistry II","question":"Why do signaling cascades allow signal amplification?","hint":"One activates many.","answer":"Each step activates multiple downstream molecules.","solution":"Signal amplification occurs because one activated receptor or enzyme can activate many downstream molecules, allowing a small signal to produce a large cellular response."},{"id":53,"title":"ATP as Energy Currency","difficulty":"Medium","category":"Biochemistry I","question":"Why is ATP hydrolysis highly exergonic?","hint":"Stability of products.","answer":"Products are more stable due to resonance and hydration.","solution":"ATP hydrolysis is exergonic because ADP and inorganic phosphate are more stable than ATP due to increased resonance stabilization, reduced electrostatic repulsion, and better hydration."},{"id":54,"title":"Metabolic Flux Control","difficulty":"Hard","category":"Biochemistry I","question":"Why do small changes in enzyme activity sometimes have little effect on pathway output?","hint":"Control is distributed.","answer":"Flux control is shared across multiple enzymes.","solution":"Metabolic control analysis shows that flux control is distributed across multiple enzymes rather than dominated by a single step. Therefore, altering one enzyme often has limited effect unless it has a high control coefficient."},{"id":55,"title":"Coupled Transport","difficulty":"Medium","category":"Biochemistry II","question":"How does the proton gradient drive ATP synthesis?","hint":"Chemiosmotic theory.","answer":"Proton flow through ATP synthase drives rotation.","solution":"The proton gradient across the inner mitochondrial membrane stores potential energy. Proton flow through ATP synthase drives conformational changes that catalyze ATP formation from ADP and Pi."},{"id":56,"title":"Physics \u2014 Diffusion Time Scale","difficulty":"Medium","category":"Physics","question":"The average diffusion time is approximated by t \u2248 x\xb2/(2D). If a small molecule diffuses 10 \u03bcm in cytoplasm with D = 10\u207b\xb9\u2070 m\xb2/s, estimate the diffusion time.","hint":"Convert micrometers to meters before squaring.","answer":"\u2248 0.5 seconds","solution":"Convert distance: 10 \u03bcm = 1\xd710\u207b\u2075 m. t \u2248 (1\xd710\u207b\u2075 m)\xb2 / (2\xd710\u207b\xb9\u2070 m\xb2/s) = 1\xd710\u207b\xb9\u2070 / 2\xd710\u207b\xb9\u2070 = 0.5 s. Diffusion is fast at cellular scales."},{"id":57,"title":"Physics \u2014 Electric Potential Energy","difficulty":"Easy","category":"Physics","question":"What happens to the electric potential energy of a positive ion as it moves down its electrochemical gradient?","hint":"Movement toward lower potential reduces stored energy.","answer":"It decreases","solution":"As a positive ion moves down its electrochemical gradient, electric potential energy is converted into kinetic or chemical work, so potential energy decreases."},{"id":58,"title":"Mathematics \u2014 Logarithmic Relationships","difficulty":"Easy","category":"Mathematics","question":"If log\u2081\u2080(x) = \u22123, what is the value of x?","hint":"Rewrite in exponential form.","answer":"0.001","solution":"log\u2081\u2080(x) = \u22123 \u2192 x = 10\u207b\xb3 = 0.001."},{"id":59,"title":"Mathematics \u2014 Linearization of Exponentials","difficulty":"Medium","category":"Mathematics","question":"Why is taking the natural logarithm useful when analyzing exponential growth or decay data?","hint":"Think straight lines.","answer":"It linearizes exponential relationships.","solution":"Taking the natural logarithm converts exponential relationships into linear ones, allowing slope and intercept extraction using linear regression."},{"id":60,"title":"Statistics \u2014 Standard Deviation Meaning","difficulty":"Easy","category":"Statistics","question":"What does a larger standard deviation indicate about a dataset?","hint":"Think spread.","answer":"Greater variability","solution":"A larger standard deviation indicates that data points are more widely spread around the mean, reflecting greater variability."},{"id":61,"title":"Statistics \u2014 Correlation vs Causation","difficulty":"Medium","category":"Statistics","question":"A strong correlation is observed between variable A and variable B. Why does this not necessarily imply causation?","hint":"Consider confounders.","answer":"Correlation does not prove causality.","solution":"Correlation may arise from confounding variables, reverse causation, or coincidence. Controlled experiments are required to establish causation."},{"id":62,"title":"Cell Biology \u2014 Cytoskeleton Function","difficulty":"Easy","category":"Cell Biology","question":"Which cytoskeletal component is primarily responsible for intracellular transport via motor proteins?","hint":"Think kinesin and dynein.","answer":"Microtubules","solution":"Microtubules serve as tracks for kinesin and dynein motor proteins, enabling directed intracellular transport."},{"id":63,"title":"Cell Biology \u2014 Cell Cycle Checkpoints","difficulty":"Medium","category":"Cell Biology","question":"What is the primary role of cell cycle checkpoints?","hint":"Prevent propagation of errors.","answer":"Ensure conditions are favorable before progression.","solution":"Cell cycle checkpoints verify DNA integrity, replication completion, and spindle attachment before allowing progression, preventing transmission of damaged DNA."},{"id":64,"title":"Molecular Biology \u2014 Transcription Regulation","difficulty":"Medium","category":"Molecular Biology","question":"How do transcription factors increase gene expression in eukaryotes?","hint":"Recruitment matters.","answer":"They recruit RNA polymerase and coactivators.","solution":"Transcription factors bind regulatory DNA sequences and recruit RNA polymerase II and coactivators, increasing transcription initiation efficiency."},{"id":65,"title":"Immunology \u2014 Antibody Structure","difficulty":"Easy","category":"Immunology","question":"Which region of an antibody determines antigen specificity?","hint":"Variable vs constant regions.","answer":"Variable region","solution":"The variable regions of the heavy and light chains form the antigen-binding site and determine specificity."},{"id":66,"title":"Immunology \u2014 Innate vs Adaptive Immunity","difficulty":"Medium","category":"Immunology","question":"Name one key difference between innate and adaptive immunity.","hint":"Speed vs specificity.","answer":"Adaptive immunity is antigen-specific and has memory.","solution":"Innate immunity is rapid and nonspecific, while adaptive immunity is slower, highly specific, and generates immunological memory."},{"id":67,"title":"Neurobiology \u2014 Action Potential Propagation","difficulty":"Medium","category":"Neurobiology","question":"Why does myelination increase the speed of action potential conduction?","hint":"Saltatory conduction.","answer":"It reduces ion leakage and allows saltatory conduction.","solution":"Myelin insulates axons, forcing action potentials to jump between nodes of Ranvier (saltatory conduction), greatly increasing conduction speed."},{"id":68,"title":"Neurobiology \u2014 Neurotransmitter Release","difficulty":"Medium","category":"Neurobiology","question":"What directly triggers neurotransmitter release at a synapse?","hint":"Think calcium.","answer":"Ca\xb2\u207a influx","solution":"Arrival of an action potential opens voltage-gated Ca\xb2\u207a channels, and Ca\xb2\u207a influx triggers vesicle fusion and neurotransmitter release."},{"id":69,"title":"Analytical Chemistry \u2014 Beer\u2013Lambert Law Assumptions","difficulty":"Medium","category":"Analytical Chemistry","question":"List one condition under which the Beer\u2013Lambert law breaks down.","hint":"High concentration effects.","answer":"At high solute concentrations","solution":"Beer\u2013Lambert law breaks down at high concentrations due to molecular interactions, stray light, or deviations from linear absorbance\u2013concentration behavior."},{"id":70,"title":"Inorganic Chemistry \u2014 Coordination Number","difficulty":"Medium","category":"Inorganic Chemistry","question":"What does the coordination number of a metal complex describe?","hint":"Count attachments.","answer":"The number of ligands directly bonded to the metal.","solution":"The coordination number refers to how many ligand donor atoms are directly bonded to the central metal ion in a coordination complex."},{"id":71,"title":"General Chemistry \u2014 Molarity Calculation","difficulty":"Easy","category":"General Chemistry","question":"How many grams of NaCl are needed to prepare 500 mL of a 2.0 M solution? (Molar mass of NaCl = 58.5 g/mol)","hint":"Molarity = moles/volume in liters. Rearrange to find moles, then use molar mass to find grams.","answer":"58.5 g","solution":"Molarity = moles/volume. 2.0 M = moles/0.500 L \u2192 moles = 1.0 mol. Mass = 1.0 mol \xd7 58.5 g/mol = 58.5 g."},{"id":72,"title":"General Chemistry \u2014 Limiting Reagent","difficulty":"Medium","category":"General Chemistry","question":"In the reaction 2A + 3B \u2192 C, 5 moles of A and 10 moles of B are available. Which is the limiting reagent and how many moles of C can be formed?","hint":"Divide available moles by stoichiometric coefficient for each reactant; smallest value is limiting.","answer":"A is limiting; 2.5 moles of C","solution":"5 mol A \xf7 2 = 2.5. 10 mol B \xf7 3 = 3.33. Smallest is 2.5, so A is limiting. From 5 mol A: 5 mol A \xd7 (1 mol C / 2 mol A) = 2.5 mol C."},{"id":73,"title":"Molecular Biology \u2014 Genetic Code Degeneracy","difficulty":"Easy","category":"Molecular Biology","question":"Why is the genetic code described as \'degenerate\'?","hint":"Think multiple codons for same amino acid.","answer":"Multiple codons encode the same amino acid.","solution":"The genetic code is degenerate because most amino acids are encoded by more than one codon (up to 6 for some). This redundancy provides a buffer against some point mutations."},{"id":74,"title":"Molecular Biology \u2014 Promoter Recognition","difficulty":"Medium","category":"Molecular Biology","question":"In prokaryotes, what are the two conserved sequences in the promoter that RNA polymerase recognizes?","hint":"Think \u221235 box and \u221210 box (Pribnow box).","answer":"-35 box (TTGACA) and -10 box (TATAAT)","solution":"Prokaryotic promoters contain the \u221235 box (TTGACA) and \u221210 box or Pribnow box (TATAAT) upstream of the transcription start site. These are recognized by the sigma factor of bacterial RNA polymerase."},{"id":75,"title":"Inorganic Chemistry \u2014 Oxidation States","difficulty":"Easy","category":"Inorganic Chemistry","question":"Assign oxidation states to each element in the compound K\u2082Cr\u2082O\u2087.","hint":"Use rules: alkali metals +1, O usually \u22122, total charge = 0.","answer":"K: +1, Cr: +6, O: \u22122","solution":"K is +1 (alkali metal). O is \u22122 (usual). Cr: 2(+1) + 2x + 7(\u22122) = 0 \u2192 2 + 2x \u2212 14 = 0 \u2192 x = +6."},{"id":76,"title":"Inorganic Chemistry \u2014 Complex Ion Formulation","difficulty":"Medium","category":"Inorganic Chemistry","question":"Write the formula for a complex ion with Fe\xb3\u207a coordinated by 6 chloride ligands.","hint":"Coordination number is 6; include overall charge.","answer":"[FeCl\u2086]\xb3\u207b","solution":"With Fe\xb3\u207a and 6 Cl\u207b ligands, the net charge is +3 \u2212 6 = \u22123, giving [FeCl\u2086]\xb3\u207b."},{"id":77,"title":"Physics \u2014 Work and Energy","difficulty":"Medium","category":"Physics","question":"How much work is done by a force of 50 N applied over a distance of 5 m parallel to the direction of motion?","hint":"Work = Force \xd7 distance \xd7 cos(\u03b8); use \u03b8 = 0\xb0 for parallel motion.","answer":"250 J","solution":"Work = F \xd7 d \xd7 cos(\u03b8) = 50 N \xd7 5 m \xd7 cos(0\xb0) = 50 \xd7 5 \xd7 1 = 250 J."},{"id":78,"title":"Physics \u2014 Osmotic Pressure","difficulty":"Hard","category":"Physics","question":"Calculate the osmotic pressure of a 0.1 M solution at 298 K. (R = 8.314 J/(mol\xb7K))","hint":"Use \u03c0 = iMRT where i is van\'t Hoff factor (1 for non-electrolytes).","answer":"\u2248 2.5 atm","solution":"\u03c0 = iMRT = 1 \xd7 0.1 mol/L \xd7 8.314 J/(mol\xb7K) \xd7 298 K = 248 J/L = 248 Pa\xb7m\xb3/mol. Convert: 248 J/L \u2248 2.45 atm."},{"id":79,"title":"Mathematics \u2014 Exponential Growth","difficulty":"Medium","category":"Mathematics","question":"A bacterial population doubles every 30 minutes. If initially there are 1000 bacteria, how many will there be after 2 hours?","hint":"Number of doublings in 2 hours = 120 min / 30 min = 4.","answer":"16,000","solution":"2 hours = 120 minutes. Number of doublings = 120/30 = 4. Final population = 1000 \xd7 2\u2074 = 1000 \xd7 16 = 16,000."},{"id":80,"title":"Mathematics \u2014 Solving Systems of Equations","difficulty":"Medium","category":"Mathematics","question":"Solve the system: 2x + y = 5 and x \u2212 y = 1.","hint":"Use substitution or elimination.","answer":"x = 2, y = 1","solution":"From equation 2: x = y + 1. Substitute into equation 1: 2(y + 1) + y = 5 \u2192 2y + 2 + y = 5 \u2192 3y = 3 \u2192 y = 1. Then x = 1 + 1 = 2."},{"id":81,"title":"Statistics \u2014 Hypothesis Testing","difficulty":"Hard","category":"Statistics","question":"In a hypothesis test with \u03b1 = 0.05 and a p-value of 0.03, what decision should be made?","hint":"Compare p-value to significance level.","answer":"Reject the null hypothesis","solution":"Since p-value (0.03) < \u03b1 (0.05), we reject the null hypothesis at the 0.05 significance level."},{"id":82,"title":"Statistics \u2014 Probability","difficulty":"Easy","category":"Statistics","question":"If you roll two fair dice, what is the probability of getting a sum of 7?","hint":"Count favorable outcomes (6 ways) and divide by total outcomes (36).","answer":"1/6","solution":"Favorable outcomes: (1,6), (2,5), (3,4), (4,3), (5,2), (6,1) = 6 outcomes. Total outcomes = 6 \xd7 6 = 36. Probability = 6/36 = 1/6."},{"id":83,"title":"Analytical Chemistry \u2014 Titration Basics","difficulty":"Medium","category":"Analytical Chemistry","question":"In an acid-base titration, 25 mL of 0.1 M HCl is required to neutralize 50 mL of NaOH. What is the molarity of the NaOH?","hint":"Use M\u2081V\u2081 = M\u2082V\u2082 for strong acid-strong base titration.","answer":"0.05 M","solution":"M\u2081V\u2081 = M\u2082V\u2082. (0.1 M)(25 mL) = M\u2082(50 mL) \u2192 2.5 = 50 M\u2082 \u2192 M\u2082 = 0.05 M."},{"id":84,"title":"Analytical Chemistry \u2014 pH Calculation from Ka","difficulty":"Medium","category":"Analytical Chemistry","question":"For a weak acid with Ka = 1.8 \xd7 10\u207b\u2075 and initial concentration 0.1 M, what is the pH?","hint":"Use Ka = [H\u207a]\xb2/(C \u2212 [H\u207a]) \u2248 [H\u207a]\xb2/C for weak acids where [H\u207a] << C.","answer":"\u2248 2.74","solution":"Ka = 1.8 \xd7 10\u207b\u2075 = [H\u207a]\xb2/0.1 \u2192 [H\u207a]\xb2 = 1.8 \xd7 10\u207b\u2076 \u2192 [H\u207a] = 1.34 \xd7 10\u207b\xb3. pH = \u2212log(1.34 \xd7 10\u207b\xb3) \u2248 2.87 (exact depends on whether approximation validates)."},{"id":85,"title":"General Biology \u2014 Mitochondrial Function","difficulty":"Easy","category":"General Biology","question":"What is the primary function of the mitochondrial inner membrane?","hint":"Think electron transport and proton gradient.","answer":"Hosts the electron transport chain and oxidative phosphorylation","solution":"The inner mitochondrial membrane contains the electron transport chain complexes and ATP synthase, essential for generating the proton gradient and producing ATP."},{"id":86,"title":"General Biology \u2014 Photosynthesis Light vs Dark Reactions","difficulty":"Medium","category":"General Biology","question":"Which photosynthetic reaction requires light and which does not?","hint":"Light reactions need light; Calvin cycle (dark reactions) does not require light directly.","answer":"Light-dependent reactions require light; carbon fixation (Calvin cycle) does not","solution":"Light-dependent reactions in the thylakoid membrane require light to split water, generate NADPH, and produce ATP. The Calvin cycle in the stroma uses ATP and NADPH but does not directly require light."},{"id":87,"title":"General Biology \u2014 Enzyme Cofactors","difficulty":"Medium","category":"General Biology","question":"What is the difference between a coenzyme and a prosthetic group?","hint":"Think binding: prosthetic groups are tightly bound; coenzymes are loosely bound.","answer":"Prosthetic groups are tightly bound; coenzymes are loosely bound or diffusible","solution":"Prosthetic groups are permanently attached to enzymes (e.g., heme in peroxidase). Coenzymes are small diffusible molecules that bind reversibly to support multiple enzymes (e.g., NAD\u207a, ATP)."},{"id":88,"title":"Genetics \u2014 Hardy-Weinberg Equilibrium","difficulty":"Hard","category":"Genetics","question":"In a population at Hardy-Weinberg equilibrium, the frequency of allele A is 0.6. What is the expected frequency of heterozygotes (Aa)?","hint":"Use p\xb2 + 2pq + q\xb2 = 1, where p = 0.6, q = 0.4.","answer":"0.48","solution":"p = 0.6, q = 0.4. Frequency of Aa = 2pq = 2(0.6)(0.4) = 0.48."},{"id":89,"title":"Genetics \u2014 Gene Mapping with Recombination Frequency","difficulty":"Hard","category":"Genetics","question":"In a Drosophila cross, two genes show a recombination frequency of 12%. What does this tell you about their map distance?","hint":"Recombination frequency (in %) \u2248 map distance in centiMorgans (cM).","answer":"The genes are 12 cM apart","solution":"A recombination frequency of 12% indicates the genes are 12 map units (centiMorgans) apart on the chromosome."},{"id":90,"title":"Genetics \u2014 Linkage and Crossing Over","difficulty":"Medium","category":"Genetics","question":"When two genes are linked, do their alleles always stay together during gamete formation? Explain.","hint":"Consider crossing over.","answer":"No; crossing over can separate linked alleles.","solution":"Although linked genes are on the same chromosome, crossing over (recombination) can exchange DNA segments between homologous chromosomes, producing recombinant gametes with separated allele combinations."},{"id":91,"title":"Cell Biology \u2014 Apoptosis vs Necrosis","difficulty":"Medium","category":"Cell Biology","question":"What is the primary difference between apoptosis and necrosis?","hint":"Apoptosis is programmed; necrosis is traumatic.","answer":"Apoptosis is controlled programmed cell death; necrosis is uncontrolled death from injury","solution":"Apoptosis is an orderly, energy-dependent process that cleanly packages cellular contents without inflammatory response. Necrosis is traumatic cell death from injury, causing cell lysis and inflammation."},{"id":92,"title":"Cell Biology \u2014 Carbohydrate Recognition","difficulty":"Easy","category":"Cell Biology","question":"What are lectins and what do they recognize on cells?","hint":"Think sugar-binding proteins.","answer":"Proteins that specifically bind carbohydrates on cell surfaces","solution":"Lectins are proteins that recognize and bind specific carbohydrate structures on glycoproteins and glycolipids; they mediate cell-cell interactions and immune responses."},{"id":71,"title":"General Chemistry \u2014 Acid-Base Nomenclature","difficulty":"Easy","category":"General Chemistry","question":"Name the compound HNO\u2083 and identify it as an acid or base.","hint":"This common strong acid contains H\u207a and a polyatomic anion.","answer":"Nitric acid; strong acid","solution":"HNO\u2083 is nitric acid, a strong monoprotic acid that completely ionizes in water to produce H\u207a and NO\u2083\u207b ions."},{"id":93,"title":"Physical Chemistry \u2014 Vapor Pressure","difficulty":"Medium","category":"Physical Chemistry","question":"What does Raoult\'s law state about a solution of two volatile liquids?","hint":"Partial pressure equals mole fraction times pure component vapor pressure.","answer":"Partial pressure of each component equals its mole fraction times its pure vapor pressure","solution":"Raoult\'s law: P_A = X_A \xd7 P_A\xb0, where P_A is partial pressure, X_A is mole fraction, and P_A\xb0 is the pure component vapor pressure."},{"id":94,"title":"Organic Chemistry \u2014 Functional Group Priorities","difficulty":"Medium","category":"Organic Chemistry","question":"In IUPAC nomenclature, which functional group has higher priority: aldehyde or ketone?","hint":"Consider oxidation state of carbonyl carbon.","answer":"Aldehyde","solution":"In IUPAC nomenclature, aldehyde (\u2212CHO) has higher priority than ketone (\u2212CO\u2212) because the carbonyl carbon is bonded to more hydrogen atoms (oxidation state difference)."},{"id":95,"title":"Organic Chemistry \u2014 Ester Hydrolysis","difficulty":"Medium","category":"Organic Chemistry","question":"What is produced when an ester is hydrolyzed in basic conditions (saponification)?","hint":"Think carboxylate salt and alcohol.","answer":"Carboxylate salt (soap) and alcohol","solution":"Base-catalyzed ester hydrolysis produces a carboxylic acid salt (often called soap when using long-chain esters) and the corresponding alcohol."},{"id":96,"title":"Biochemistry I \u2014 NAD\u207a/NADH Ratio","difficulty":"Medium","category":"Biochemistry I","question":"Why is the NAD\u207a/NADH ratio kept high in the cell?","hint":"Think about oxidation-reduction reactions and energy status.","answer":"High NAD\u207a/NADH ratio favors catabolic oxidation reactions","solution":"A high NAD\u207a/NADH ratio drives oxidation reactions forward, allowing glycolysis and the citric acid cycle to proceed efficiently. The cell maintains this by transferring NADH electrons to the electron transport chain."},{"id":97,"title":"Physical Chemistry \u2014 Le Chatelier\'s Principle","difficulty":"Medium","category":"Physical Chemistry","question":"If a system at equilibrium is subjected to increased pressure, how will it respond according to Le Chatelier\'s principle?","hint":"System shifts to decrease the number of gas moles.","answer":"Equilibrium shifts toward the side with fewer moles of gas","solution":"Increased pressure favors the side with fewer moles of particles (gases). The system shifts in that direction to reduce pressure and re-establish equilibrium."},{"id":98,"title":"Analytical Chemistry \u2014 Spectrophotometry","difficulty":"Hard","category":"Analytical Chemistry","question":"A solution shows maximum absorbance at 550 nm. What color light is being absorbed and what color would the solution appear?","hint":"Absorbed light color is complementary to observed color.","answer":"Absorbs green light (550 nm); appears magenta/red","solution":"550 nm corresponds to green light. When green is absorbed, the complementary color\u2014magenta\u2014is transmitted/reflected, making the solution appear magenta or reddish."},{"id":99,"title":"Immunology \u2014 MHC and Antigen Presentation","difficulty":"Hard","category":"Immunology","question":"Explain the difference between MHC Class I and MHC Class II presentation.","hint":"Class I presents intracellular antigens to CTLs; Class II presents exogenous antigens to helper T cells.","answer":"Class I presents intracellular/viral peptides to CD8\u207a T cells; Class II presents exogenous peptides to CD4\u207a T cells","solution":"MHC Class I molecules (found on all cells) present internally-produced antigens (viral, tumor) to cytotoxic T lymphocytes (CD8\u207a). MHC Class II molecules (APCs) present exogenous antigens to helper T cells (CD4\u207a)."},{"id":100,"title":"Neurobiology \u2014 Synaptic Plasticity","difficulty":"Hard","category":"Neurobiology","question":"Define long-term potentiation (LTP) and explain its molecular basis.","hint":"Think AMPA/NMDA receptors and calcium influx.","answer":"Persistent increase in synaptic strength via NMDA receptor activation and AMPA receptor insertion","solution":"LTP is prolonged enhancement of synaptic efficacy. Upon repeated stimulation, NMDA receptors (normally blocked by Mg\xb2\u207a) open, allowing Ca\xb2\u207a influx. This triggers PKA/CaMKII cascades that insert additional AMPA receptors, strengthening future responses."},{"id":101,"title":"Bicarbonate Buffer \u2014 Blood pH Ratio","difficulty":"Medium","category":"Biochemistry I","question":"Blood has a pH of 7.40. Using the Henderson\u2013Hasselbalch equation and a pKa for carbonic acid of 6.10, calculate the ratio [HCO\u2083\u207b]/[CO\u2082] (i.e., base/acid) required to maintain this pH.","hint":"Use pH = pKa + log([A\u207b]/[HA]) and solve for the ratio: [A\u207b]/[HA] = 10^(pH\u2212pKa).","answer":"\u2248 20.0","solution":"Rearrange Henderson\u2013Hasselbalch: [HCO\u2083\u207b]/[CO\u2082] = 10^(pH \u2212 pKa) = 10^(7.40 \u2212 6.10) = 10^1.30 \u2248 19.95 \u2248 20. This is why the bicarbonate:CO\u2082 ratio in arterial blood is about 20:1."},{"id":102,"title":"Nernst Potential for Potassium","difficulty":"Medium","category":"Neurobiology","question":"Calculate the equilibrium (Nernst) potential for K\u207a at 37 \xb0C given intracellular [K\u207a] = 140 mM and extracellular [K\u207a] = 4.0 mM. Use the simplified Nernst equation at 37 \xb0C: E (mV) = 61.5 \xd7 log\u2081\u2080([out]/[in]) for a monovalent ion.","hint":"Plug concentrations into E = 61.5 log([out]/[in]) and keep sign from the log value.","answer":"\u2248 \u221295 mV","solution":"E_K = 61.5 \xd7 log\u2081\u2080(4.0 / 140) = 61.5 \xd7 log\u2081\u2080(0.02857) = 61.5 \xd7 (\u22121.544) \u2248 \u221295.0 mV. Negative value indicates inside is negative relative to outside for K\u207a equilibrium."},{"id":103,"title":"Ketogenic vs Glucogenic Amino Acids (MCAT-style)","difficulty":"Medium","category":"Biochemistry I","question":"Which of the following amino acids is exclusively ketogenic (cannot be converted into glucose): Alanine, Leucine, Glutamate, or Serine?","hint":"Recall which amino acids give rise only to acetyl-CoA or acetoacetate (ketogenic) versus those that produce TCA intermediates (glucogenic).","answer":"Leucine","solution":"Leucine is strictly ketogenic \u2014 its carbon skeleton is degraded to acetyl-CoA and/or acetoacetate, which cannot be used to generate net glucose. Alanine and serine are glucogenic (pyruvate), glutamate is glucogenic (\u03b1-ketoglutarate)."},{"id":104,"title":"Thin Lens Equation \u2014 Image Position & Magnification","difficulty":"Medium","category":"Physics","question":"A converging lens has focal length f = 10.0 cm. An object is placed 15.0 cm from the lens. Calculate the image distance and the linear magnification (state sign conventions).","hint":"Use 1/f = 1/do + 1/di; magnification m = \u2212di/do.","answer":"Image distance di = +30.0 cm; magnification m = \u22122 (inverted, 2\xd7 larger).","solution":"1/di = 1/f \u2212 1/do = 1/10 \u2212 1/15 = 0.1000 \u2212 0.066667 = 0.033333 \u2192 di = 30.0 cm (positive \u2192 real image on opposite side). Magnification m = \u2212di/do = \u221230/15 = \u22122 (negative = inverted; magnitude 2 \u2192 image is twice object size)."},{"id":105,"title":"PCR Amplification \u2014 Copy Number After Cycles","difficulty":"Easy","category":"Molecular Biology","question":"Starting from a single DNA template molecule, how many double-stranded DNA copies are produced after 25 perfect PCR cycles (assume 100% doubling each cycle)?","hint":"Each cycle ideally doubles the number of copies: N = N\u2080 \xd7 2^n.","answer":"33,554,432 copies","solution":"N = 1 \xd7 2^25 = 33,554,432. (Real PCR efficiency <100%, but ideal doubling gives this number.)"},{"id":106,"title":"IR Spectroscopy \u2014 Peak Identification","difficulty":"Medium","category":"Organic Chemistry","question":"A compound\'s IR spectrum shows a sharp absorption near 3300 cm\u207b\xb9 (not broad). Which functional group is most consistent with this feature: O\u2013H (broad), \u2261C\u2013H (terminal alkyne), N\u2013H (amine/amide), or C=O (1700 cm\u207b\xb9)?","hint":"Sharp near 3300 cm\u207b\xb9 (not broad) often corresponds to X\u2013H stretches for certain bonds; consider bonding and number of H\'s.","answer":"N\u2013H (amine or amide) or terminal alkyne \u2261C\u2013H; the best single answer is N\u2013H for common functional-group teaching problems.","solution":"A sharp band near 3300 cm\u207b\xb9 can indicate an N\u2013H stretch (primary/secondary amines or amides) or a terminal alkyne C\u2013H (~3300 cm\u207b\xb9 but typically weaker). Because O\u2013H is usually broad (3200\u20133600 cm\u207b\xb9), the sharp 3300 cm\u207b\xb9 feature is most commonly assigned to N\u2013H in many organic identification contexts."},{"id":107,"title":"Glucogenic Amino Acid Example","difficulty":"Easy","category":"Biochemistry I","question":"Which amino acid is directly transaminated to pyruvate and therefore serves as a glucogenic precursor: Leucine, Lysine, Alanine, or Phenylalanine?","hint":"Which amino acid is commonly involved in the alanine cycle (transport of nitrogen to liver)?","answer":"Alanine","solution":"Alanine is transaminated to pyruvate (via alanine aminotransferase) and is a major glucogenic amino acid. Leucine is ketogenic; lysine purely ketogenic; phenylalanine is both but is not the canonical pyruvate donor."},{"id":108,"title":"Strong Acid pH Calculation","difficulty":"Easy","category":"Analytical Chemistry","question":"What is the pH of a 0.01 M solution of HCl (strong acid) at 25 \xb0C? Assume complete dissociation.","hint":"For strong acid, [H\u207a] = concentration of acid; pH = \u2212log[H\u207a].","answer":"pH = 2.00","solution":"[H\u207a] = 0.01 M. pH = \u2212log\u2081\u2080(0.01) = 2.00."},{"id":109,"title":"Calibration Curve \u2014 Solve for Concentration","difficulty":"Medium","category":"Analytical Chemistry","question":"A calibration line is y = 0.85x + 0.02 where y is absorbance and x is concentration (mg/mL). What is the concentration of a sample with absorbance 0.45?","hint":"Rearrange: x = (y \u2212 intercept)/slope.","answer":"\u2248 0.506 mg/mL","solution":"x = (0.45 \u2212 0.02) / 0.85 = 0.43 / 0.85 \u2248 0.5059 mg/mL \u2248 0.506 mg/mL."},{"id":110,"title":"X-linked Recessive Inheritance \u2014 Son Affected Probability","difficulty":"Medium","category":"Genetics","question":"A woman is a carrier for an X-linked recessive disorder (X^N X^m) and the father is unaffected (X^N Y). What is the probability that a randomly born son will be affected?","hint":"A son inherits his X chromosome from his mother and Y from his father. Consider probability the child is male and that he inherits the mutant X.","answer":"50% (given the child is male) \u2014 equivalently 25% per pregnancy if you include sex probability.","solution":"If you condition on the child being male, he will receive the mother\'s X with 50% chance of being the mutant X^m \u2192 50% affected. If you consider any pregnancy, probability = P(son)\xd7P(inherit mutant X) = 0.5 \xd7 0.5 = 0.25 (25%)."},{"id":111,"title":"T-cell Activation Signals","difficulty":"Medium","category":"Immunology","question":"Name the two signals required for full activation of a naive T cell during antigen presentation.","hint":"One is antigen recognition via MHC\u2013TCR; the other is a co-stimulatory interaction (e.g., CD28 on T cell binding B7 on APC).","answer":"Signal 1: antigen peptide presented on MHC to TCR; Signal 2: costimulatory signal (e.g., CD28\u2013B7).","solution":"Full naive T-cell activation requires (1) specific recognition of peptide\u2013MHC by the T-cell receptor and (2) a co-stimulatory signal provided by receptor\u2013ligand pairs (classically CD28 on the T cell binding B7 family on antigen-presenting cells). Without signal 2, T cells become anergic."},{"id":112,"title":"Cardiac Output Calculation","difficulty":"Medium","category":"General Biology","question":"If a person\'s heart rate is 70 beats per minute and stroke volume is 70 mL per beat, calculate the cardiac output in liters per minute.","hint":"Cardiac output = heart rate \xd7 stroke volume. Convert mL to L.","answer":"\u2248 4.90 L/min","solution":"CO = 70 beats/min \xd7 70 mL/beat = 4900 mL/min = 4.90 L/min."},{"id":113,"title":"MCAT Passage 1 \u2014 Enzyme Regulation Q1","difficulty":"Medium","category":"Biochemistry II","question":"A researcher studies enzyme Z, which catalyzes reaction S \u2192 P in liver cells. Enzyme Z is allosterically regulated: ATP binds an inhibitory site, while fructose-2,6-bisphosphate (F2,6BP) acts as an activator. In vitro assays show that at low substrate concentrations, addition of F2,6BP increases the apparent affinity for S (lower Km) without changing the maximum velocity. Addition of ATP decreases Vmax but does not change Km. A phosphorylation event on enzyme Z (by a kinase active during fasting) reduces F2,6BP sensitivity.Question 1: Based on the assay results, what types of regulation do F2,6BP and ATP represent (respectively)?","hint":"Consider effects on Km and Vmax for classic inhibition/activation types.","answer":"F2,6BP is an allosteric activator (decreases apparent Km); ATP acts like a noncompetitive inhibitor (decreases Vmax).","solution":"F2,6BP increases substrate affinity (lower Km) without changing Vmax \u2014 characteristic of an allosteric activator that affects Km. ATP decreases Vmax without affecting Km, which is consistent with noncompetitive inhibition (or an allosteric inhibitor that reduces catalytic turnover)."},{"id":114,"title":"MCAT Passage 1 \u2014 Enzyme Regulation Q2","difficulty":"Medium","category":"Biochemistry II","question":"A researcher studies enzyme Z, which catalyzes reaction S \u2192 P in liver cells. Enzyme Z is allosterically regulated: ATP binds an inhibitory site, while fructose-2,6-bisphosphate (F2,6BP) acts as an activator. In vitro assays show that at low substrate concentrations, addition of F2,6BP increases the apparent affinity for S (lower Km) without changing the maximum velocity. Addition of ATP decreases Vmax but does not change Km. A phosphorylation event on enzyme Z (by a kinase active during fasting) reduces F2,6BP sensitivity.Question 2: How would the Michaelis\u2013Menten velocity vs [S] curve change in the presence of F2,6BP?","hint":"Think about Km (horizontal position) and Vmax (plateau).","answer":"Curve shifts left (smaller Km) with the same Vmax; at low [S] velocity increases relative to control.","solution":"Lower Km means higher affinity, so the hyperbolic curve reaches the same Vmax but does so at lower [S] \u2014 visually a leftward shift. Vmax unchanged."},{"id":115,"title":"MCAT Passage 1 \u2014 Enzyme Regulation Q3","difficulty":"Hard","category":"Biochemistry II","question":"A researcher studies enzyme Z, which catalyzes reaction S \u2192 P in liver cells. Enzyme Z is allosterically regulated: ATP binds an inhibitory site, while fructose-2,6-bisphosphate (F2,6BP) acts as an activator. In vitro assays show that at low substrate concentrations, addition of F2,6BP increases the apparent affinity for S (lower Km) without changing the maximum velocity. Addition of ATP decreases Vmax but does not change Km. A phosphorylation event on enzyme Z (by a kinase active during fasting) reduces F2,6BP sensitivity.Question 3: During fasting the kinase phosphorylates enzyme Z, reducing sensitivity to F2,6BP. Predict the metabolic consequence for the pathway S\u2192P in the liver during fasting.","hint":"Fasting typically lowers glycolysis and raises gluconeogenesis; consider F2,6BP levels in fasting.","answer":"Reduced activation by F2,6BP will lower glycolytic flux through Z during fasting, contributing to decreased glycolysis and favoring gluconeogenesis.","solution":"F2,6BP is a potent activator of glycolytic enzymes; phosphorylation that reduces sensitivity to F2,6BP makes enzyme Z less active at physiological F2,6BP levels, lowering glycolytic throughput in fasting when gluconeogenesis is preferred."},{"id":116,"title":"MCAT Passage 2 \u2014 Acid\u2013Base Q1","difficulty":"Medium","category":"General Biology","question":"A 45-year-old man presents with shortness of breath and is found to have arterial blood gas values: pH = 7.25, PaCO\u2082 = 55 mm Hg, HCO\u2083\u207b (calculated) = 24 mM. He has a history of chronic bronchitis. No evidence of metabolic acidosis is present on initial labs.Question 1: What primary acid\u2013base disorder does this ABG picture indicate (acute or chronic), and why?","hint":"High PaCO\u2082 with low pH suggests respiratory acidosis. Consider chronic bronchitis (chronic CO\u2082 retention) and expected HCO\u2083\u207b compensation.","answer":"Respiratory acidosis \u2014 likely acute on chronic respiratory acidosis because PaCO\u2082 is elevated and HCO\u2083\u207b is not fully compensated (normal HCO\u2083\u207b suggests acute component).","solution":"Elevated PaCO\u2082 (55 mm Hg) causes primary respiratory acidosis. In chronic respiratory acidosis (chronic bronchitis) kidneys elevate HCO\u2083\u207b to compensate; a normal HCO\u2083\u207b of 24 mM suggests inadequate renal compensation => acute on chronic respiratory acidosis or an acute exacerbation."},{"id":117,"title":"MCAT Passage 2 \u2014 Acid\u2013Base Q2","difficulty":"Hard","category":"General Biology","question":"A 45-year-old man presents with shortness of breath and is found to have arterial blood gas values: pH = 7.25, PaCO\u2082 = 55 mm Hg, HCO\u2083\u207b (calculated) = 24 mM. He has a history of chronic bronchitis. No evidence of metabolic acidosis is present on initial labs.Question 2: Using Henderson\u2013Hasselbalch and respiratory physiology rules of compensation, estimate whether the expected renal compensation (chronic) would raise HCO\u2083\u207b above 24 mM for PaCO\u2082 = 55 mm Hg. (Short answer: yes or no, and why.)","hint":"For chronic respiratory acidosis, HCO\u2083\u207b increases ~4 mEq/L for every 10 mm Hg rise in PaCO\u2082 above 40 mm Hg.","answer":"Yes \u2014 expected chronic compensation would raise HCO\u2083\u207b above 24 mM (by ~6 mEq/L \u2192 ~30 mM), so a measured 24 mM suggests inadequate compensation.","solution":"PaCO\u2082 is 15 mm Hg above normal (55 \u2212 40). For chronic compensation, HCO\u2083\u207b increases \u22484 mEq/L per 10 mm Hg rise, so ~6 mEq/L increase expected \u2192 HCO\u2083\u207b \u2248 24 + 6 = 30 mM. Therefore measured 24 mM is lower than expected, supporting acute on chronic exacerbation."},{"id":118,"title":"MCAT Passage 2 \u2014 Acid\u2013Base Q3","difficulty":"Medium","category":"General Biology","question":"A 45-year-old man presents with shortness of breath and is found to have arterial blood gas values: pH = 7.25, PaCO\u2082 = 55 mm Hg, HCO\u2083\u207b (calculated) = 24 mM. He has a history of chronic bronchitis. No evidence of metabolic acidosis is present on initial labs.Question 3: If this patient were to hyperventilate and reduce PaCO\u2082 to 35 mm Hg rapidly, what immediate shift in pH would you expect (qualitative)?","hint":"Lower PaCO\u2082 leads to respiratory alkalosis (higher pH) if metabolic compensation hasn\'t occurred.","answer":"pH would increase toward normal (become less acid), producing a respiratory alkalinizing effect; immediate partial correction of acidosis is expected.","solution":"Reducing PaCO\u2082 removes CO\u2082 (acidifying driver), shifting bicarbonate/CO\u2082 equilibrium toward less H\u207a and increasing pH. Rapid respiratory changes alter pH quickly before renal compensation."},{"id":119,"title":"Titration Curve \u2014 Weak Acid","difficulty":"Medium","category":"Analytical Chemistry","question":"You are given a titration curve image of 50 mL of a weak monoprotic acid (HA) being titrated with 0.100 M NaOH (image_url provided). The half-equivalence point occurs at pH 4.8. Estimate the pKa of HA and explain why the equivalence point pH is >7.","hint":"At half-equivalence, pH = pKa. Weak acid titrated with strong base yields basic equivalence due to conjugate base hydrolysis.","answer":"pKa \u2248 4.8; equivalence pH >7 because the conjugate base A\u207b hydrolyzes to produce OH\u207b.","solution":"At half-equivalence [HA] = [A\u207b] so pH = pKa = 4.8. After neutralization, solution contains A\u207b which is basic (hydrolyzes to OH\u207b), so equivalence pH is >7.","image_url":"images/titration_weak_acid.png"},{"id":120,"title":"Enzyme Michaelis\u2013Menten Plot","difficulty":"Medium","category":"Biochemistry II","question":"An enzyme velocity vs substrate concentration plot (image provided) shows two curves: control and after addition of an inhibitor. The inhibitor curve reaches the same Vmax but requires higher [S] to reach half-max. Identify the inhibitor type and explain.","hint":"Same Vmax, higher Km indicates competitive inhibition.","answer":"Competitive inhibitor \u2014 increases apparent Km without changing Vmax.","solution":"Competitive inhibitors compete with substrate for the active site, so higher [S] is required to reach same velocity; Vmax unchanged because high [S] outcompetes inhibitor.","image_url":"images/v_vs_s_inhibitor.png"},{"id":121,"title":"IR Spectrum Interpretation","difficulty":"Medium","category":"Organic Chemistry","question":"An IR spectrum (image provided) shows a strong sharp peak at ~1715 cm\u207b\xb9 and a broad strong band 2500\u20133300 cm\u207b\xb9. What functional groups are present?","hint":"1715 cm\u207b\xb9 = C=O stretch; broad 2500\u20133300 typical of carboxylic acid O\u2013H.","answer":"A carboxylic acid (\u2013COOH).","solution":"The carbonyl stretch near 1715 cm\u207b\xb9 plus the very broad O\u2013H band that extends to lower wavenumbers is diagnostic of carboxylic acids.","image_url":"images/ir_spectrum.png"},{"id":122,"title":"Gel Electrophoresis \u2014 DNA Fragments","difficulty":"Medium","category":"Molecular Biology","question":"An agarose gel image shows bands at 2.0 kb, 1.0 kb, and 500 bp for treated sample, while control shows only 2.0 kb. What could explain the additional bands after restriction digest?","hint":"Consider restriction enzymes cutting at multiple sites in the plasmid or genome.","answer":"The restriction enzyme cut the original 2.0 kb fragment into smaller fragments (1.0 kb and 0.5 kb); multiple recognition sites present.","solution":"If the enzyme recognizes two sites within the 2.0 kb fragment, digestion yields smaller fragments. Multiple bands reflect discrete fragment sizes from cleavage.","image_url":"images/gel_digest.png"},{"id":123,"title":"qPCR Amplification Plot","difficulty":"Medium","category":"Molecular Biology","question":"A qPCR amplification plot (image provided) shows sample A crosses threshold at cycle 18, sample B at cycle 21. Which sample has higher initial template, and by what factor (approx)?","hint":"Each cycle ~2-fold difference; \u0394Ct = 3 cycles.","answer":"Sample A has higher initial template by \u2248 2^3 = 8-fold.","solution":"Lower Ct indicates more starting template. Difference of 3 cycles corresponds to ~2^3 = 8-fold higher abundance in sample A.","image_url":"images/qpcr_plot.png"},{"id":124,"title":"Spectrophotometry \u2014 Peak Absorbance","difficulty":"Medium","category":"Analytical Chemistry","question":"UV\u2013Vis spectrum image shows absorbance maximum at 280 nm with high A280/A260 ratio. What does this suggest about sample purity?","hint":"Proteins absorb at 280 nm primarily due to aromatic residues; nucleic acids absorb strongly at 260 nm.","answer":"High protein content / contamination or a protein-rich sample; sample likely protein and not pure nucleic acid.","solution":"High A280 relative to A260 suggests protein presence; pure DNA has A260/A280 \u2248 1.8, so a higher A280 suggests protein contamination or a protein sample.","image_url":"images/uvvis_280.png"},{"id":125,"title":"Enzyme Lineweaver\u2013Burk Plot \u2014 Inhibitor Type","difficulty":"Hard","category":"Biochemistry II","question":"A Lineweaver\u2013Burk plot image shows lines for control and inhibitor intersecting at the x-axis but different y-intercepts (inhibitor increases y-intercept). Identify inhibitor type.","hint":"Consider how Km and Vmax change and their effects on intercepts.","answer":"Noncompetitive inhibition (Vmax decreased, Km unchanged).","solution":"A noncompetitive inhibitor reduces Vmax (raising 1/Vmax on y-axis) without affecting Km (so x-intercept unchanged). Thus the lines intersect on the x-axis.","image_url":"images/lineweaver_plot.png"},{"id":126,"title":"Titration Curve \u2014 Polyprotic Acid","difficulty":"Medium","category":"Analytical Chemistry","question":"A titration curve image for 0.050 M polyprotic acid shows two equivalence points. Explain why two equivalence points appear and what their pH ranges indicate about pKa values.","hint":"Two titratable protons yield two equivalence points; buffer regions correspond to pKa values.","answer":"Each equivalence point corresponds to neutralization of one acidic proton; midpoints between start and equivalence give pKa values; pH at each equivalence reflects strength of remaining conjugate base.","solution":"A diprotic acid has two ionizable protons; titration shows two equivalence points. The pH at half-equivalence points equals pKa1 and pKa2. If spaced well, you can estimate both pKa values from buffer plateaus.","image_url":"images/titration_polyprotic.png"},{"id":127,"title":"Buffer Capacity After Addition of Strong Acid","difficulty":"Hard","category":"Analytical Chemistry","question":"You have 1.00 L of a buffer containing 0.200 M acetic acid and 0.100 M acetate. Calculate the pH before and after adding 0.010 mol HCl. (pKa acetic acid = 4.76).","hint":"Use Henderson\u2013Hasselbalch initially; for addition, convert moles and recalc ratio.","answer":"Initial pH = 4.46; after HCl pH \u2248 4.39","solution":"Initial ratio [A\u207b]/[HA]=0.100/0.200=0.5 \u2192 pH=4.76+log(0.5)=4.76\u22120.301=4.459\u22484.46. Moles: HA=0.200 mol, A\u207b=0.100 mol. Add 0.010 mol HCl: HCl reacts with A\u207b making HA: new HA=0.200+0.010=0.210 mol; A\u207b=0.100\u22120.010=0.090 mol. New ratio=0.090/0.210=0.4286 \u2192 pH=4.76+log(0.4286)=4.76\u22120.368=4.392\u22484.39."},{"id":128,"title":"Odd-chain Fatty Acid ATP Yield","difficulty":"Hard","category":"Biochemistry I","question":"Calculate the ATP yield from complete \u03b2-oxidation and oxidation (TCA + oxidative phosphorylation) of a 15-carbon saturated fatty acid (odd-chain, 15:0). Assume P/O NADH=2.5, FADH2=1.5 and activation cost 2 ATP.","hint":"Odd-chain yields propionyl-CoA which is converted to succinyl-CoA (glucogenic) producing one additional ATP equivalent after TCA processing; compute \u03b2-oxidation cycles = (n\u22121)/2.","answer":"Approx \u2248 101 ATP (estimate).","solution":"For 15C: number of acetyl-CoA = 7 acetyl-CoA + 1 propionyl-CoA. \u03b2-oxidation cycles = 7 cycles producing 7 FADH2 and 7 NADH \u2192 7*(1.5+2.5)=28 ATP. Acetyl-CoA (7) through TCA: 7\xd710 = 70 ATP. Propionyl-CoA processing yields ~3 ATP equivalents. Subtract 2 ATP activation \u2192 \u2248 28+70+3\u22122 \u2248 99\u2013101; common accepted \u2248101 depending on rounding."},{"id":129,"title":"Design an Experiment \u2014 Enzyme Inhibition Mechanism","difficulty":"Hard","category":"Biochemistry II","question":"Design a minimal experimental plan (assays and plots) to distinguish competitive versus noncompetitive inhibition for an enzymatic inhibitor X. What data will you collect and how will you interpret it?","hint":"Measure initial velocities at multiple substrate concentrations with and without inhibitor; use Lineweaver\u2013Burk or Michaelis\u2013Menten analysis.","answer":"Measure v vs [S] at several [S] with and without inhibitor; plot Lineweaver\u2013Burk: competitive shows lines intersect at y-axis (same 1/Vmax), noncompetitive intersects at x-axis (same \u22121/Km).","solution":"Perform enzyme assays across a range of [S] in absence and presence of fixed [inhibitor]. Plot 1/v vs 1/[S]. Competitive increases apparent Km (lines intersect at y), noncompetitive decreases Vmax (y-intercept increases) with unchanged Km."},{"id":130,"title":"Metabolic Flux \u2014 Small Change in Enzyme Activity","difficulty":"Hard","category":"Biochemistry I","question":"A pathway has three enzymes A\u2192B\u2192C\u2192D. Control analysis shows enzyme 1 contributes 10% of flux control (C\u2081 = 0.10), enzyme 2 contributes 70% and enzyme 3 contributes 20%. If you increase the activity of enzyme 1 by 100% (double its activity), what approximate percent change in steady-state pathway flux would you expect?","hint":"Flux change \u2248 control coefficient \xd7 fractional change in enzyme activity.","answer":"Approximately 10% increase in flux (0.10 \xd7 100% = 10%).","solution":"\u0394J/J \u2248 C_i \xd7 \u0394v_i/v_i = 0.10 \xd7 1 = 0.10 \u2192 10% increase in flux."},{"id":131,"title":"Lineweaver\u2013Burk Data Calculation","difficulty":"Hard","category":"Biochemistry II","question":"Given two data points for an enzyme assay: at [S]=2 mM, v=40 \u03bcM/min; at [S]=8 mM, v=80 \u03bcM/min. Use these to estimate Km and Vmax assuming Michaelis\u2013Menten kinetics.","hint":"Use Michaelis\u2013Menten form: v = Vmax[S]/(Km + [S]). Solve two equations for two unknowns.","answer":"Vmax \u2248 120 \u03bcM/min; Km \u2248 4 mM (approx).","solution":"From equations derive Km = 4 mM; then Vmax = 120 \u03bcM/min (see algebraic steps)."},{"id":132,"title":"Coupled Reaction \u2014 \u0394G and Keq","difficulty":"Hard","category":"Biochemistry I","question":"Reaction A \u2194 B has \u0394G\xb0\u2032 = +7.0 kJ/mol. Reaction B \u2194 C has \u0394G\xb0\u2032 = \u221215.0 kJ/mol. Can A be converted to C spontaneously when coupled? Calculate overall \u0394G\xb0\u2032 and comment.","hint":"\u0394G\xb0\u2032 total = sum of component \u0394G\xb0\u2032; spontaneous if total \u0394G\xb0\u2032 < 0.","answer":"Overall \u0394G\xb0\u2032 = \u22128.0 kJ/mol; yes, coupled reaction is spontaneous.","solution":"Sum \u0394G\xb0\u2032: +7.0 + (\u221215.0) = \u22128.0 kJ/mol \u2192 negative \u2192 spontaneous."}]'),Ut=JSON.parse('[{"id":1,"title":"Stoichiometry \u2014 Limiting Reagent","difficulty":"Easy","category":"General Chemistry","type":"multiple_choice","question":"For the reaction 2 H\u2082(g) + O\u2082(g) \u2192 2 H\u2082O(l), you start with 4.00 mol H\u2082 and 1.50 mol O\u2082. Which is the limiting reagent?","choices":[{"label":"A","text":"H\u2082 is limiting"},{"label":"B","text":"O\u2082 is limiting"},{"label":"C","text":"Neither \u2014 both are in stoichiometric amounts"},{"label":"D","text":"Both are in excess"}],"correct_choice":"B","hint":"Compare required O\u2082 for given H\u2082: need 1 mol O\u2082 per 2 mol H\u2082.","solution":"For 4.00 mol H\u2082 the required O\u2082 = (4.00 mol H\u2082) \xd7 (1 mol O\u2082 / 2 mol H\u2082) = 2.00 mol O\u2082. Available O\u2082 = 1.50 mol < 2.00 mol required, so O\u2082 is limiting."},{"id":2,"title":"pH \u2014 Strong Acid Solution","difficulty":"Easy","category":"Analytical Chemistry","type":"multiple_choice","question":"What is the pH of a 0.0500 M HCl solution (assume complete dissociation)?","choices":[{"label":"A","text":"pH = 1.30"},{"label":"B","text":"pH = 2.00"},{"label":"C","text":"pH = 0.30"},{"label":"D","text":"pH = 1.70"}],"correct_choice":"A","hint":"pH = \u2212log\u2081\u2080[H\u207a].","solution":"For a strong acid [H\u207a] = 0.0500 M. pH = \u2212log\u2081\u2080(0.0500) = \u2212(log\u2081\u2080(5.00) \u2212 2) = 2 \u2212 log\u2081\u2080(5.00). log\u2081\u2080(5.00) \u2248 0.69897 so pH \u2248 2 \u2212 0.69897 = 1.30103 \u2248 1.30."},{"id":3,"title":"Calorimetry \u2014 Heating Water","difficulty":"Easy","category":"Physical Chemistry","type":"multiple_choice","question":"How much heat (q) is required to raise the temperature of 25.0 g of liquid water from 20.0 \xb0C to 80.0 \xb0C? (Use c = 4.184 J\xb7g\u207b\xb9\xb7\xb0C\u207b\xb9.)","choices":[{"label":"A","text":"6.28 kJ"},{"label":"B","text":"3.14 kJ"},{"label":"C","text":"1.05 kJ"},{"label":"D","text":"12.56 kJ"}],"correct_choice":"A","hint":"q = m \xb7 c \xb7 \u0394T. Convert J to kJ for answers.","solution":"m = 25.0 g, c = 4.184 J\xb7g\u207b\xb9\xb7\xb0C\u207b\xb9, \u0394T = 80.0 \u2212 20.0 = 60.0 \xb0C.\\nq = 25.0 \xd7 4.184 \xd7 60.0 = 25.0 \xd7 251.04 = 6276.0 J = 6.276 kJ \u2248 6.28 kJ."},{"id":4,"title":"Buffer \u2014 Henderson\u2013Hasselbalch","difficulty":"Medium","category":"Analytical Chemistry","type":"multiple_choice","question":"Calculate the pH of a buffer made from 0.100 M acetic acid (HA) and 0.150 M sodium acetate (A\u207b). (pKa = 4.76.)","choices":[{"label":"A","text":"pH = 4.24"},{"label":"B","text":"pH = 4.76"},{"label":"C","text":"pH = 4.94"},{"label":"D","text":"pH = 5.16"}],"correct_choice":"C","hint":"Use Henderson\u2013Hasselbalch: pH = pKa + log([A\u207b]/[HA]).","solution":"pH = 4.76 + log(0.150 / 0.100) = 4.76 + log(1.50). log\u2081\u2080(1.50) \u2248 0.17609. pH \u2248 4.76 + 0.17609 = 4.936 \u2248 4.94."},{"id":5,"title":"Ideal Gas \u2014 Molar Mass Determination","difficulty":"Medium","category":"General Chemistry","type":"multiple_choice","question":"A 0.500 g sample of an unknown gaseous compound occupies 112.0 mL at 1.00 atm and 298 K. What is its molar mass? (R = 0.082057 L\xb7atm\xb7mol\u207b\xb9\xb7K\u207b\xb9)","choices":[{"label":"A","text":"54.6 g\xb7mol\u207b\xb9"},{"label":"B","text":"109.2 g\xb7mol\u207b\xb9"},{"label":"C","text":"218.4 g\xb7mol\u207b\xb9"},{"label":"D","text":"27.3 g\xb7mol\u207b\xb9"}],"correct_choice":"B","hint":"Find n from PV = nRT, then M = mass / n. Convert mL \u2192 L.","solution":"V = 112.0 mL = 0.1120 L. n = PV / (RT) = (1.00 atm \xd7 0.1120 L) / (0.082057 \xd7 298 K) = 0.1120 / 24.452986 \u2248 0.0045802 mol. Molar mass = 0.500 g / 0.0045802 mol \u2248 109.17 g\xb7mol\u207b\xb9 \u2248 109.2 g\xb7mol\u207b\xb9."},{"id":6,"title":"Kinetics \u2014 Second-Order Half-Life","difficulty":"Medium","category":"Physical Chemistry","type":"multiple_choice","question":"For a second-order reaction with rate law rate = k[A]\xb2, the half-life is t\u2081/\u2082 = 1/(k[A]\u2080). If k = 0.250 M\u207b\xb9\xb7s\u207b\xb9 and [A]\u2080 = 0.200 M, what is t\u2081/\u2082?","choices":[{"label":"A","text":"20.0 s"},{"label":"B","text":"0.020 s"},{"label":"C","text":"2.00 s"},{"label":"D","text":"40.0 s"}],"correct_choice":"A","hint":"Plug values into t\u2081/\u2082 = 1 / (k [A]\u2080).","solution":"t\u2081/\u2082 = 1 / (0.250 M\u207b\xb9\xb7s\u207b\xb9 \xd7 0.200 M) = 1 / 0.0500 s\u207b\xb9 = 20.0 s."},{"id":7,"title":"Genetics \u2014 Monohybrid Cross","difficulty":"Easy","category":"Genetics","type":"multiple_choice","question":"If an organism with genotype Aa is crossed with aa, what fraction of offspring are expected to be heterozygous (Aa)?","choices":[{"label":"A","text":"0 (none)"},{"label":"B","text":"1/4"},{"label":"C","text":"1/2"},{"label":"D","text":"1 (all)"}],"correct_choice":"C","hint":"List gametes from each parent: Aa \u2192 A or a; aa \u2192 a only.","solution":"Parent genotypes: Aa \xd7 aa. Gametes: Aa \u2192 {A, a} each 1/2, aa \u2192 {a}. Offspring: 1/2 \xd7 a \u2192 Aa, 1/2 \xd7 a \u2192 aa \u2192 so 1/2 of offspring are Aa."},{"id":8,"title":"Electrochemistry \u2014 Nernst Equation","difficulty":"Medium","category":"Analytical Chemistry","type":"multiple_choice","question":"For the Cu\xb2\u207a/Cu half-reaction (Cu\xb2\u207a + 2e\u207b \u2192 Cu) with E\xb0 = +0.34 V, what is the electrode potential at 25.0 \xb0C when [Cu\xb2\u207a] = 0.0100 M? (Use E = E\xb0 \u2212 (0.05916/2)\xb7log\u2081\u2080(Q).)","choices":[{"label":"A","text":"E = +0.280 V"},{"label":"B","text":"E = +0.340 V"},{"label":"C","text":"E = +0.400 V"},{"label":"D","text":"E = +0.220 V"}],"correct_choice":"A","hint":"Q = 1 / [Cu\xb2\u207a] for the reduction as written (solid Cu activity = 1).","solution":"Q = 1 / [Cu\xb2\u207a] = 1 / 0.0100 = 100. log\u2081\u2080(Q) = log\u2081\u2080(100) = 2. E = 0.34 \u2212 (0.05916/2) \xd7 2 = 0.34 \u2212 0.05916 = 0.28084 V \u2248 0.280 V."},{"id":9,"title":"Enzyme Kinetics \u2014 Michaelis\u2013Menten","difficulty":"Easy","category":"Biochemistry I","type":"multiple_choice","question":"An enzyme has Km = 5.0 \u03bcM. If [S] = 5.0 \u03bcM, what fraction of Vmax is the reaction velocity v (assuming Michaelis\u2013Menten kinetics)?","choices":[{"label":"A","text":"v = Vmax"},{"label":"B","text":"v = 0.25 \xd7 Vmax"},{"label":"C","text":"v = 0.50 \xd7 Vmax"},{"label":"D","text":"v = 0.75 \xd7 Vmax"}],"correct_choice":"C","hint":"When [S] = Km, the Michaelis\u2013Menten equation yields v = Vmax/2.","solution":"By definition, when [S] = Km, v = (Vmax [S]) / (Km + [S]) = Vmax \xd7 Km / (Km + Km) = Vmax \xd7 1/2 = 0.50 \xd7 Vmax."},{"id":10,"title":"Spectroscopy \u2014 \xb9H NMR Chemical Shift","difficulty":"Easy","category":"Organic Chemistry","type":"multiple_choice","question":"In \xb9H NMR spectroscopy, which type of proton typically appears downfield near 9\u201310 ppm?","choices":[{"label":"A","text":"Aromatic (Ar\u2013H) protons"},{"label":"B","text":"Alkene (C=CH) protons"},{"label":"C","text":"Aldehyde (CHO) protons"},{"label":"D","text":"Alcohol (OH) protons"}],"correct_choice":"C","hint":"Look for the proton on a carbonyl carbon in aldehydes.","solution":"Aldehyde protons (\u2013CHO) are deshielded by the adjacent carbonyl and typically appear around 9\u201310 ppm in \xb9H NMR."},{"id":11,"title":"Osmolarity \u2014 Ionic Dissociation","difficulty":"Medium","category":"Cell Physiology","type":"multiple_choice","question":"What is the osmolarity (in Osm\xb7L\u207b\xb9) of a 0.150 M Na\u2082SO\u2084 solution assuming complete dissociation into ions?","choices":[{"label":"A","text":"0.150 Osm\xb7L\u207b\xb9"},{"label":"B","text":"0.300 Osm\xb7L\u207b\xb9"},{"label":"C","text":"0.450 Osm\xb7L\u207b\xb9"},{"label":"D","text":"0.600 Osm\xb7L\u207b\xb9"}],"correct_choice":"C","hint":"Na\u2082SO\u2084 dissociates into 3 ions (2 Na\u207a + SO\u2084\xb2\u207b) per formula unit; osmolarity = concentration \xd7 i.","solution":"Van\'t Hoff factor i = 3. Osmolarity = 0.150 M \xd7 3 = 0.450 Osm\xb7L\u207b\xb9."},{"id":12,"title":"Titration \u2014 Half-Equivalence Point","difficulty":"Medium","category":"General Chemistry","type":"multiple_choice","question":"You titrate 0.100 M acetic acid with 0.100 M NaOH. At the half-equivalence point (half of the acid neutralized), what is the pH of the solution? (pKa acetic acid = 4.76)","choices":[{"label":"A","text":"pH = 4.76"},{"label":"B","text":"pH = 7.00"},{"label":"C","text":"pH = 3.54"},{"label":"D","text":"pH = 5.52"}],"correct_choice":"A","hint":"At half-equivalence [A\u207b] = [HA]; Henderson\u2013Hasselbalch simplifies to pH = pKa.","solution":"At the half-equivalence point [A\u207b] = [HA], so pH = pKa + log([A\u207b]/[HA]) = pKa + log(1) = pKa = 4.76."},{"id":13,"title":"Ideal Gas Law \u2014 Moles","difficulty":"Easy","category":"General Chemistry","type":"multiple_choice","question":"A 2.46 L container holds an ideal gas at 1.50 atm and 298 K. Using R = 0.082057 L\xb7atm\xb7mol\u207b\xb9\xb7K\u207b\xb9, how many moles of gas are present?","choices":[{"label":"A","text":"0.101 mol"},{"label":"B","text":"0.151 mol"},{"label":"C","text":"0.202 mol"},{"label":"D","text":"0.303 mol"}],"correct_choice":"B","hint":"Use PV = nRT \u2192 n = PV / (RT).","solution":"Compute n = PV / (RT).\\nStep 1 (numerator): P \xd7 V = 1.50 atm \xd7 2.46 L = 3.6900 (atm\xb7L).\\nStep 2 (denominator): R \xd7 T = 0.082057 L\xb7atm\xb7mol\u207b\xb9\xb7K\u207b\xb9 \xd7 298 K = 24.452986 (L\xb7atm\xb7mol\u207b\xb9).\\nStep 3: n = 3.6900 / 24.452986 = 0.150895 \u2248 0.151 mol."},{"id":14,"title":"Colligative Properties \u2014 Freezing Point Depression","difficulty":"Medium","category":"Physical Chemistry","type":"multiple_choice","question":"What is the freezing point of an aqueous solution that is 3.00 m (molal) in NaCl, assuming complete dissociation (i = 2)? (Kf for water = 1.86 \xb0C\xb7kg\xb7mol\u207b\xb9)","choices":[{"label":"A","text":"-5.58 \xb0C"},{"label":"B","text":"-11.16 \xb0C"},{"label":"C","text":"-3.72 \xb0C"},{"label":"D","text":"-7.44 \xb0C"}],"correct_choice":"B","hint":"\u0394Tf = i \xb7 Kf \xb7 m; freezing point = 0 \xb0C \u2212 \u0394Tf.","solution":"\u0394Tf = i \xd7 Kf \xd7 m = 2 \xd7 1.86 \xb0C\xb7kg\xb7mol\u207b\xb9 \xd7 3.00 m = 11.16 \xb0C. Freezing point = 0.00 \xb0C \u2212 11.16 \xb0C = \u221211.16 \xb0C (\u2248 \u221211.2 \xb0C)."},{"id":15,"title":"Electrochemistry \u2014 Cell Potential","difficulty":"Easy","category":"Analytical Chemistry","type":"multiple_choice","question":"Given the standard reduction potentials: Cu\xb2\u207a + 2e\u207b \u2192 Cu (E\xb0 = +0.34 V) and Zn\xb2\u207a + 2e\u207b \u2192 Zn (E\xb0 = \u22120.76 V), what is the standard cell potential (E\xb0cell) for a Daniell cell where Zn(s) | Zn\xb2\u207a || Cu\xb2\u207a | Cu(s)?","choices":[{"label":"A","text":"\u22121.10 V"},{"label":"B","text":"0.34 V"},{"label":"C","text":"1.10 V"},{"label":"D","text":"\u22120.42 V"}],"correct_choice":"C","hint":"E\xb0cell = E\xb0(cathode) \u2212 E\xb0(anode). Zn is oxidized (anode), Cu is reduced (cathode).","solution":"Cathode: Cu\xb2\u207a/Cu E\xb0 = +0.34 V. Anode: Zn\xb2\u207a/Zn E\xb0 = \u22120.76 V. E\xb0cell = E\xb0cathode \u2212 E\xb0anode = 0.34 \u2212 (\u22120.76) = 1.10 V."},{"id":16,"title":"Reaction Kinetics \u2014 First-Order Half-Life","difficulty":"Medium","category":"Physical Chemistry","type":"multiple_choice","question":"A first-order reaction has a rate constant k = 0.023 s\u207b\xb9. What is the half-life t\u2081/\u2082 of the reaction?","choices":[{"label":"A","text":"30.1 s"},{"label":"B","text":"0.031 s"},{"label":"C","text":"23.0 s"},{"label":"D","text":"3.01 s"}],"correct_choice":"A","hint":"For first order, t\u2081/\u2082 = ln(2) / k. Use ln(2) \u2248 0.693147.","solution":"t\u2081/\u2082 = ln(2) / k = 0.693147 / 0.023. Compute: 0.693147 \xf7 0.023 = 30.13465 s \u2248 30.1 s."},{"id":17,"title":"Spectroscopy \u2014 IR Identification","difficulty":"Easy","category":"Analytical Chemistry","type":"multiple_choice","question":"Which IR absorption band region is most characteristic of a carbonyl (C=O) stretch in a typical ketone or aldehyde?","choices":[{"label":"A","text":"\u22481700 cm\u207b\xb9"},{"label":"B","text":"\u22483300 cm\u207b\xb9"},{"label":"C","text":"\u22482100 cm\u207b\xb9"},{"label":"D","text":"\u22481450 cm\u207b\xb9"}],"correct_choice":"A","hint":"Look for a strong sharp band for C=O.","solution":"Carbonyl (C=O) stretches typically appear near 1700 cm\u207b\xb9 (range \u22481680\u20131750 cm\u207b\xb9 depending on conjugation and environment)."},{"id":18,"title":"Enzyme Inhibition \u2014 Kinetic Effects","difficulty":"Medium","category":"Biochemistry II","type":"multiple_choice","question":"Which description correctly matches competitive and noncompetitive inhibition effects on Km and Vmax?","choices":[{"label":"A","text":"Competitive: Km increases, Vmax unchanged. Noncompetitive: Km unchanged, Vmax decreases."},{"label":"B","text":"Competitive: Km decreases, Vmax decreases. Noncompetitive: Km increases, Vmax increases."},{"label":"C","text":"Competitive: Km unchanged, Vmax decreases. Noncompetitive: Km increases, Vmax unchanged."},{"label":"D","text":"Competitive: Km and Vmax both decrease. Noncompetitive: Km and Vmax both increase."}],"correct_choice":"A","hint":"Competitive inhibitors compete with substrate for active site; noncompetitive inhibitors reduce catalytic efficiency regardless of substrate concentration.","solution":"Competitive inhibitors raise the apparent Km (lower affinity) because more substrate is needed to reach the same velocity; Vmax is unchanged (can be reached at high [S]). Noncompetitive inhibitors bind elsewhere and reduce the effective concentration of active enzyme, decreasing Vmax while Km is unchanged."},{"id":19,"title":"Molecular Biology \u2014 PCR Steps","difficulty":"Easy","category":"Molecular Biology","type":"multiple_choice","question":"Place the core steps of PCR in the correct order for one cycle.","choices":[{"label":"A","text":"Extension \u2192 Denaturation \u2192 Annealing"},{"label":"B","text":"Denaturation \u2192 Annealing \u2192 Extension"},{"label":"C","text":"Annealing \u2192 Denaturation \u2192 Extension"},{"label":"D","text":"Denaturation \u2192 Extension \u2192 Annealing"}],"correct_choice":"B","hint":"Think: separate strands, primers bind, polymerase extends.","solution":"Correct order: Denaturation (high temp to separate strands) \u2192 Annealing (lower temp for primers to bind) \u2192 Extension (DNA polymerase synthesizes new strand)."},{"id":20,"title":"Genetics \u2014 Dihybrid Cross Probability","difficulty":"Medium","category":"Genetics","type":"multiple_choice","question":"For a cross AaBb \xd7 AaBb (independent assortment), what is the probability that an offspring will be homozygous recessive for both traits (aabb)?","choices":[{"label":"A","text":"1/4"},{"label":"B","text":"1/8"},{"label":"C","text":"1/16"},{"label":"D","text":"1/32"}],"correct_choice":"C","hint":"Treat the two loci independently: probability aabb = P(aa) \xd7 P(bb). For Aa \xd7 Aa, P(aa)=1/4.","solution":"P(aa) = 1/4 (from Aa\xd7Aa). P(bb) = 1/4. Multiply independent probabilities: (1/4) \xd7 (1/4) = 1/16 = 0.0625."},{"id":21,"title":"Membrane Potential \u2014 Nernst Calculation","difficulty":"Hard","category":"Cell Physiology","type":"multiple_choice","question":"Using the Nernst equation at 37 \xb0C (use 61.5 mV \xb7 log\u2081\u2080), calculate the equilibrium potential for K\u207a when [K\u207a]\u208din\u208e = 140 mM and [K\u207a]\u208dout\u208e = 4 mM. (Give the sign and approximate magnitude.)","choices":[{"label":"A","text":"+95.0 mV"},{"label":"B","text":"\u221295.0 mV"},{"label":"C","text":"\u221261.5 mV"},{"label":"D","text":"+61.5 mV"}],"correct_choice":"B","hint":"E = 61.5 mV \xd7 log\u2081\u2080([out]/[in]) for a monovalent cation at 37 \xb0C.","solution":"Compute ratio: [out]/[in] = 4 / 140 = 0.02857142857.\\nlog\u2081\u2080(0.02857142857) = \u22121.544068044.\\nMultiply: 61.5 mV \xd7 (\u22121.544068044) = \u221295.0 mV (approx). So E\u2096 \u2248 \u221295 mV."},{"id":22,"title":"Oxidative Phosphorylation \u2014 Uncoupler Effect","difficulty":"Medium","category":"Biochemistry II","type":"multiple_choice","question":"If a protonophoric uncoupler (e.g., DNP) is added to mitochondria, which of the following describes the expected effects on the proton gradient, ATP synthesis rate, and O\u2082 consumption?","choices":[{"label":"A","text":"Proton gradient dissipates; ATP synthesis decreases; O\u2082 consumption increases."},{"label":"B","text":"Proton gradient increases; ATP synthesis increases; O\u2082 consumption decreases."},{"label":"C","text":"Proton gradient unchanged; ATP synthesis increases; O\u2082 consumption unchanged."},{"label":"D","text":"Proton gradient dissipates; ATP synthesis increases; O\u2082 consumption decreases."}],"correct_choice":"A","hint":"Uncouplers carry protons across membrane bypassing ATP synthase.","solution":"Uncouplers collapse (dissipate) the proton gradient by shuttling protons back into the matrix without driving ATP synthase. This lowers ATP synthesis rate. The electron transport chain works harder (faster) to try to restore the gradient, so O\u2082 consumption increases."},{"id":23,"title":"Thermodynamics \u2014 \u0394G\xb0 to Keq","difficulty":"Medium","category":"Physical Chemistry","type":"multiple_choice","question":"For a reaction at 298 K the standard free energy change is \u0394G\xb0 = \u22125.70 kJ\xb7mol\u207b\xb9. What is the equilibrium constant K at 298 K? (Use R = 8.314 J\xb7mol\u207b\xb9\xb7K\u207b\xb9.)","choices":[{"label":"A","text":"K \u2248 0.10"},{"label":"B","text":"K \u2248 1.00"},{"label":"C","text":"K \u2248 10.0"},{"label":"D","text":"K \u2248 100.0"}],"correct_choice":"C","hint":"Use \u0394G\xb0 = \u2212RT ln K; convert kJ \u2192 J.","solution":"\u0394G\xb0 = \u22125700 J\xb7mol\u207b\xb9. ln K = \u2212\u0394G\xb0/(RT) = 5700 / (8.314\xd7298) \u2248 2.301. K = e^{2.301} \u2248 9.99 \u2248 10.0."},{"id":24,"title":"Glycolysis \u2014 Rate-Limiting Enzyme","difficulty":"Easy","category":"Biochemistry I","type":"multiple_choice","question":"Which enzyme is considered the primary rate-limiting (allosterically regulated) step of glycolysis in most tissues?","choices":[{"label":"A","text":"Hexokinase"},{"label":"B","text":"Pyruvate kinase"},{"label":"C","text":"Phosphofructokinase-1 (PFK-1)"},{"label":"D","text":"Aldolase"}],"correct_choice":"C","hint":"Think of the committed step consuming ATP to phosphorylate fructose-6-phosphate.","solution":"PFK-1 catalyzes the conversion of fructose-6-phosphate \u2192 fructose-1,6-bisphosphate and is the major regulated/committed step in glycolysis."},{"id":25,"title":"Kinematics \u2014 Constant Acceleration","difficulty":"Easy","category":"Physics","type":"multiple_choice","question":"A car starts from rest and accelerates uniformly at 3.00 m\xb7s\u207b\xb2 for 5.00 s. What distance does it travel during that time?","choices":[{"label":"A","text":"15.0 m"},{"label":"B","text":"37.5 m"},{"label":"C","text":"75.0 m"},{"label":"D","text":"40.0 m"}],"correct_choice":"B","hint":"Use s = v\u2080t + \xbd a t\xb2 with v\u2080 = 0.","solution":"s = 0 + 0.5 \xd7 3.00 \xd7 (5.00)\xb2 = 0.5 \xd7 3 \xd7 25 = 37.5 m."},{"id":26,"title":"Organic Chemistry \u2014 SN1 vs SN2","difficulty":"Medium","category":"Organic Chemistry","type":"multiple_choice","question":"A tertiary alkyl bromide reacts rapidly in a polar protic solvent to give substitution products; which mechanism is most likely?","choices":[{"label":"A","text":"SN1 (unimolecular nucleophilic substitution)"},{"label":"B","text":"SN2 (bimolecular nucleophilic substitution)"},{"label":"C","text":"E2 elimination only"},{"label":"D","text":"Radical substitution (SRN1)"}],"correct_choice":"A","hint":"Tertiary centers stabilize carbocations; polar protic solvents stabilize leaving groups and favor stepwise mechanisms.","solution":"Tertiary substrates form stable carbocations and polar protic solvents favor SN1 (carbocation intermediate), so SN1 is most likely."},{"id":27,"title":"Hemoglobin \u2014 Bohr Effect","difficulty":"Medium","category":"Cell Physiology","type":"multiple_choice","question":"During heavy exercise tissues produce more CO\u2082 and H\u207a. According to the Bohr effect, how does a decrease in pH affect hemoglobin\u2013O\u2082 binding?","choices":[{"label":"A","text":"Affinity for O\u2082 increases (left shift)"},{"label":"B","text":"Affinity for O\u2082 decreases (right shift)"},{"label":"C","text":"No change in affinity"},{"label":"D","text":"Hemoglobin permanently denatures and cannot bind O\u2082"}],"correct_choice":"B","hint":"Lower pH favors protonation states that stabilize the deoxy form of hemoglobin.","solution":"A decrease in pH (more H\u207a) shifts the oxygen\u2013hemoglobin dissociation curve to the right (Bohr effect), lowering O\u2082 affinity and promoting O\u2082 release to tissues."},{"id":28,"title":"Memory \u2014 Timescale of Storage","difficulty":"Easy","category":"Cognitive Psychology","type":"multiple_choice","question":"Which memory system typically holds information for only a few seconds to about a minute and is used for immediate tasks (e.g., mental arithmetic)?","choices":[{"label":"A","text":"Sensory memory"},{"label":"B","text":"Short-term / working memory"},{"label":"C","text":"Long-term memory"},{"label":"D","text":"Implicit procedural memory"}],"correct_choice":"B","hint":"This system actively maintains/manipulates small amounts of information for ongoing cognitive tasks.","solution":"Short-term or working memory holds information for seconds to a minute and is used for tasks like mental arithmetic or holding a phone number briefly."},{"id":29,"title":"Chemical Equilibrium \u2014 Temperature Effect","difficulty":"Medium","category":"General Chemistry","type":"multiple_choice","question":"For the endothermic reaction A \u21cc B (\u0394H\xb0 > 0), what is the effect of increasing the temperature on the position of equilibrium and the equilibrium constant K?","choices":[{"label":"A","text":"Equilibrium shifts left; K decreases"},{"label":"B","text":"Equilibrium shifts left; K increases"},{"label":"C","text":"Equilibrium shifts right; K increases"},{"label":"D","text":"Equilibrium shifts right; K decreases"}],"correct_choice":"C","hint":"Treat temperature as adding energy; Le Chatelier predicts the system will absorb added heat for endothermic reactions.","solution":"Increasing T supplies heat, which for an endothermic reaction favors product formation (shift right) and increases K (more product at equilibrium)."},{"id":30,"title":"Electrostatics \u2014 Point Charge Potential","difficulty":"Medium","category":"Physics","type":"multiple_choice","question":"Which statement about the electric potential V due to a single point charge q in vacuum is correct (using Coulomb constant k)?","choices":[{"label":"A","text":"V \u221d r (potential increases linearly with distance r)"},{"label":"B","text":"V \u221d 1/r (potential decreases inversely with distance)"},{"label":"C","text":"V \u221d 1/r\xb2 (potential decreases with the square of distance)"},{"label":"D","text":"V is independent of distance from the charge"}],"correct_choice":"B","hint":"Electric potential of a point charge: V = k q / r (relative to infinity).","solution":"Electric potential due to a point charge is V = kq/r; thus V decreases as the inverse of r (1/r)."},{"id":31,"title":"Working Memory \u2014 Capacity Limits","difficulty":"Easy","category":"Cognitive Psychology","type":"multiple_choice","question":"According to Miller\u2019s classic findings, the capacity of working memory is approximately how many items?","choices":[{"label":"A","text":"3 \xb1 1 items"},{"label":"B","text":"7 \xb1 2 items"},{"label":"C","text":"12 \xb1 2 items"},{"label":"D","text":"20 \xb1 5 items"}],"correct_choice":"B","hint":"Miller referred to this as \'the magical number.\'","solution":"Miller (1956) proposed a working memory capacity of roughly 7 \xb1 2 items, meaning about 5\u20139 chunks."},{"id":32,"title":"Memory Systems \u2014 Declarative vs. Procedural","difficulty":"Easy","category":"Cognitive Psychology","type":"multiple_choice","question":"Riding a bicycle is an example of which type of memory?","choices":[{"label":"A","text":"Semantic memory"},{"label":"B","text":"Episodic memory"},{"label":"C","text":"Procedural memory"},{"label":"D","text":"Working memory"}],"correct_choice":"C","hint":"This type of memory is often preserved in amnesia.","solution":"Procedural memory supports skills and habits like riding a bike or typing; it is non-declarative."},{"id":33,"title":"Attention \u2014 Stroop Effect","difficulty":"Medium","category":"Cognitive Psychology","type":"multiple_choice","question":"The Stroop effect primarily demonstrates interference between which two processes?","choices":[{"label":"A","text":"Semantic processing and phonological processing"},{"label":"B","text":"Automatic reading and controlled color naming"},{"label":"C","text":"Visual perception and motor execution"},{"label":"D","text":"Long-term memory and working memory"}],"correct_choice":"B","hint":"Reading is automatic; naming ink color is controlled.","solution":"The Stroop effect occurs because automatic word reading interferes with controlled color naming, slowing response times."},{"id":34,"title":"Learning \u2014 Classical Conditioning","difficulty":"Easy","category":"Cognitive Psychology","type":"multiple_choice","question":"In classical conditioning, the learned response to a previously neutral stimulus is called the:","choices":[{"label":"A","text":"Unconditioned response"},{"label":"B","text":"Conditioned stimulus"},{"label":"C","text":"Conditioned response"},{"label":"D","text":"Neutral response"}],"correct_choice":"C","hint":"This response occurs only after pairing the neutral and unconditioned stimuli.","solution":"After conditioning, the organism responds to the conditioned stimulus with a conditioned response."},{"id":35,"title":"Acid\u2013Base \u2014 Weak Acid Equilibrium","difficulty":"Medium","category":"General Chemistry","type":"multiple_choice","question":"A 0.100 M solution of a weak acid HA has Ka = 1.0 \xd7 10\u207b\u2075. What is the approximate pH?","choices":[{"label":"A","text":"pH \u2248 2.00"},{"label":"B","text":"pH \u2248 3.00"},{"label":"C","text":"pH \u2248 4.00"},{"label":"D","text":"pH \u2248 5.00"}],"correct_choice":"B","hint":"Use the approximation [H\u207a] \u2248 \u221a(Ka\xb7C) for weak acids.","solution":"[H\u207a] \u2248 \u221a(Ka\xb7C) = \u221a(1.0\xd710\u207b\u2075 \xd7 0.100) = \u221a(1.0\xd710\u207b\u2076) = 1.0\xd710\u207b\xb3 M. pH = 3.00."},{"id":36,"title":"Thermodynamics \u2014 Entropy Change Sign","difficulty":"Easy","category":"Physical Chemistry","type":"multiple_choice","question":"For the reaction 2 NO\u2082(g) \u21cc N\u2082O\u2084(g), what is the sign of \u0394S\xb0 for the forward reaction?","choices":[{"label":"A","text":"\u0394S\xb0 > 0"},{"label":"B","text":"\u0394S\xb0 < 0"},{"label":"C","text":"\u0394S\xb0 = 0"},{"label":"D","text":"Cannot be determined"}],"correct_choice":"B","hint":"Consider change in number of gas molecules.","solution":"2 mol gas \u2192 1 mol gas decreases disorder; therefore \u0394S\xb0 < 0."},{"id":37,"title":"Organic Chemistry \u2014 E2 Mechanism","difficulty":"Medium","category":"Organic Chemistry","type":"multiple_choice","question":"Which condition most strongly favors an E2 elimination reaction?","choices":[{"label":"A","text":"Primary substrate with weak nucleophile"},{"label":"B","text":"Tertiary substrate with strong base"},{"label":"C","text":"Methyl halide in polar protic solvent"},{"label":"D","text":"Secondary substrate in water"}],"correct_choice":"B","hint":"E2 requires strong base and steric hindrance disfavors SN2.","solution":"A strong base and tertiary substrate favor concerted E2 elimination."},{"id":38,"title":"Michaelis\u2013Menten \u2014 Effect of Increased Enzyme","difficulty":"Medium","category":"Biochemistry I","type":"multiple_choice","question":"If enzyme concentration is doubled (all else constant), what happens to Km and Vmax?","choices":[{"label":"A","text":"Km doubles; Vmax unchanged"},{"label":"B","text":"Km unchanged; Vmax doubles"},{"label":"C","text":"Km halves; Vmax doubles"},{"label":"D","text":"Both unchanged"}],"correct_choice":"B","hint":"Km is intrinsic to enzyme\u2013substrate affinity.","solution":"Km remains unchanged (affinity constant), but Vmax \u221d [E], so Vmax doubles."},{"id":39,"title":"Cell Physiology \u2014 Resting Membrane Potential","difficulty":"Medium","category":"Cell Physiology","type":"multiple_choice","question":"Which ion contributes most to the resting membrane potential of neurons?","choices":[{"label":"A","text":"Na\u207a"},{"label":"B","text":"Cl\u207b"},{"label":"C","text":"K\u207a"},{"label":"D","text":"Ca\xb2\u207a"}],"correct_choice":"C","hint":"Think about relative membrane permeability at rest.","solution":"Membranes are most permeable to K\u207a at rest; thus K\u207a largely determines resting potential."},{"id":40,"title":"Genetics \u2014 Test Cross","difficulty":"Easy","category":"Genetics","type":"multiple_choice","question":"What genotype is used in a test cross to determine if a dominant phenotype is homozygous or heterozygous?","choices":[{"label":"A","text":"Homozygous dominant"},{"label":"B","text":"Heterozygous"},{"label":"C","text":"Homozygous recessive"},{"label":"D","text":"Any genotype works equally"}],"correct_choice":"C","hint":"The recessive phenotype reveals hidden alleles.","solution":"A homozygous recessive (aa) reveals whether the dominant phenotype parent carries a recessive allele."},{"id":41,"title":"Molecular Biology \u2014 DNA Replication","difficulty":"Easy","category":"Molecular Biology","type":"multiple_choice","question":"Which enzyme synthesizes short RNA primers during DNA replication?","choices":[{"label":"A","text":"DNA polymerase III"},{"label":"B","text":"Helicase"},{"label":"C","text":"Primase"},{"label":"D","text":"Ligase"}],"correct_choice":"C","hint":"Primers are short RNA sequences.","solution":"Primase synthesizes RNA primers required for DNA polymerase to begin replication."},{"id":42,"title":"Physics \u2014 Work\u2013Energy Theorem","difficulty":"Medium","category":"Physics","type":"multiple_choice","question":"According to the work\u2013energy theorem, the net work done on an object equals:","choices":[{"label":"A","text":"Its potential energy change"},{"label":"B","text":"Its kinetic energy change"},{"label":"C","text":"Force times velocity"},{"label":"D","text":"Momentum change"}],"correct_choice":"B","hint":"W_net = \u0394K.","solution":"The work\u2013energy theorem states W_net = \u0394K (change in kinetic energy)."},{"id":43,"title":"Cognitive Psychology \u2014 Encoding Specificity","difficulty":"Medium","category":"Cognitive Psychology","type":"multiple_choice","question":"The encoding specificity principle suggests memory retrieval is best when:","choices":[{"label":"A","text":"Information is repeated many times"},{"label":"B","text":"Retrieval context matches encoding context"},{"label":"C","text":"Material is emotionally neutral"},{"label":"D","text":"Working memory capacity is increased"}],"correct_choice":"B","hint":"Context-dependent memory effects.","solution":"Memory is strongest when contextual cues present during encoding are also present at retrieval."},{"id":44,"title":"Analytical Chemistry \u2014 Beer\u2013Lambert Law","difficulty":"Medium","category":"Analytical Chemistry","type":"multiple_choice","question":"According to Beer\u2013Lambert law (A = \u03b5bc), if path length and molar absorptivity are constant, doubling concentration will:","choices":[{"label":"A","text":"Double absorbance"},{"label":"B","text":"Halve absorbance"},{"label":"C","text":"Square absorbance"},{"label":"D","text":"Not change absorbance"}],"correct_choice":"A","hint":"Absorbance is directly proportional to concentration.","solution":"Since A \u221d c (with \u03b5 and b constant), doubling concentration doubles absorbance."}]'),Ht=()=>{const[t,n]=(0,e.useState)({}),[i,r]=(0,e.useState)(5),[a,o]=(0,e.useState)({}),[s,l]=(0,e.useState)("all"),[u,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)(()=>{const e=localStorage.getItem("completedProblems");return e?JSON.parse(e):{}}),m=(0,e.useMemo)(()=>[...Bt,...Ut],[]),f=(e,t)=>{n(n=>{var i;return c(c({},n),{},{[e]:c(c({},n[e]),{},{[t]:!(null!==(i=n[e])&&void 0!==i&&i[t])})})})},g=e=>{p(t=>{const n=c(c({},t),{},{[e]:!t[e]});return localStorage.setItem("completedProblems",JSON.stringify(n)),n})},y=(0,e.useMemo)(()=>["all",...new Set(m.map(e=>e.category))].sort((e,t)=>"all"===e?-1:"all"===t?1:e.localeCompare(t)),[]),v=(0,e.useMemo)(()=>m.filter(e=>"all"===s||e.category===s),[s,m]),b=(0,e.useMemo)(()=>{if(!u)return v;const e=[...v];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},[v,u]);return(0,Lt.jsxs)("div",{className:"page",children:[(0,Lt.jsxs)("div",{className:"filter-section",children:[(0,Lt.jsxs)("div",{className:"filter-group",children:[(0,Lt.jsx)("label",{children:"Subject/Category:"}),(0,Lt.jsx)("select",{value:s,onChange:e=>l(e.target.value),children:y.map(e=>(0,Lt.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,Lt.jsxs)("div",{className:"filter-group",children:[(0,Lt.jsx)("label",{children:"Problems to practice:"}),(0,Lt.jsxs)("select",{value:i,onChange:e=>r(Number(e.target.value)),children:[(0,Lt.jsx)("option",{value:5,children:"5"}),(0,Lt.jsx)("option",{value:10,children:"10"}),(0,Lt.jsx)("option",{value:20,children:"20"}),(0,Lt.jsx)("option",{value:v.length,children:"All"})]})]})]}),(0,Lt.jsxs)("p",{style:{marginBottom:"1rem",color:"#666"},children:["Showing ",Math.min(i,v.length)," of ",v.length," problems"]}),(0,Lt.jsxs)("p",{style:{color:"#666"},children:["Completed ",v.filter(e=>h[e.id]).length," / ",v.length," problems"]}),(0,Lt.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[(0,Lt.jsxs)("button",{className:"resetButton",onClick:()=>{localStorage.removeItem("completedProblems"),p({})},children:[(0,Lt.jsx)("i",{className:"fa-solid fa-rotate-left"}),"Reset Completion"]}),(0,Lt.jsxs)("button",{className:"shuffleButton",onClick:()=>d(!u),children:[(0,Lt.jsx)("i",{className:"fa-solid fa-shuffle"}),"Shuffle"]})]}),b.slice(0,i).map(e=>{var n,i,r,s,l,u;return(0,Lt.jsxs)("div",{className:"problem-card ".concat(h[e.id]?"completed":""),children:[(0,Lt.jsx)("h3",{children:e.title}),(0,Lt.jsxs)("div",{className:"problem-meta",children:[(0,Lt.jsx)("span",{className:"badge category",children:e.category}),(0,Lt.jsx)("span",{className:"badge difficulty ".concat(e.difficulty.toLowerCase()),children:e.difficulty})]}),(0,Lt.jsx)("p",{children:e.question}),e.image_url&&(0,Lt.jsx)("div",{className:"problem-image",children:(0,Lt.jsx)("img",{src:"/BiochemReact/"+e.image_url,alt:"".concat(e.title," diagram")})}),"multiple_choice"===e.type&&(0,Lt.jsx)("div",{className:"choices",children:e.choices.map(t=>{const n=a[e.id]===t.label,i=t.label===e.correct_choice;return(0,Lt.jsxs)("button",{className:"choiceButton\n                  ".concat(n&&i?"correct":"","\n                  ").concat(n&&!i?"incorrect":"","\n                "),onClick:()=>{return n=e.id,i=t.label,r=e.correct_choice,o(e=>c(c({},e),{},{[n]:i})),void(i!==r||h[n]||g(n));var n,i,r},children:[(0,Lt.jsxs)("strong",{children:[t.label,"."]})," ",t.text]},t.label)})}),(0,Lt.jsx)("button",{className:"hintButton",onClick:()=>f(e.id,"hint"),children:(0,Lt.jsxs)("span",{children:[null!==(n=t[e.id])&&void 0!==n&&n.hint?"Hide Hint":"Reveal Hint",(0,Lt.jsx)("i",{className:"fa-solid ".concat(null!==(i=t[e.id])&&void 0!==i&&i.hint?"fa-eye-slash":"fa-lightbulb")})]})}),(null===(r=t[e.id])||void 0===r?void 0:r.hint)&&(0,Lt.jsxs)("div",{className:"hint",children:[(0,Lt.jsx)("strong",{children:"Hint:"})," ",e.hint]}),(0,Lt.jsx)("button",{className:"solutionButton",onClick:()=>f(e.id,"solution"),children:(0,Lt.jsxs)("span",{children:[null!==(s=t[e.id])&&void 0!==s&&s.solution?"Hide Solution":"Reveal Solution",(0,Lt.jsx)("i",{className:"fa-solid ".concat(null!==(l=t[e.id])&&void 0!==l&&l.solution?"fa-eye-slash":"fa-circle-check")})]})}),(0,Lt.jsx)("button",{type:"button",className:"completeButton ".concat(h[e.id]?"done":""),onClick:()=>g(e.id),children:(0,Lt.jsxs)("span",{children:[(0,Lt.jsx)("i",{className:"fa-solid ".concat(h[e.id]?"fa-check-circle":"fa-circle")}),h[e.id]?"Completed":"Mark as Complete"]})}),(null===(u=t[e.id])||void 0===u?void 0:u.solution)&&(0,Lt.jsx)("div",{className:"solution",children:"multiple_choice"===e.type?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("strong",{children:"Correct Answer:"})," ",e.correct_choice,(0,Lt.jsx)("br",{}),(0,Lt.jsx)("strong",{children:"Explanation:"})," ",e.solution]}):(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("strong",{children:"Answer:"})," ",e.answer,(0,Lt.jsx)("br",{}),(0,Lt.jsx)("strong",{children:"Explanation:"})," ",e.solution]})})]},e.id)})]})},Vt=JSON.parse('{"S":[{"sectionId":"genchem","sectionTitle":"General Chemistry","items":[{"id":"hh-equation","title":"Henderson\u2013Hasselbalch Equation","description":"Relates pH, pKa and the conjugate base/acid ratio for buffers.","keyPoints":["pH = pKa + log([A\u207b]/[HA])","Used to design and analyze buffers"]},{"id":"gibbs-free-energy","title":"Gibbs Free Energy","description":"Predicts reaction spontaneity and links to equilibrium.","keyPoints":["\u0394G = \u0394H \u2212 T\u0394S","\u0394G\xb0 = \u2212RT ln(Keq)"]},{"id":"electronegativity-trends","title":"Electronegativity & Periodic Trends","description":"Trends that determine bonding and reactivity across the periodic table.","keyPoints":["F > O > N > C","Electronegativity & IE increase left\u2192right; atomic radius decreases left\u2192right"]},{"id":"equilibrium-constant","title":"Equilibrium Constant","description":"Relationship of product and reactant concentrations at equilibrium.","keyPoints":["K_eq = [products]/[reactants]","Relates to \u0394G\xb0 and reaction position"]},{"id":"atomic-structure","title":"Atomic Structure & Periodic Trends","description":"Electron configurations and the properties they drive.","keyPoints":["Aufbau principle","Valence electrons determine reactivity"]},{"id":"acid-base-chemistry","title":"Acid\u2013Base Chemistry","description":"pH, pKa, buffers and titration essentials for biological systems.","keyPoints":["pH = \u2212log[H\u207a]","Buffers = weak acid + conjugate base","Titration curves & equivalence point"]},{"id":"redox-reactions","title":"Redox Reactions","description":"Electron transfer processes and their role in metabolism.","keyPoints":["Oxidation = loss of electrons","Reduction = gain of electrons","Redox couples and standard reduction potentials"]},{"id":"stoichiometry","title":"Stoichiometry & Limiting Reagents","description":"Quantitative relationships in chemical reactions for yield calculations.","keyPoints":["Mole ratios from balanced equations","Identify limiting reagent to calculate theoretical yield"]},{"id":"gas-laws","title":"Gas Laws","description":"Relationships between pressure, volume, temperature and moles of gas.","keyPoints":["PV = nRT","Combined gas law for changing conditions","Partial pressures & Dalton\'s law"]},{"id":"solutions","title":"Solutions & Concentrations","description":"Calculating molarity, molality and preparing solutions.","keyPoints":["Molarity = moles/L","Molality = moles/kg solvent","Dilution calculations M1V1 = M2V2"]},{"id":"thermochemistry","title":"Thermochemistry","description":"Enthalpy, entropy and their role in reaction energetics.","keyPoints":["\u0394H = heat change at constant pressure","\u0394S = change in disorder","Exothermic vs endothermic reactions"]}]},{"sectionId":"ochem","sectionTitle":"Organic Chemistry","items":[{"id":"functional-groups","title":"Functional Groups & Reactivity","description":"Key functional groups and their chemical behavior.","keyPoints":["Alcohols, amines, carboxylic acids","Nucleophiles vs electrophiles","Reactivity trends (e.g., acidity, basicity)"]},{"id":"stereochemistry","title":"Stereochemistry","description":"Chirality, enantiomers, diastereomers and their biological implications.","keyPoints":["Chiral centers and R/S configuration","Enantiomer vs diastereomer","Stereochemistry\'s role in drug activity"]},{"id":"reaction-mechanisms","title":"Reaction Mechanisms","description":"Common organic reaction types and their stepwise mechanisms.","keyPoints":["SN1 vs SN2","E1 vs E2","Addition, elimination, substitution reactions"]},{"id":"aromaticity","title":"Aromaticity & H\xfcckel\'s Rule","description":"Aromatic compounds and their stability and reactivity.","keyPoints":["4n+2 \u03c0 electrons","Benzene and aromatic stability","Aromatic vs antiaromatic compounds"]}]},{"sectionId":"biochem1","sectionTitle":"Biochemistry I","items":[{"id":"glycolysis","title":"Glycolysis","description":"10-step pathway converting glucose to pyruvate with ATP and NADH generation.","keyPoints":["10 enzymes, 2 ATP net, 2 NADH","Hexokinase & PFK key regulatory steps","Pyruvate fate: TCA, lactate, or gluconeogenesis"]},{"id":"tca-cycle","title":"Citric Acid Cycle (TCA)","description":"Central metabolic hub oxidizing acetyl-CoA and generating reducing equivalents.","keyPoints":["8 enzymes, acetyl-CoA entry","3 NADH, 1 FADH2, 1 GTP per cycle","Isocitrate & \u03b1-ketoglutarate regulat regulatory steps"]},{"id":"michaelis-menten","title":"Michaelis\u2013Menten Kinetics","description":"Enzyme kinetics model linking reaction rate to substrate concentration.","keyPoints":["v = Vmax[S]/(Km + [S])","Km relates to enzyme-substrate affinity","Km = (k-1 + k2)/k1"]},{"id":"electron-transport","title":"Electron Transport Chain & Oxidative Phosphorylation","description":"Electron transfer through complexes I\u2013IV and ATP synthesis.","keyPoints":["Complexes I\u2013IV pumping H\u207a","ATP synthase uses \u0394\u03a8 & \u0394pH","P/O ratio ~2.5 for NADH, ~1.5 for FADH2"]},{"id":"metabolic-regulation","title":"Metabolic Regulation & Allosteric Control","description":"Feedback inhibition and allosteric enzyme modulation.","keyPoints":["Allosteric sites remote from active site","Positive vs negative regulators","AMP/ATP ratios signal energy status"]}]},{"sectionId":"biochem2","sectionTitle":"Biochemistry II","items":[{"id":"signal-transduction","title":"Signal Transduction Pathways","description":"Cell communication via receptors, kinase cascades and second messengers.","keyPoints":["GPCRs & RTKs","Second messengers (cAMP, Ca\xb2\u207a, IP3)","MAPK, PI3K pathways & their effects"]},{"id":"protein-synthesis","title":"Translation & Protein Synthesis","description":"mRNA \u2192 protein: codons, tRNA, ribosome and post-translational modifications.","keyPoints":["64 codons (61 aa + 3 stop)","Initiation at AUG","Aminoacyl-tRNA synthetases & Post-translational modifications"]},{"id":"protein-folding","title":"Protein Folding & Chaperones","description":"Thermodynamic and kinetic aspects of protein structure formation.","keyPoints":["Hydrophobic core & hydrogen bonding","Chaperone proteins (HSP70, GroEL)","Misfolding and aggregation diseases"]},{"id":"gene-regulation","title":"Gene Regulation","description":"Transcriptional and translational control of gene expression.","keyPoints":["Promoters, enhancers, silencers","Transcription factors & chromatin remodeling","Operons (lac, trp) & inducible/repressible genes"]}]},{"sectionId":"biochem-lab","sectionTitle":"Biochemistry Lab","items":[{"id":"protein-purification","title":"Protein Purification & Analysis","description":"Techniques to isolate and characterize proteins from cells.","keyPoints":["Cell lysis & chromatin removal","Gel filtration (size exclusion)","Ion exchange & electrofocusing"]},{"id":"enzyme-assays","title":"Enzyme Assays & Kinetics","description":"Measuring enzyme activity and determining kinetic parameters.","keyPoints":["Spectrophotometric assays","Km & Vmax determination","Inhibition assays (competitive vs non-competitive)"]},{"id":"gel-electrophoresis","title":"SDS-PAGE & Gel Electrophoresis","description":"Separating proteins by size and analyzing protein composition.","keyPoints":["Denaturing vs native gels","Molecular weight standards","Staining (Coomassie, silver) & visualization"]},{"id":"nucleic-acid-tech","title":"DNA/RNA Techniques (PCR, qPCR, Sequencing)","description":"Amplifying, quantifying and sequencing nucleic acids.","keyPoints":["PCR cycles: denaturation, annealing, extension","Real-time qPCR for quantification","Sanger vs NGS methods"]}]},{"sectionId":"molbio","sectionTitle":"Molecular Biology","items":[{"id":"dna-structure","title":"DNA & RNA Structure","description":"Double helix, base pairing, and structural variations.","keyPoints":["Watson-Crick base pairing (A-T, G-C)","Major & minor grooves","RNA secondary structure & stability"]},{"id":"dna-replication","title":"DNA Replication","description":"Semi-conservative replication machinery and fidelity.","keyPoints":["DNA Pol III holoenzyme (E. coli)","Leading vs lagging strand","Priming, Okazaki fragments"]},{"id":"transcription","title":"Transcription","description":"DNA \u2192 RNA: promoters, polymerase, capping and splicing.","keyPoints":["RNA Pol II in eukaryotes, Pol I/III roles","Promoters & enhancers","5\u2032 cap, polyadenylation, splicing"]},{"id":"recombinant-dna","title":"Recombinant DNA Technology","description":"Restriction enzymes, cloning and genetic manipulation.","keyPoints":["Restriction sites & sticky/blunt ends","Plasmid vectors & antibiotic selection","Blue-white screening"]},{"id":"crispr","title":"CRISPR & Genome Editing","description":"Modern gene editing with Cas9 and related endonucleases.","keyPoints":["gRNA design","On-target vs off-target effects","Prime editing & base editing variations"]}]},{"sectionId":"genbio","sectionTitle":"General Biology","items":[{"id":"cell-structure","title":"Cell Structure & Function","description":"Organelles, membranes and compartmentalization in eukaryotes.","keyPoints":["Nucleus, mitochondria, ER, Golgi","Membrane composition & fluidity","Cell cycle checkpoints"]},{"id":"bioenergetics","title":"Bioenergetics & Membranes","description":"Energy flow and membrane biology in living systems.","keyPoints":["ATP as energy currency","Proton gradients & chemiosmosis","Lipid bilayer & membrane proteins"]}]},{"sectionId":"microbio","sectionTitle":"Microbiology","items":[{"id":"bacterial-structure","title":"Bacterial Structure & Physiology","description":"Cell wall, pili, flagella, plasmids and metabolic modes.","keyPoints":["Peptidoglycan & Gram stain","Plasmids & conjugation","Aerobic vs anaerobic metabolism"]},{"id":"viral-replication","title":"Viruses & Replication Cycles","description":"Viral structure, entry, replication and lysis strategies.","keyPoints":["Capsid/envelope composition","Lytic vs lysogenic cycles","Reverse transcriptase in retroviruses"]},{"id":"antibiotic-resistance","title":"Antibiotics & Resistance Mechanisms","description":"Mechanisms of action and bacterial resistance strategies.","keyPoints":["Cell wall synthesis inhibitors (\u03b2-lactams)","Protein synthesis inhibitors","Enzymatic inactivation, efflux, target modification"]}]},{"sectionId":"physical","sectionTitle":"Physical Chemistry","items":[{"id":"quantum-basics","title":"Quantum Chemistry Basics","description":"Schr\xf6dinger equation and orbital concepts for molecular structure.","keyPoints":["Wave functions & probability densities","Atomic & molecular orbitals (HOMO/LUMO)","Hybridization sp, sp2, sp3"]},{"id":"thermo-advanced","title":"Advanced Thermodynamics","description":"Phase diagrams, activity coefficients, and chemical potential.","keyPoints":["Clausius-Clapeyron equation","Activity vs concentration","Gibbs free energy & phase equilibria"]},{"id":"kinetics-rate","title":"Chemical Kinetics & Rate Laws","description":"Reaction mechanisms, rate constants and temperature dependence.","keyPoints":["Arrhenius equation","Activation energy & transition state","Elementary steps & rate-determining step"]}]},{"sectionId":"physics","sectionTitle":"Physics Essentials","items":[{"id":"classical-mechanics","title":"Classical Mechanics","description":"Motion, forces and conservation laws needed for problem solving.","keyPoints":["Newton\'s laws","Conservation of energy & momentum","Rotational dynamics","Simple harmonic motion"]},{"id":"waves-oscillations","title":"Waves & Oscillations","description":"Wave behavior and basic modal analysis.","keyPoints":["Wave equation","v = f\u03bb","Interference & standing waves"]},{"id":"thermal-physics","title":"Thermal Physics / Thermodynamics","description":"Laws of thermodynamics, heat transfer and state functions.","keyPoints":["First and Second Laws","Entropy & enthalpy","Isothermal/adiabatic processes"]},{"id":"circuits","title":"Circuits","description":"Basic circuit analysis and component behavior.","keyPoints":["Ohm\'s law V = IR","Series/parallel rules","Kirchhoff\'s laws","Capacitors & inductors behavior"]},{"id":"diagrams","title":"Diagrams (Free-body / Energy / Circuit)","description":"Visual tools essential for solving physics problems.","keyPoints":["Free-body diagrams","Energy diagrams","Circuit schematics","Graph interpretation"]},{"id":"lenses","title":"Lenses","description":"Optics basics and lens equation for image formation.","keyPoints":["1/f = 1/do + 1/di","Magnification M = \u2212di/do","Ray diagram construction"]},{"id":"fluids","title":"Fluids","description":"Fluid statics and dynamics principles for biological contexts.","keyPoints":["Density \u03c1 = m/V","Pressure P = F/A","Buoyancy & Archimedes\' principle","Continuity equation & Bernoulli\'s principle"]},{"id":"electricity-magnetism","title":"Electricity & Magnetism","description":"Electrostatics, circuits and magnetic fields relevant to biophysics.","keyPoints":["Coulomb\'s law","Electric field E = F/q","Magnetic force F = qvB","Biological applications (e.g., nerve impulses)"]},{"id":"modern-physics","title":"Modern Physics","description":"Quantum mechanics and relativity basics for understanding atomic and subatomic phenomena.","keyPoints":["Photoelectric effect & quantization","Heisenberg uncertainty principle","Special relativity time dilation & length contraction"]},{"id":"statics-dynamics","title":"Statics & Dynamics","description":"Equilibrium conditions and motion analysis for biological systems.","keyPoints":["Static equilibrium (\u03a3F = 0)","Dynamic motion equations","Torque and rotational equilibrium"]}]},{"sectionId":"stats","sectionTitle":"Statistics (Biochemical Data Analysis)","items":[{"id":"distributions","title":"Distributions","description":"Choose and interpret probability distributions for experimental data.","keyPoints":["Normal, Binomial, Poisson","Check assumptions before tests","Central Limit Theorem"]},{"id":"descriptive-statistics","title":"Descriptive Statistics","description":"Summarize biological data and communicate variability.","keyPoints":["Mean, median","SD vs SEM","Report n and units; plot individual points"]},{"id":"biol-vs-tech-replicates","title":"Biological vs Technical Replicates","description":"Designing replicates correctly to separate true biological variation from measurement error.","keyPoints":["Stat tests on biological replicates","Technical replicates assess instrument error"]},{"id":"hypothesis-testing","title":"Hypothesis Testing","description":"Framework to decide if observed differences are likely real.","keyPoints":["Null (H0) vs Alternative (H1)","p-value interpretation","\u03b1 commonly 0.05"]},{"id":"t-anova","title":"t-Tests & ANOVA","description":"Comparing means between two or more groups with appropriate assumptions.","keyPoints":["Unpaired vs paired t-tests","ANOVA for 3+ groups","Post-hoc tests when ANOVA significant"]},{"id":"regression-kinetics","title":"Regression & Enzyme Kinetics","description":"Curve fitting for calibration and nonlinear kinetics (Michaelis\u2013Menten).","keyPoints":["Linear regression for calibration","Use nonlinear regression for MM","Report R\xb2 and inspect residuals"]},{"id":"error-analysis","title":"Error Analysis & Confidence Intervals","description":"Quantify uncertainty and combine errors through calculations.","keyPoints":["Random vs systematic error","Error propagation","Report confidence intervals"]},{"id":"sampling-power","title":"Sampling & Power","description":"Plan sample sizes to detect effects reliably.","keyPoints":["Power analysis","Effect size and sample size tradeoffs"]}]},{"sectionId":"calculus","sectionTitle":"Calculus","items":[{"id":"derivatives","title":"Derivatives","description":"Rates of change and slopes of functions for modeling biological processes.","keyPoints":["Definition of derivative","Common derivatives (polynomial, exponential, logarithmic)","Chain rule for composite functions"]},{"id":"integrals","title":"Integrals","description":"Area under curves and accumulation functions in biology.","keyPoints":["Definite vs indefinite integrals","Common integrals","Integration by parts and substitution"]},{"id":"differential-equations","title":"Differential Equations","description":"Modeling dynamic systems like population growth or enzyme kinetics.","keyPoints":["First-order linear ODEs","Separable equations","Exponential growth/decay solutions"]},{"id":"multivariable-calculus","title":"Multivariable Calculus","description":"Functions of multiple variables and partial derivatives for complex biological systems.","keyPoints":["Partial derivatives","Gradient vectors","Multiple integrals for volume and probability"]},{"id":"limits","title":"Limits","description":"Understanding behavior of functions as inputs approach specific values, important for continuity and defining derivatives.","keyPoints":["Limit definition","Evaluating limits (direct substitution, factoring, rationalizing)","Limits at infinity and asymptotic behavior"]}]},{"sectionId":"genchemlab","sectionTitle":"General Chemistry Lab","items":[{"id":"titration","title":"Titration","description":"Methods and calculations for acid\u2013base and redox titrations.","keyPoints":["M1V1 = M2V2","Choose appropriate indicator","End point vs equivalence point"]},{"id":"spectroscopy","title":"Spectroscopy (IR, NMR, UV-Vis)","description":"Techniques for molecular identification and quantification.","keyPoints":["IR for functional groups","NMR for structure","Beer-Lambert law A = \u03b5bc"]},{"id":"dilutions","title":"Dilutions & Molarity","description":"Accurate concentration preparation for lab work.","keyPoints":["Dilution formula","Serial dilution practice","Units and reporting"]}]},{"sectionId":"ochem-lab","sectionTitle":"Organic Chemistry Lab","items":[{"id":"extraction","title":"Extraction & Purification","description":"Techniques for isolating and purifying organic compounds.","keyPoints":["Liquid-liquid extraction","Chromatography basics","Recrystallization principles"]},{"id":"synthesis","title":"Synthesis & Retrosynthesis","description":"Planning and executing multi-step organic syntheses.","keyPoints":["Retrosynthetic analysis","Protecting groups","Common reagents and conditions"]},{"id":"green-chemistry","title":"Green Chemistry Principles","description":"Sustainable practices in organic synthesis and lab work.","keyPoints":["Atom economy","Use of safer solvents/reagents","Energy-efficient reactions"]}]},{"sectionId":"analytical","sectionTitle":"Analytical Chemistry","items":[{"id":"calibration-curves","title":"Calibration & Standard Curves","description":"Preparing and using standard curves for quantification.","keyPoints":["Linear regression analysis","Check linearity and fit (R\xb2)","Limits of detection & quantification"]},{"id":"chromatography-methods","title":"Chromatography (HPLC, GC)","description":"Separation techniques for compound analysis.","keyPoints":["Mobile vs stationary phase","Retention time and selectivity","Integration and peak area quantitation"]},{"id":"mass-spectrometry","title":"Mass Spectrometry","description":"Ionization, separation and detection of molecular masses.","keyPoints":["EI vs ESI ionization","m/z ratios & isotope patterns","Fragmentation patterns for identification"]},{"id":"error-propagation","title":"Error Propagation & Detection Limits","description":"Quantifying measurement uncertainty and instrumental limits.","keyPoints":["LOD = 3\u03c3/slope","LOQ = 10\u03c3/slope","Propagation of uncertainty in calculations"]}]},{"sectionId":"inorganic","sectionTitle":"Inorganic Chemistry","items":[{"id":"coordination-compounds","title":"Coordination Compounds & Complexes","description":"Ligand types, coordination geometry and stereoisomerism.","keyPoints":["Monodentate vs polydentate ligands","Coordination numbers 4 & 6","Geometric and optical isomers"]},{"id":"crystal-field-theory","title":"Crystal Field Theory","description":"Splitting of d orbitals and color in transition metal complexes.","keyPoints":["d-orbital splitting in octahedral/tetrahedral fields","High vs low spin complexes","Color from d-d transitions"]},{"id":"transition-metals","title":"Transition Metals & Variable Oxidation States","description":"Properties and reactivity of transition elements.","keyPoints":["Variable oxidation states","Catalytic activity","Colored complexes and magnetism"]},{"id":"organometallic-catalysis","title":"Organometallics & Catalysis","description":"Metal-carbon bonds and their role in catalysis.","keyPoints":["Metal-ligand bonding","Common catalytic cycles","Green chemistry applications"]}]},{"sectionId":"calculus","sectionTitle":"Calculus for Chemists","items":[{"id":"derivatives-applications","title":"Derivatives & Rates of Change","description":"Using derivatives to model reaction rates and optimization.","keyPoints":["Power rule, product rule, chain rule","Second derivatives for concavity","Critical points & maxima/minima"]},{"id":"integrals-accumulation","title":"Integrals & Accumulation","description":"Integration for area under curves and cumulative effects.","keyPoints":["Indefinite vs definite integrals","Integration by parts and substitution","Fundamental theorem of calculus"]},{"id":"differential-equations","title":"Differential Equations","description":"Modeling dynamic systems: population growth, kinetics, diffusion.","keyPoints":["Separable ODEs","Linear first-order ODEs","Exponential solutions for growth/decay"]},{"id":"partial-derivatives","title":"Partial Derivatives & Multivariable Functions","description":"Calculus for functions of multiple variables.","keyPoints":["Partial derivatives and mixed partials","Gradient vectors","Thermodynamic applications (\u2202H/\u2202T, etc.)"]}]},{"sectionId":"genchemlab","sectionTitle":"General Chemistry Lab","items":[{"id":"acid-base-titration","title":"Acid\u2013Base Titration","description":"Quantitative analysis using endpoint determination.","keyPoints":["M1V1 = M2V2 dilution formula","Equivalence point vs endpoint","Choice of indicator based on pH range"]},{"id":"spectroscopic-analysis","title":"Spectroscopy (IR, NMR, UV-Vis)","description":"Molecular structure elucidation and quantification.","keyPoints":["IR for functional group identification","NMR for structure (1H, 13C)","UV-Vis and Beer-Lambert law (A = \u03b5bc)"]},{"id":"solution-preparation","title":"Solutions & Dilutions","description":"Making and diluting solutions of precise concentration.","keyPoints":["Molarity, molality, ppm units","Serial dilutions","Using volumetric glassware correctly"]},{"id":"lab-safety","title":"Lab Safety & Data Recording","description":"Essential practices for safe and reproducible work.","keyPoints":["PPE and chemical handling","MSDS sheets","Proper lab notebook documentation & significant figures"]}]},{"sectionId":"bioinformatics","sectionTitle":"Bioinformatics","items":[{"id":"blast-seq-alignment","title":"BLAST & Sequence Alignment","description":"Finding similar sequences in databases and understanding homology searches.","keyPoints":["BLAST (Basic Local Alignment Search Tool)","E-values for statistical significance","Sequence identity and similarity scores"]},{"id":"molecular-databases","title":"Molecular Databases","description":"Key resources for accessing sequence and structure data.","keyPoints":["GenBank for DNA sequences","UniProt for protein sequences and annotations","PDB for 3D protein structures"]},{"id":"msa-phylogenetics","title":"Multiple Sequence Alignment & Phylogenetics","description":"Comparing multiple sequences and inferring evolutionary relationships.","keyPoints":["MSA algorithms (Clustal, MUSCLE, MAFFT)","Phylogenetic trees and evolutionary distance","Building and interpreting dendrograms"]},{"id":"protein-structure-pred","title":"Protein Structure Prediction","description":"Predicting 3D fold from amino acid sequence using computational methods.","keyPoints":["AlphaFold and deep learning approaches","Secondary structure prediction","Validating predictions with experimental data"]}]},{"sectionId":"genetics","sectionTitle":"Genetics","items":[{"id":"dna-structure-rep","title":"DNA Structure & Replication","description":"DNA double helix and semi-conservative replication mechanisms.","keyPoints":["Watson-Crick base pairing (A-T, G-C)","DNA polymerases and replication fork","Priming and Okazaki fragments"]},{"id":"tx-translation-genetics","title":"Transcription & Translation","description":"From DNA to mRNA to protein: the central dogma of molecular biology.","keyPoints":["RNA polymerase and transcription factors","Genetic code and translation machinery (ribosomes, tRNA)","Post-translational modifications"]},{"id":"molecular-techniques","title":"Molecular Techniques (PCR, Sequencing, Cloning)","description":"Essential lab methods for manipulating and analyzing DNA.","keyPoints":["PCR: denaturation, annealing, extension cycles","Sanger & NGS sequencing methods","Cloning vectors and transformation"]},{"id":"epigenetics","title":"Epigenetics","description":"Heritable changes in gene expression without DNA sequence changes.","keyPoints":["DNA methylation and histone modifications","Chromatin remodeling and gene silencing","Environmental effects on epigenome"]}]},{"sectionId":"metabolic-cycles","sectionTitle":"Metabolic Cycles","items":[{"id":"glycolysis","title":"Glycolysis","description":"10-step pathway converting glucose \u2192 pyruvate; central entry point to carbohydrate metabolism.","keyPoints":["Net 2 ATP, 2 NADH per glucose (anaerobic \u2192 lactate regenerates NAD\u207a)","Key regulatory enzymes: hexokinase/glucokinase, PFK-1 (major control), pyruvate kinase","Important branch points: G6P \u2192 PPP, F6P \u2194 F2,6BP regulation"]},{"id":"pdh","title":"Pyruvate Dehydrogenase (PDH) Complex","description":"Links glycolysis to the TCA by converting pyruvate \u2192 acetyl-CoA; a major control point.","keyPoints":["Cofactors: TPP, lipoate, FAD, NAD\u207a, CoA (TLC FN)","Inhibited by high ATP, NADH, acetyl-CoA; activated by ADP, Ca\xb2\u207a (tissue-specific)","Block \u2192 pyruvate\u2192lactate buildup (lactic acidosis) and reduced TCA flux"]},{"id":"tca-cycle","title":"Citric Acid Cycle (TCA / Krebs)","description":"Oxidizes acetyl-CoA to CO\u2082 while producing reducing equivalents for the ETC.","keyPoints":["Per acetyl-CoA: 3 NADH, 1 FADH\u2082, 1 GTP (or ATP)","Regulatory enzymes: citrate synthase, isocitrate dehydrogenase, \u03b1-ketoglutarate dehydrogenase","Anaplerotic reactions (e.g., pyruvate \u2192 oxaloacetate) maintain intermediate pools"]},{"id":"electron-transport-chain","title":"ETC & Oxidative Phosphorylation","description":"Complexes I\u2013IV transfer electrons, pump protons, and drive ATP synthesis via ATP synthase.","keyPoints":["Complexes I\u2013IV & ATP synthase: proton motive force (\u0394\u03c8 + \u0394pH) drives ATP production","Approximate P/O: ~2.5 ATP/NADH, ~1.5 ATP/FADH\u2082 (use for rough energy accounting)","Uncouplers collapse gradient \u2192 heat; inhibitors block electron flow (clinical/toxicology relevance)"]},{"id":"gluconeogenesis","title":"Gluconeogenesis","description":"Pathway creating glucose from non-carbohydrate precursors; circumvents irreversible glycolysis steps.","keyPoints":["Key bypass enzymes: pyruvate carboxylase, PEP carboxykinase, fructose-1,6-bisphosphatase, glucose-6-phosphatase","Reciprocal regulation with glycolysis (F2,6BP central regulator)","Major substrates: lactate, alanine, glycerol, TCA intermediates"]},{"id":"glycogen-metabolism","title":"Glycogen Synthesis & Breakdown","description":"Storage and rapid mobilization of glucose; hormonally controlled.","keyPoints":["Glycogen synthase = synthesis (activated by insulin); glycogen phosphorylase = breakdown (activated by glucagon/epinephrine)","Branching enzyme and debranching enzyme are essential for structure and mobilization","Clinical ties: glycogen storage diseases alter blood glucose and muscle energy"]},{"id":"ppp","title":"Pentose Phosphate Pathway (PPP)","description":"Generates NADPH for biosynthesis/antioxidant defense and ribose-5-phosphate for nucleotide synthesis.","keyPoints":["Rate-limiting enzyme: G6PD (clinical relevance: G6PD deficiency \u2192 hemolysis)","NADPH used for fatty acid synthesis, glutathione reduction, detoxification","Non-oxidative branch provides ribose or feeds back into glycolysis"]},{"id":"fatty-acid-metabolism","title":"Fatty Acid Oxidation & Synthesis","description":"\u03b2-oxidation (mitochondria) catabolizes fatty acids to acetyl-CoA; synthesis (cytosol) builds fatty acids from acetyl-CoA.","keyPoints":["\u03b2-oxidation uses carnitine shuttle for long-chain FA entry into mitochondria","Products: acetyl-CoA, NADH, FADH\u2082 (feed into TCA/ETC)","ACC (acetyl-CoA carboxylase) is rate-limiting for FA synthesis; regulated by citrate, AMPK, insulin"]},{"id":"ketogenesis","title":"Ketogenesis","description":"Liver generates ketone bodies from acetyl-CoA during prolonged fasting or low insulin states.","keyPoints":["Primary ketones: acetoacetate, \u03b2-hydroxybutyrate (transportable fuels for brain/heart)","Occurs when acetyl-CoA accumulates and TCA capacity is limited (low OAA)","Clinical: diabetic ketoacidosis \u2014 high ketones + metabolic acidosis"]},{"id":"urea-cycle","title":"Urea Cycle & Nitrogen Disposal","description":"Removes excess nitrogen by converting ammonia \u2192 urea (primarily in liver).","keyPoints":["Key enzymes: carbamoyl phosphate synthetase I (CPS I), ornithine transcarbamylase","Interconnects with TCA via fumarate; defects cause hyperammonemia","Clinically relevant: urea cycle disorders present with neurologic symptoms from ammonia toxicity"]}]},{"sectionId":"mcat-prep","sectionTitle":"MCAT Prep \u2014 High-Yield Metabolism Concepts & Strategy","items":[{"id":"regulation-signaling","title":"Regulation & Hormonal Control","description":"How hormones and allosteric signals shift metabolic flux: insulin vs glucagon/epinephrine, energy charge signaling.","keyPoints":["Insulin generally promotes storage (glycogen, FA synthesis); glucagon/epinephrine promote mobilization (glycogenolysis, gluconeogenesis, lipolysis)","Allosteric regulators: ATP/AMP, citrate, F2,6BP; Ca\xb2\u207a activates PDH/kinases in muscle","Exam focus: predict directional change when a regulator or hormone changes"]},{"id":"compartmentalization","title":"Cellular Compartments & Pathway Locations","description":"Where pathways occur matters: cytosol vs mitochondria vs peroxisome vs ER.","keyPoints":["Glycolysis & PPP: cytosol; TCA & \u03b2-oxidation: mitochondria; FA synthesis: cytosol/ER; peroxisomes: very-long chain FA oxidation","Shuttles (e.g., malate\u2013aspartate, glycerol-3-phosphate) move reducing equivalents across membranes","MCAT likes questions linking location to mechanism or pathology"]},{"id":"energy-redox","title":"Energy Accounting & Redox Roles","description":"Practical ATP estimation and roles of NADH vs NADPH in catabolism vs anabolism/antioxidant defense.","keyPoints":["Be able to approximate ATP yield from glucose (glycolysis + PDH + TCA + ETC)","NADH \u2192 ATP via ETC; NADPH used for biosynthesis and glutathione regeneration","Recognize oxidized vs reduced forms and consequences of redox imbalance"]},{"id":"pathway-integration","title":"Pathway Integration & Physiologic States","description":"How metabolism shifts during fed, fasting, exercise, and starvation states.","keyPoints":["Fed: insulin \u2191 \u2192 glycolysis, glycogen & FA synthesis; Fasting: glucagon \u2191 \u2192 gluconeogenesis, glycogenolysis, ketogenesis","Exercise: muscle increases glycolysis, PDH activation via Ca\xb2\u207a/AMP","Practice mapping flux changes for given hormonal or substrate changes"]},{"id":"clinical-links","title":"Clinical & Deficiency Implications","description":"Common metabolic defects and their biochemical consequences (high-yield for MCAT).","keyPoints":["Examples: PDH deficiency \u2192 lactic acidosis; G6PD deficiency \u2192 hemolysis with oxidative stress","Glycogen storage diseases cause hypoglycemia or myopathy depending on enzyme/location","MCAT may ask mechanistic reasons for clinical phenotypes"]},{"id":"experimental-reasoning","title":"Graphs, Experiments & Kinetics","description":"How to read rate curves, enzyme kinetics, and interpret experimental manipulations.","keyPoints":["Be comfortable with Michaelis\u2013Menten basics and how Vmax/Km change with inhibitors","Interpreting metabolic flux from labeling experiments or enzyme activity assays is common","Practice passage-style questions that require data interpretation"]},{"id":"acid-base-ties","title":"Acid\u2013Base & Buffering Relevance","description":"Metabolism affects blood pH (e.g., lactic acid, ketoacids); know buffer systems and clinical consequences.","keyPoints":["Lactic acidosis from anaerobic glycolysis/exercise or PDH block","Ketone production in prolonged fasting or uncontrolled diabetes \u2192 metabolic acidosis","MCAT may couple metabolic flux to pH changes and physiological compensation"]},{"id":"mnemonics-study-actions","title":"Mnemonics & High-Yield Study Actions","description":"Concise study tactics and memory aids to prepare efficiently.","keyPoints":["Mnemonics: \'Citrate Is Kreb\u2019s Starting Substrate For Making Oxaloacetate\' for TCA order; \'TLC FN\' for PDH cofactors","Study actions: draw cycles from memory, active recall flashcards (enzymes/locations/regulators), timed passage practice","Practice ~6\u20138 AAMC-style passages weekly and make a one-page cheat sheet of net yields & regulation"]}]},{"sectionId":"cell-biology","sectionTitle":"Cell Biology","items":[{"id":"membrane-composition","title":"Membrane Composition & Fluidity","description":"Phospholipid bilayer architecture, amphipathic lipids, membrane proteins (integral vs peripheral), and factors controlling fluidity (cholesterol, temperature, fatty-acid saturation).","priority":true},{"id":"membrane-transport-concepts","title":"Transport Mechanisms & Energetics","description":"Distinguish passive diffusion, facilitated diffusion, primary and secondary active transport; understand ATP-coupled pumps and electrochemical gradients as energy stores.","priority":true},{"id":"cytoskeleton-functions","title":"Cytoskeleton & Intracellular Transport","description":"Roles of actin, microtubules and intermediate filaments; motor proteins (kinesin, dynein, myosin) and their roles in trafficking and cell motility.","priority":false},{"id":"organelle-functions","title":"Organelle Specialization","description":"Functional roles and key biochemistry of nucleus, mitochondria, ER, Golgi, lysosomes, and peroxisomes; compartmentation as a driver of metabolic control.","priority":true},{"id":"cell-cycle-checkpoints","title":"Cell Cycle Control & Checkpoints","description":"Cyclin/CDK regulation, G1/S and G2/M checkpoints, DNA damage response (p53/Rb), and links between cell-cycle failure and disease.","priority":true}]},{"sectionId":"cell-physiology","sectionTitle":"Cell Physiology \u2014 Critical Concepts","items":[{"id":"nernst-goldman","title":"Nernst & Goldman Principles","description":"Quantitative description of membrane potentials: Nernst equation for single ions and Goldman equation for multi-ion permeabilities; intuition for how ion gradients set resting potential.","priority":true},{"id":"ion-channel-mechanisms","title":"Ion Channel Types & Gating","description":"Differences between voltage-gated, ligand-gated and mechanosensitive channels; gating kinetics and impact on excitability and signal propagation.","priority":true},{"id":"osmosis-tonicity-practice","title":"Osmosis, Tonicity & Cell Volume","description":"Predict volume/shape changes in hypo-, iso-, and hypertonic environments; use osmotic pressure approximations where needed.","priority":false},{"id":"signal-transduction-core","title":"Signal Transduction & Second Messengers","description":"GPCR vs RTK signaling, common second messengers (cAMP, IP3/DAG, Ca2+), amplification cascades, and termination mechanisms.","priority":true},{"id":"calcium-role","title":"Calcium as a Universal Messenger","description":"Sources of intracellular Ca2+ (ER, extracellular), Ca2+-binding proteins, and common cellular outcomes (contraction, secretion, enzyme activation).","priority":false}]},{"sectionId":"neurobiology","sectionTitle":"Neurobiology \u2014 Critical Concepts","items":[{"id":"resting-action","title":"Resting & Action Potentials","description":"Ion movements underlying resting potential and the all-or-none action potential; role of voltage-gated Na+ and K+ channels and refractory periods.","priority":true},{"id":"synaptic-transmission-core","title":"Synaptic Transmission & Plasticity","description":"Mechanism of neurotransmitter release (Ca2+-dependent), EPSPs vs IPSPs, basics of LTP/LTD as substrates for learning and memory.","priority":true},{"id":"major-neurotransmitters","title":"Major Neurotransmitter Systems","description":"Functional roles and general properties of glutamate, GABA, dopamine, serotonin, acetylcholine; common receptors and reuptake/degradation processes.","priority":false},{"id":"myelination-conduction","title":"Myelination & Conduction Velocity","description":"How myelin and nodes of Ranvier enable saltatory conduction; physiological consequences of demyelination.","priority":false},{"id":"sensory-motor-pathways","title":"Basic Circuit Organization","description":"Orientation to simple sensory and motor pathways, integration centers, and how synaptic summation shapes neuronal output.","priority":false}]},{"sectionId":"immunology","sectionTitle":"Immunology \u2014 Critical Concepts","items":[{"id":"innate-adaptive","title":"Innate vs Adaptive Immunity","description":"Contrast speed and specificity: innate immunity provides rapid, nonspecific defenses (macrophages, neutrophils, complement) while adaptive immunity (B/T cells) is specific and memory-forming.","priority":true},{"id":"antigen-presentation","title":"Antigen Presentation & MHC","description":"MHC I vs MHC II pathways, cross-presentation, and how antigen presentation links infected cells/antigen-presenting cells to T-cell activation.","priority":true},{"id":"antibody-classes","title":"Antibody Structure & Isotypes","description":"IgG, IgM, IgA, IgE, IgD \u2014 major functions, basic structure (variable vs constant regions), and processes: somatic hypermutation & class switching.","priority":false},{"id":"immune-memory-vaccines","title":"Clonal Expansion & Memory","description":"How exposure produces long-lived memory B and T cells and the basis for vaccine protection and booster requirements.","priority":false},{"id":"inflammation-role","title":"Inflammation & Innate Sensors","description":"PRRs (TLRs, NLRs), cytokine cascades, acute vs chronic inflammation and clinical consequences.","priority":false}]},{"sectionId":"cognitive-psychology","sectionTitle":"Cognitive Psychology \u2014 Critical Concepts","items":[{"id":"memory-systems-contrast","title":"Memory Systems (Working vs Long-Term)","description":"Distinguish working memory, short-term memory, episodic and semantic long-term memory; hippocampus role in consolidation vs cortex for storage.","priority":true},{"id":"learning-conditioning","title":"Learning Principles & Conditioning","description":"Classical (Pavlovian) and operant conditioning basics, reinforcement schedules, extinction and generalization phenomena.","priority":false},{"id":"attention-processing","title":"Attention & Perception","description":"Selective attention mechanisms, bottleneck models (early vs late selection), and how attention affects perception and memory encoding.","priority":false},{"id":"decision-biases","title":"Decision Making & Cognitive Biases","description":"Common heuristics and biases (availability, anchoring, confirmation) that influence reasoning \u2014 useful for MCAT-style passages.","priority":false},{"id":"neurocog-links","title":"Neurocognitive Foundations (bridge to neurobiology)","description":"How cognitive constructs map to brain systems (e.g., hippocampus for memory, prefrontal cortex for working memory/executive control).","priority":false}]}]}'),Gt=e=>{let{categoryId:t,categoryColor:n="#667eea"}=e;const i=Vt.S.find(e=>e.sectionId===t);return i&&i.items&&0!==i.items.length?(0,Lt.jsx)("section",{className:"critical-concepts",style:{"--gradient-color":n},children:(0,Lt.jsxs)("div",{className:"critical-concepts__container",children:[(0,Lt.jsxs)("h3",{className:"critical-concepts__title",children:[(0,Lt.jsx)("span",{className:"critical-concepts__icon",children:"\u26a1"}),"Critical Concepts to Master"]}),(0,Lt.jsx)("div",{className:"critical-concepts__grid",children:i.items.slice(0,6).map(e=>(0,Lt.jsxs)("article",{className:"critical-concepts__card",role:"region","aria-labelledby":"concept-".concat(e.id),children:[(0,Lt.jsx)("h4",{className:"critical-concepts__card-title",id:"concept-".concat(e.id),children:e.title}),(0,Lt.jsx)("p",{className:"critical-concepts__card-description",children:e.description}),e.keyPoints&&e.keyPoints.length>0&&(0,Lt.jsx)("ul",{className:"critical-concepts__key-points",children:e.keyPoints.slice(0,3).map((e,t)=>(0,Lt.jsx)("li",{children:e},t))})]},e.id))})]})}):null};var jt=n(927);const qt=e=>{if(!e)return null;if(e.trim().startsWith("\\begin{"))return(0,Lt.jsx)(jt.BlockMath,{math:e});const t=/\$\$([^]*?)\$\$/g,n=/\$(.*?)\$/g,i=[];let r,a=0;for(;null!==(r=t.exec(e));)r.index>a&&i.push(e.substring(a,r.index)),i.push((0,Lt.jsx)(jt.BlockMath,{math:r[1]},r.index)),a=r.index+r[0].length;const o=e.substring(a);let s=0;for(;null!==(r=n.exec(o));)r.index>s&&i.push(o.substring(s,r.index)),i.push((0,Lt.jsx)(jt.InlineMath,{math:r[1]},"inline-".concat(r.index))),s=r.index+r[0].length;return s<o.length&&i.push(o.substring(s)),i},Wt=t=>{let{topic:n,categoryColor:i}=t;const[r,a]=(0,e.useState)(!1),o=()=>{a(!r)};return(0,Lt.jsxs)("article",{className:"topic-card ".concat(r?"topic-card--expanded":""),onClick:o,role:"button",tabIndex:0,"aria-expanded":r,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o())},children:[(0,Lt.jsx)("header",{className:"topic-card__header",style:{borderLeftColor:n.important?i:"#ddd"},children:(0,Lt.jsxs)("h3",{className:"topic-card__title",style:{color:n.important?i:"#2c3e50"},children:[(0,Lt.jsxs)("span",{className:"topic-card__text",children:[n.title,n.important&&(0,Lt.jsx)("span",{className:"topic-card__badge",children:"\u2b50"})]}),(0,Lt.jsx)("span",{className:"topic-card__toggle","aria-hidden":"true",children:r?"\u25bc":"\u25b6"})]})}),r&&(0,Lt.jsxs)("div",{className:"topic-card__content",children:[n.summary&&(0,Lt.jsx)("p",{className:"topic-card__summary",children:qt(n.summary)}),(0,Lt.jsx)("div",{className:"topic-card__details",children:"katex"===n.render?(0,Lt.jsx)(jt.BlockMath,{math:(s=n.details,s.replace(/^\\\[/,"").replace(/\\\]$/,"").trim())}):qt(n.details)})]})]});var s},Xt=JSON.parse('{"U":[{"sectionId":"genchem","section_title":"General Chemistry","cards":[{"id":"hh-equation","title":"Henderson\u2013Hasselbalch Equation","summary":"Relates pH, pKa and the conjugate base/acid ratio for buffers.","details":"$pH = pK_a + \\\\log([A^-]/[HA])$. Used to design and analyze buffers and predict pH of solutions containing weak acids and conjugate bases.","important":true},{"id":"gibbs-free-energy","title":"Gibbs Free Energy","summary":"Predicts reaction spontaneity and links to equilibrium.","details":"$\\\\Delta G = \\\\Delta H - T\\\\Delta S$ and $\\\\Delta G^\\\\circ = -RT \\\\ln(K_{eq})$. Fundamental for determining if reactions will proceed spontaneously.","important":true},{"id":"electronegativity-trends","title":"Electronegativity & Periodic Trends","summary":"Trends that determine bonding and reactivity across the periodic table.","details":"F > O > N > C. Electronegativity and ionization energy increase left\u2192right; atomic radius decreases left\u2192right. These trends explain chemical behavior.","important":true},{"id":"equilibrium-constant","title":"Equilibrium Constant","summary":"Relationship of product and reactant concentrations at equilibrium.","details":"K_eq = [products]/[reactants]. Relates to \u0394G\xb0 and determines the position of equilibrium.","important":false},{"id":"atomic-structure","title":"Atomic Structure & Electron Configuration","summary":"Electron configurations and the properties they drive.","details":"Aufbau principle and orbital filling. Valence electrons determine reactivity and chemical properties.","important":true},{"id":"acid-base-chemistry","title":"Acid\u2013Base Chemistry","summary":"pH, pKa, buffers and titration essentials for biological systems.","details":"$pH = -\\\\log[H^+]$. Buffers consist of weak acid + conjugate base. Titration curves show equivalence point and buffer range.","important":true},{"id":"redox-reactions","title":"Redox Reactions","summary":"Electron transfer processes and their role in metabolism.","details":"Oxidation = loss of electrons, Reduction = gain of electrons. Redox couples and standard reduction potentials determine reaction feasibility.","important":false},{"id":"stoichiometry","title":"Stoichiometry & Limiting Reagents","summary":"Quantitative relationships in chemical reactions for yield calculations.","details":"Mole ratios from balanced equations. Identify limiting reagent to calculate theoretical yield.","important":false},{"id":"gas-laws","title":"Gas Laws","summary":"Relationships between pressure, volume, temperature and moles of gas.","details":"PV = nRT. Combined gas law for changing conditions. Partial pressures and Dalton\'s law.","important":false},{"id":"solutions","title":"Solutions & Concentrations","summary":"Calculating molarity, molality and preparing solutions.","details":"Molarity = moles/L. Molality = moles/kg solvent. Dilution calculations M1V1 = M2V2.","important":false},{"id":"thermochemistry","title":"Thermochemistry","summary":"Enthalpy, entropy and their role in reaction energetics.","details":"\u0394H = heat change at constant pressure. \u0394S = change in disorder. Exothermic vs endothermic reactions.","important":false}]},{"sectionId":"ochem","section_title":"Organic Chemistry","cards":[{"id":"functional-groups","title":"Functional Groups & Reactivity","summary":"Key functional groups and their chemical behavior.","details":"Alcohols, amines, carboxylic acids. Nucleophiles vs electrophiles. Reactivity trends determine substitution and elimination outcomes.","important":true},{"id":"stereochemistry","title":"Stereochemistry","summary":"Chirality, enantiomers, diastereomers and their biological implications.","details":"Chiral centers and R/S configuration. Enantiomers are mirror images. Stereochemistry is critical for drug activity and enzyme specificity.","important":true},{"id":"reaction-mechanisms","title":"Reaction Mechanisms","summary":"Common organic reaction types and their stepwise mechanisms.","details":"SN1 vs SN2 mechanisms. E1 vs E2 eliminations. Addition, elimination, and substitution reactions.","important":true},{"id":"aromaticity","title":"Aromaticity & H\xfcckel\'s Rule","summary":"Aromatic compounds and their stability and reactivity.","details":"4n+2 \u03c0 electrons in aromatic systems. Benzene and aromatic stability. Antiaromatic compounds are destabilized.","important":false},{"id":"protecting-groups","title":"Protecting Groups","summary":"Strategies to mask reactive functional groups during synthesis.","details":"Acetals, ethers, and silyl ethers as protecting groups. Key for multi-step syntheses and selective reactions.","important":false},{"id":"carbonyl-chemistry","title":"Carbonyl Chemistry","summary":"Aldehydes, ketones, and carboxylic acid derivatives and their reactions.","details":"Nucleophilic addition and acyl substitution mechanisms. Aldol condensation and Wittig reactions.","important":true}]},{"sectionId":"biochem1","section_title":"Biochemistry I","cards":[{"id":"glycolysis","title":"Glycolysis","summary":"10-step pathway converting glucose to pyruvate with ATP and NADH generation.","details":"10 enzymes, 2 ATP net, 2 NADH per glucose. Hexokinase & phosphofructokinase are key regulatory steps. Pyruvate fate: TCA, lactate, or gluconeogenesis.","important":true},{"id":"tca-cycle","title":"Citric Acid Cycle (TCA)","summary":"Central metabolic hub oxidizing acetyl-CoA and generating reducing equivalents.","details":"8 enzymes, acetyl-CoA entry point. 3 NADH, 1 $FADH_2$, 1 GTP per cycle. Isocitrate dehydrogenase and $\\\\alpha$-ketoglutarate dehydrogenase are regulatory steps.","important":true},{"id":"michaelis-menten","title":"Michaelis\u2013Menten Kinetics","summary":"Enzyme kinetics model linking reaction rate to substrate concentration.","details":"$v = \\\\frac{V_{max}[S]}{K_m + [S]}$. $K_m$ relates to enzyme-substrate affinity. $K_m = \\\\frac{k_{-1} + k_2}{k_1}$.","important":true},{"id":"electron-transport","title":"Electron Transport Chain & Oxidative Phosphorylation","summary":"Electron transfer through complexes I\u2013IV and ATP synthesis.","details":"Complexes I\u2013IV pump $H^+$ across inner mitochondrial membrane. ATP synthase uses $\\\\Delta\\\\Psi$ & $\\\\Delta pH$. P/O ratio $\\\\approx$ 2.5 for NADH, $\\\\approx$ 1.5 for $FADH_2$.","important":true},{"id":"metabolic-regulation","title":"Metabolic Regulation & Allosteric Control","summary":"Feedback inhibition and allosteric enzyme modulation.","details":"Allosteric sites remote from active site. Positive vs negative regulators. AMP/ATP ratios signal energy status.","important":false}]},{"sectionId":"biochem2","section_title":"Biochemistry II","cards":[{"id":"signal-transduction","title":"Signal Transduction Pathways","summary":"Cell communication via receptors, kinase cascades and second messengers.","details":"GPCRs & receptor tyrosine kinases. Second messengers (cAMP, Ca\xb2\u207a, IP3). MAPK and PI3K pathway signaling.","important":true},{"id":"protein-synthesis","title":"Translation & Protein Synthesis","summary":"mRNA \u2192 protein: codons, tRNA, ribosome and post-translational modifications.","details":"64 codons: 61 amino acids + 3 stop codons. Initiation at AUG. Aminoacyl-tRNA synthetases ensure fidelity. Post-translational modifications.","important":true},{"id":"protein-folding","title":"Protein Folding & Chaperones","summary":"Thermodynamic and kinetic aspects of protein structure formation.","details":"Hydrophobic core and hydrogen bonding drive folding. Chaperone proteins (HSP70, GroEL) prevent aggregation. Misfolding causes diseases.","important":true},{"id":"gene-regulation","title":"Gene Regulation","summary":"Transcriptional and translational control of gene expression.","details":"Promoters, enhancers, silencers. Transcription factors and chromatin remodeling. Operons (lac, trp): inducible and repressible regulation.","important":true},{"id":"post-translational-mods","title":"Post-Translational Modifications","summary":"Chemical modifications that regulate protein function.","details":"Phosphorylation, ubiquitination, glycosylation, and proteolytic cleavage. These modifications control protein activity, localization, and stability.","important":false}]},{"sectionId":"biochem-lab","section_title":"Biochemistry Lab","cards":[{"id":"protein-purification","title":"Protein Purification & Analysis","summary":"Techniques to isolate and characterize proteins from cells.","details":"Cell lysis & chromatin removal. Gel filtration (size exclusion chromatography). Ion exchange and isoelectric focusing.","important":true},{"id":"enzyme-assays","title":"Enzyme Assays & Kinetics","summary":"Measuring enzyme activity and determining kinetic parameters.","details":"Spectrophotometric assays. Km & Vmax determination from Lineweaver-Burk plots. Inhibition assays (competitive vs non-competitive).","important":true},{"id":"gel-electrophoresis","title":"SDS-PAGE & Gel Electrophoresis","summary":"Separating proteins by size and analyzing protein composition.","details":"Denaturing vs native gels. Molecular weight standards for calibration. Staining (Coomassie, silver) and visualization.","important":true},{"id":"nucleic-acid-tech","title":"DNA/RNA Techniques (PCR, qPCR, Sequencing)","summary":"Amplifying, quantifying and sequencing nucleic acids.","details":"PCR cycles: denaturation, annealing, extension. Real-time qPCR for gene expression. Sanger vs NGS sequencing methods.","important":false}]},{"sectionId":"molbio","section_title":"Molecular Biology","cards":[{"id":"dna-structure","title":"DNA & RNA Structure","summary":"Double helix, base pairing, and structural variations.","details":"Watson-Crick base pairing (A-T, G-C). Major and minor grooves. RNA secondary structure and stability.","important":true},{"id":"dna-replication","title":"DNA Replication","summary":"Semi-conservative replication machinery and fidelity.","details":"DNA Pol III holoenzyme (E. coli). Leading vs lagging strands. Priming by primase and Okazaki fragments.","important":true},{"id":"transcription","title":"Transcription","summary":"DNA \u2192 RNA: promoters, polymerase, capping and splicing.","details":"RNA Pol II in eukaryotes; Pol I/III for rRNA and tRNA. Eukaryotic transcription: 5\u2032 cap, polyadenylation, splicing.","important":true},{"id":"recombinant-dna","title":"Recombinant DNA Technology","summary":"Restriction enzymes, cloning and genetic manipulation.","details":"Restriction sites create sticky/blunt ends. Plasmid vectors & antibiotic selection. Blue-white screening for recombinants.","important":true},{"id":"crispr","title":"CRISPR & Genome Editing","summary":"Modern gene editing with Cas9 and related endonucleases.","details":"gRNA design for target specificity. On-target vs off-target effects. Prime editing and base editing variations.","important":false}]},{"sectionId":"genbio","section_title":"General Biology","cards":[{"id":"cell-structure","title":"Cell Structure & Function","summary":"Organelles, membranes and compartmentalization in eukaryotes.","details":"Nucleus, mitochondria, ER, Golgi apparatus. Membrane composition and fluidity. Cell cycle checkpoints.","important":true},{"id":"bioenergetics","title":"Bioenergetics & Membranes","summary":"Energy flow and membrane biology in living systems.","details":"ATP as the energy currency of the cell. Proton gradients and chemiosmosis. Lipid bilayer composition and membrane proteins.","important":true},{"id":"photosynthesis","title":"Photosynthesis","summary":"Light and dark reactions converting light energy to chemical energy.","details":"Light reactions produce ATP and NADPH. Calvin cycle fixes CO\u2082. Chloroplast structure and thylakoids.","important":true},{"id":"cell-cycle-mitosis","title":"Cell Cycle & Mitosis","summary":"Interphase and mitotic division for cell reproduction.","details":"G1, S, G2 phases. Mitosis produces two identical diploid cells. Checkpoints control progression.","important":false}]},{"sectionId":"microbio","section_title":"Microbiology","cards":[{"id":"bacterial-structure","title":"Bacterial Structure & Physiology","summary":"Cell wall, pili, flagella, plasmids and metabolic modes.","details":"Peptidoglycan and Gram staining. Plasmids enable conjugation. Aerobic vs anaerobic metabolism.","important":true},{"id":"viral-replication","title":"Viruses & Replication Cycles","summary":"Viral structure, entry, replication and lysis strategies.","details":"Capsid and envelope composition. Lytic vs lysogenic cycles. Reverse transcriptase in retroviruses.","important":true},{"id":"antibiotic-resistance","title":"Antibiotics & Resistance Mechanisms","summary":"Mechanisms of action and bacterial resistance strategies.","details":"Cell wall synthesis inhibitors (\u03b2-lactams). Protein synthesis inhibitors. Enzymatic inactivation, efflux pumps, and target modification.","important":true},{"id":"microbial-genetics","title":"Microbial Genetics & Horizontal Gene Transfer","summary":"Gene transfer mechanisms unique to bacteria.","details":"Conjugation via pili. Transformation and transduction. Horizontal gene transfer spreads antibiotic resistance.","important":false}]},{"sectionId":"physical","section_title":"Physical Chemistry","cards":[{"id":"quantum-basics","title":"Quantum Chemistry Basics","summary":"Schr\xf6dinger equation and orbital concepts for molecular structure.","details":"Wave functions and probability densities. Atomic and molecular orbitals (HOMO/LUMO). Hybridization: sp, sp\xb2, sp\xb3.","important":true},{"id":"thermo-advanced","title":"Advanced Thermodynamics","summary":"Phase diagrams, activity coefficients, and chemical potential.","details":"Clausius-Clapeyron equation for phase transitions. Activity vs concentration. Gibbs free energy and phase equilibria.","important":false},{"id":"kinetics-rate","title":"Chemical Kinetics & Rate Laws","summary":"Reaction mechanisms, rate constants and temperature dependence.","details":"Arrhenius equation: k = Ae^(-Ea/RT). Activation energy and transition state theory. Elementary steps and rate-determining step.","important":true}]},{"sectionId":"physics","section_title":"Physics Essentials","cards":[{"id":"classical-mechanics","title":"Classical Mechanics","summary":"Motion, forces and conservation laws needed for problem solving.","details":"Newton\'s laws of motion. Conservation of energy and momentum. Rotational dynamics and simple harmonic motion.","important":true},{"id":"waves-oscillations","title":"Waves & Oscillations","summary":"Wave behavior and basic modal analysis.","details":"Wave equation and v = f\u03bb. Interference and standing waves. Doppler effect.","important":false},{"id":"thermal-physics","title":"Thermal Physics & Thermodynamics","summary":"Laws of thermodynamics, heat transfer and state functions.","details":"First and Second Laws of Thermodynamics. Entropy and enthalpy. Isothermal and adiabatic processes.","important":true},{"id":"circuits","title":"Circuits","summary":"Basic circuit analysis and component behavior.","details":"Ohm\'s law: V = IR. Series and parallel circuit rules. Kirchhoff\'s laws. Capacitors and inductors.","important":true},{"id":"fluids","title":"Fluids","summary":"Fluid statics and dynamics principles for biological contexts.","details":"Density \u03c1 = m/V. Pressure P = F/A. Buoyancy and Archimedes\' principle. Continuity equation and Bernoulli\'s principle.","important":false},{"id":"electricity-magnetism","title":"Electricity & Magnetism","summary":"Electrostatics, circuits and magnetic fields relevant to biophysics.","details":"Coulomb\'s law for electric force. Electric field E = F/q. Magnetic force F = qvB. Biological applications: nerve impulses.","important":true},{"id":"modern-physics","title":"Modern Physics","summary":"Quantum mechanics and relativity basics for understanding atomic phenomena.","details":"Photoelectric effect and energy quantization. Heisenberg uncertainty principle. Special relativity time dilation.","important":false}]},{"sectionId":"stats","section_title":"Statistics (Biochemical Data Analysis)","cards":[{"id":"distributions","title":"Distributions","summary":"Choose and interpret probability distributions for experimental data.","details":"Normal, binomial, and Poisson distributions. Check assumptions before applying tests. Central Limit Theorem.","important":true},{"id":"descriptive-statistics","title":"Descriptive Statistics","summary":"Summarize biological data and communicate variability.","details":"Mean, median, and standard deviation. SD vs SEM. Report sample size (n) and units; plot individual points.","important":true},{"id":"biol-vs-tech-replicates","title":"Biological vs Technical Replicates","summary":"Designing replicates correctly to separate biological variation from measurement error.","details":"Apply statistical tests to biological replicates. Technical replicates assess instrument precision.","important":true},{"id":"hypothesis-testing","title":"Hypothesis Testing","summary":"Framework to decide if observed differences are likely real.","details":"Null hypothesis (H0) vs Alternative (H1). p-value interpretation. \u03b1 commonly set to 0.05.","important":true},{"id":"t-anova","title":"t-Tests & ANOVA","summary":"Comparing means between two or more groups with appropriate assumptions.","details":"Unpaired vs paired t-tests. ANOVA for 3+ groups. Post-hoc tests when ANOVA is significant.","important":true},{"id":"regression-kinetics","title":"Regression & Enzyme Kinetics","summary":"Curve fitting for calibration and nonlinear kinetics (Michaelis\u2013Menten).","details":"Linear regression for calibration curves. Use nonlinear regression for Michaelis-Menten. Report R\xb2 and inspect residuals.","important":true},{"id":"error-analysis","title":"Error Analysis & Confidence Intervals","summary":"Quantify uncertainty and combine errors through calculations.","details":"Random vs systematic error. Error propagation through calculations. Report confidence intervals.","important":false},{"id":"sampling-power","title":"Sampling & Power Analysis","summary":"Plan sample sizes to detect effects reliably.","details":"Power analysis for experimental design. Effect size and sample size tradeoffs.","important":false}]},{"sectionId":"calculus","section_title":"Calculus","cards":[{"id":"derivatives","title":"Derivatives & Rates of Change","summary":"Rates of change and slopes of functions for modeling biological processes.","details":"Definition of derivative. Common derivatives (polynomial, exponential, logarithmic). Power, product, and chain rules.","important":true},{"id":"integrals","title":"Integrals & Accumulation","summary":"Area under curves and accumulation functions in biology.","details":"Definite vs indefinite integrals. Common integrals. Integration by parts and u-substitution.","important":true},{"id":"differential-equations","title":"Differential Equations","summary":"Modeling dynamic systems like population growth or enzyme kinetics.","details":"First-order separable ODEs. Linear first-order differential equations. Exponential solutions for growth and decay.","important":true},{"id":"multivariable-calculus","title":"Multivariable Calculus","summary":"Functions of multiple variables and partial derivatives for complex systems.","details":"Partial derivatives and mixed partials. Gradient vectors. Multiple integrals for volume and probability.","important":false},{"id":"limits","title":"Limits & Continuity","summary":"Understanding behavior of functions as inputs approach specific values.","details":"Limit definition and evaluation (direct substitution, factoring, rationalizing). Limits at infinity and asymptotic behavior.","important":false}]},{"sectionId":"genchemlab","section_title":"General Chemistry Lab","cards":[{"id":"acid-base-titration","title":"Acid\u2013Base Titration","summary":"Quantitative analysis using endpoint determination.","details":"M1V1 = M2V2 dilution formula. Equivalence point vs endpoint. Choice of indicator based on pH range.","important":true},{"id":"spectroscopic-analysis","title":"Spectroscopy (IR, NMR, UV-Vis)","summary":"Molecular structure elucidation and quantification.","details":"IR for functional group identification. NMR for structure determination (1H, 13C). Beer-Lambert law A = \u03b5bc.","important":true},{"id":"solution-preparation","title":"Solutions & Dilutions","summary":"Making and diluting solutions of precise concentration.","details":"Molarity, molality, ppm units. Serial dilution practice. Using volumetric glassware correctly.","important":false},{"id":"lab-safety","title":"Lab Safety & Data Recording","summary":"Essential practices for safe and reproducible work.","details":"PPE and chemical handling. MSDS sheets for hazard information. Proper lab notebook documentation and significant figures.","important":true}]},{"sectionId":"ochem-lab","section_title":"Organic Chemistry Lab","cards":[{"id":"extraction","title":"Extraction & Purification","summary":"Techniques for isolating and purifying organic compounds.","details":"Liquid-liquid extraction techniques. Chromatography basics (TLC, column). Recrystallization principles.","important":true},{"id":"synthesis","title":"Synthesis & Retrosynthesis","summary":"Planning and executing multi-step organic syntheses.","details":"Retrosynthetic analysis for planning. Protecting groups for selective reactions. Common reagents and reaction conditions.","important":true},{"id":"green-chemistry","title":"Green Chemistry Principles","summary":"Sustainable practices in organic synthesis and lab work.","details":"Atom economy and waste minimization. Use of safer solvents and reagents. Energy-efficient reactions.","important":false}]},{"sectionId":"analytical","section_title":"Analytical Chemistry","cards":[{"id":"calibration-curves","title":"Calibration & Standard Curves","summary":"Preparing and using standard curves for quantification.","details":"Linear regression analysis for curve fitting. Check linearity and goodness of fit (R\xb2). Limits of detection and quantification.","important":true},{"id":"chromatography-methods","title":"Chromatography (HPLC, GC)","summary":"Separation techniques for compound analysis.","details":"Mobile vs stationary phase selection. Retention time and selectivity optimization. Peak integration and area quantitation.","important":true},{"id":"mass-spectrometry","title":"Mass Spectrometry","summary":"Ionization, separation and detection of molecular masses.","details":"EI vs ESI ionization methods. m/z ratios and isotope patterns. Fragmentation patterns for compound identification.","important":true},{"id":"error-propagation","title":"Error Propagation & Detection Limits","summary":"Quantifying measurement uncertainty and instrumental limits.","details":"LOD = 3\u03c3/slope and LOQ = 10\u03c3/slope. Propagation of uncertainty through calculations.","important":false}]},{"sectionId":"inorganic","section_title":"Inorganic Chemistry","cards":[{"id":"coordination-compounds","title":"Coordination Compounds & Complexes","summary":"Ligand types, coordination geometry and stereoisomerism.","details":"Monodentate vs polydentate ligands. Coordination numbers 4 and 6. Geometric and optical isomers.","important":true},{"id":"crystal-field-theory","title":"Crystal Field Theory","summary":"Splitting of d orbitals and color in transition metal complexes.","details":"d-orbital splitting in octahedral and tetrahedral fields. High vs low spin complexes. Color from d-d electronic transitions.","important":true},{"id":"transition-metals","title":"Transition Metals & Variable Oxidation States","summary":"Properties and reactivity of transition elements.","details":"Variable oxidation states and electron configurations. Catalytic activity of transition metals. Colored complexes and magnetism.","important":true},{"id":"organometallic-catalysis","title":"Organometallics & Catalysis","summary":"Metal-carbon bonds and their role in catalysis.","details":"Metal-ligand bonding and stability. Common catalytic cycles. Green chemistry applications.","important":false}]},{"sectionId":"bioinformatics","section_title":"Bioinformatics","cards":[{"id":"blast-seq-alignment","title":"BLAST & Sequence Alignment","summary":"Finding similar sequences in databases and understanding homology searches.","details":"BLAST (Basic Local Alignment Search Tool) algorithms. E-values for statistical significance. Sequence identity and similarity scoring.","important":true},{"id":"molecular-databases","title":"Molecular Databases","summary":"Key resources for accessing sequence and structure data.","details":"GenBank for DNA sequences. UniProt for protein sequences and annotations. PDB for 3D protein structures.","important":true},{"id":"msa-phylogenetics","title":"Multiple Sequence Alignment & Phylogenetics","summary":"Comparing multiple sequences and inferring evolutionary relationships.","details":"MSA algorithms (Clustal, MUSCLE, MAFFT). Phylogenetic trees from evolutionary distances. Building dendrograms.","important":true},{"id":"protein-structure-pred","title":"Protein Structure Prediction","summary":"Predicting 3D fold from amino acid sequence using computational methods.","details":"AlphaFold and deep learning approaches. Secondary structure prediction. Validating predictions with experimental data.","important":false}]},{"sectionId":"biochem2","section_title":"Biochemistry II","cards":[{"id":"signal-transduction","title":"Signal Transduction Pathways","summary":"Cell communication via receptors, kinase cascades and second messengers.","details":"GPCRs & receptor tyrosine kinases. Second messengers (cAMP, Ca\xb2\u207a, IP3). MAPK and PI3K pathway signaling.","important":true},{"id":"protein-synthesis-bio2","title":"Translation & Protein Synthesis","summary":"mRNA \u2192 protein: codons, tRNA, ribosome and post-translational modifications.","details":"64 codons: 61 amino acids + 3 stop codons. Initiation at AUG. Aminoacyl-tRNA synthetases ensure fidelity. Post-translational modifications.","important":true},{"id":"protein-folding","title":"Protein Folding & Chaperones","summary":"Thermodynamic and kinetic aspects of protein structure formation.","details":"Hydrophobic core and hydrogen bonding drive folding. Chaperone proteins (HSP70, GroEL) prevent aggregation. Misfolding causes diseases.","important":true},{"id":"gene-regulation","title":"Gene Regulation","summary":"Transcriptional and translational control of gene expression.","details":"Promoters, enhancers, silencers. Transcription factors and chromatin remodeling. Operons (lac, trp): inducible and repressible regulation.","important":true},{"id":"post-translational-mods","title":"Post-Translational Modifications","summary":"Chemical modifications that regulate protein function.","details":"Phosphorylation, ubiquitination, glycosylation, and proteolytic cleavage. These modifications control protein activity, localization, and stability.","important":false},{"id":"apoptosis-cell-death","title":"Apoptosis & Programmed Cell Death","summary":"Regulated cell death pathways and their biochemical triggers.","details":"Caspase cascades and mitochondrial pathways. BcL family proteins. P53 tumor suppressor role in apoptosis.","important":false}]},{"sectionId":"genbio","section_title":"General Biology","cards":[{"id":"cell-structure","title":"Cell Structure & Function","summary":"Organelles, membranes and compartmentalization in eukaryotes.","details":"Nucleus, mitochondria, ER, Golgi apparatus. Membrane composition and fluidity. Cell cycle checkpoints.","important":true},{"id":"bioenergetics","title":"Bioenergetics & Membranes","summary":"Energy flow and membrane biology in living systems.","details":"ATP as the energy currency of the cell. Proton gradients and chemiosmosis. Lipid bilayer composition and membrane proteins.","important":true},{"id":"photosynthesis-genbio","title":"Photosynthesis","summary":"Light and dark reactions converting light energy to chemical energy.","details":"Light reactions produce ATP and NADPH. Calvin cycle fixes CO\u2082. Chloroplast structure and thylakoids.","important":true},{"id":"cell-cycle-mitosis","title":"Cell Cycle & Mitosis","summary":"Interphase and mitotic division for cell reproduction.","details":"G1, S, G2 phases. Mitosis produces two identical diploid cells. Checkpoints control progression.","important":false},{"id":"meiosis-reproduction","title":"Meiosis & Sexual Reproduction","summary":"Reduction division producing haploid gametes.","details":"Two meiotic divisions. Homologous chromosome recombination. Crossing over and genetic variation.","important":true}]},{"sectionId":"microbio","section_title":"Microbiology","cards":[{"id":"bacterial-structure","title":"Bacterial Structure & Physiology","summary":"Cell wall, pili, flagella, plasmids and metabolic modes.","details":"Peptidoglycan and Gram staining. Plasmids enable conjugation. Aerobic vs anaerobic metabolism.","important":true},{"id":"viral-replication","title":"Viruses & Replication Cycles","summary":"Viral structure, entry, replication and lysis strategies.","details":"Capsid and envelope composition. Lytic vs lysogenic cycles. Reverse transcriptase in retroviruses.","important":true},{"id":"antibiotic-resistance","title":"Antibiotics & Resistance Mechanisms","summary":"Mechanisms of action and bacterial resistance strategies.","details":"Cell wall synthesis inhibitors (\u03b2-lactams). Protein synthesis inhibitors. Enzymatic inactivation, efflux pumps, and target modification.","important":true},{"id":"microbial-genetics","title":"Microbial Genetics & Horizontal Gene Transfer","summary":"Gene transfer mechanisms unique to bacteria.","details":"Conjugation via pili. Transformation and transduction. Horizontal gene transfer spreads antibiotic resistance.","important":false},{"id":"fermentation-metabolism","title":"Fermentation & Anaerobic Metabolism","summary":"Energy production without oxygen.","details":"Lactate fermentation. Alcohol fermentation. Energetics and products of fermentation pathways.","important":false}]},{"sectionId":"molbio","section_title":"Molecular Biology","cards":[{"id":"dna-structure","title":"DNA & RNA Structure","summary":"Double helix, base pairing, and structural variations.","details":"Watson-Crick base pairing (A-T, G-C). Major and minor grooves. RNA secondary structure and stability.","important":true},{"id":"dna-replication","title":"DNA Replication","summary":"Semi-conservative replication machinery and fidelity.","details":"DNA Pol III holoenzyme (E. coli). Leading vs lagging strands. Priming by primase and Okazaki fragments.","important":true},{"id":"transcription","title":"Transcription","summary":"DNA \u2192 RNA: promoters, polymerase, capping and splicing.","details":"RNA Pol II in eukaryotes; Pol I/III for rRNA and tRNA. Eukaryotic transcription: 5\u2032 cap, polyadenylation, splicing.","important":true},{"id":"recombinant-dna","title":"Recombinant DNA Technology","summary":"Restriction enzymes, cloning and genetic manipulation.","details":"Restriction sites create sticky/blunt ends. Plasmid vectors & antibiotic selection. Blue-white screening for recombinants.","important":true},{"id":"crispr","title":"CRISPR & Genome Editing","summary":"Modern gene editing with Cas9 and related endonucleases.","details":"gRNA design for target specificity. On-target vs off-target effects. Prime editing and base editing variations.","important":false},{"id":"rna-splicing","title":"RNA Splicing & Alternative Processing","summary":"Post-transcriptional splicing and alternative transcript variants.","details":"Splice sites and recognition sequences. Snurps and the spliceosome. Alternative splicing for protein diversity.","important":true}]},{"sectionId":"bioinformatics","section_title":"Bioinformatics","cards":[{"id":"blast-seq-alignment","title":"BLAST & Sequence Alignment","summary":"Finding similar sequences in databases and understanding homology searches.","details":"BLAST (Basic Local Alignment Search Tool) algorithms. E-values for statistical significance. Sequence identity and similarity scoring.","important":true},{"id":"molecular-databases","title":"Molecular Databases","summary":"Key resources for accessing sequence and structure data.","details":"GenBank for DNA sequences. UniProt for protein sequences and annotations. PDB for 3D protein structures.","important":true},{"id":"msa-phylogenetics","title":"Multiple Sequence Alignment & Phylogenetics","summary":"Comparing multiple sequences and inferring evolutionary relationships.","details":"MSA algorithms (Clustal, MUSCLE, MAFFT). Phylogenetic trees from evolutionary distances. Building dendrograms.","important":true},{"id":"protein-structure-pred","title":"Protein Structure Prediction","summary":"Predicting 3D fold from amino acid sequence using computational methods.","details":"AlphaFold and deep learning approaches. Secondary structure prediction. Validating predictions with experimental data.","important":false},{"id":"hmm-motifs","title":"Hidden Markov Models & Motifs","summary":"Pattern recognition in biological sequences.","details":"HMM principles for sequence modeling. PFAM and domain identification. Motif databases and searches.","important":false},{"id":"variant-annotation","title":"Variant Calling & Annotation","summary":"Identifying and interpreting genetic variants.","details":"SNP detection from sequencing data. Functional annotation. Disease association and classification.","important":true}]},{"sectionId":"genetics","section_title":"Genetics","cards":[{"id":"dna-structure-rep","title":"DNA Structure & Replication","summary":"DNA double helix and semi-conservative replication mechanisms.","details":"Watson-Crick base pairing (A-T, G-C). DNA polymerases and replication fork machinery. Priming and Okazaki fragments.","important":true},{"id":"tx-translation-genetics","title":"Transcription & Translation","summary":"From DNA to mRNA to protein: the central dogma of molecular biology.","details":"RNA polymerase and transcription factor action. Genetic code: 61 codons for amino acids plus 3 stop codons. Translation machinery.","important":true},{"id":"molecular-techniques","title":"Molecular Techniques (PCR, Sequencing, Cloning)","summary":"Essential lab methods for manipulating and analyzing DNA.","details":"PCR: denaturation, annealing, extension cycles. Sanger and NGS sequencing methods. Cloning vectors and transformation.","important":true},{"id":"epigenetics","title":"Epigenetics","summary":"Heritable changes in gene expression without DNA sequence changes.","details":"DNA methylation and histone modifications. Chromatin remodeling and gene silencing. Environmental effects on epigenome.","important":true},{"id":"mendelian-genetics","title":"Mendelian Genetics & Inheritance Patterns","summary":"Classical genetic principles and trait inheritance.","details":"Dominant and recessive alleles. Punnett squares and dihybrid crosses. Linkage and genetic mapping.","important":true},{"id":"population-genetics","title":"Population Genetics & Evolution","summary":"Allele frequencies and evolutionary forces.","details":"Hardy-Weinberg equilibrium. Selection, mutation, migration and genetic drift. Evolution at molecular level.","important":false}]},{"sectionId":"home","section_title":"Home","cards":[{"id":"quick-start","title":"Quick Start Guide","summary":"Get started with interactive biochemistry tools.","details":"Explore the 3D molecular viewer, access practice problems, and navigate learning resources by topic.","important":true}]},{"sectionId":"degree","section_title":"Degree Roadmap","cards":[{"id":"year1-details","title":"Year 1 \u2014 Foundations","summary":"Essential foundational courses for biochemistry majors.","details":"General Chemistry, Calculus, Introductory Biology, and laboratory safety protocols. Build mathematical and chemical fundamentals.","important":true},{"id":"year2-details","title":"Year 2 \u2014 Core Chemical Principles","summary":"Advanced chemistry and analytical methods.","details":"Organic Chemistry, Physical Chemistry, Analytical Chemistry. Develop problem-solving and lab technique skills.","important":true},{"id":"year3-details","title":"Year 3 \u2014 Biochemistry & Techniques","summary":"Biochemistry fundamentals and laboratory practice.","details":"Biochemistry I & II, enzyme kinetics, molecular biology lab. Learn bioinformatics and analytical techniques.","important":true},{"id":"year4-details","title":"Year 4 \u2014 Synthesis & Capstone","summary":"Advanced topics and independent research.","details":"Electives in structural biology, bioinformatics, or drug design. Capstone project or internship experience.","important":false}]},{"sectionId":"viewer","section_title":"3D Molecular Viewer","cards":[{"id":"molecule-glucose","title":"Glucose Molecule","summary":"Explore the structure of glucose ($C_6H_{12}O_6$), a key monosaccharide.","details":"View 3D atomic structure, bond angles, and functional groups. Understand glucose as the substrate for glycolysis.","important":false},{"id":"molecule-atp","title":"ATP (Adenosine Triphosphate)","summary":"The energy currency of the cell in 3D.","details":"Visualize adenine base, ribose sugar, and high-energy phosphate bonds. ATP hydrolysis: $ATP + H_2O \\\\rightarrow ADP + P_i$ releases energy.","important":true},{"id":"saved-views","title":"Saved Views & Perspectives","summary":"Store and retrieve favorite molecular views.","details":"Save camera positions and zoom levels. Access preset views for common molecules across the curriculum.","important":false}]},{"sectionId":"metabolic-cycles","section_title":"Metabolic Cycles","cards":[{"id":"glycolysis-map","title":"Glycolysis \u2014 Map & Key Enzymes","summary":"Step-by-step map of glycolysis highlighting regulatory enzymes and flux points.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Glycolysis (10 steps)} \\\\\\\\[6pt] 1.\\\\;& \\\\mathrm{Glucose} \\\\rightarrow \\\\mathrm{G6P} \\\\quad (\\\\text{Hexokinase / Glucokinase}) \\\\\\\\ 2.\\\\;& \\\\mathrm{G6P} \\\\leftrightarrow \\\\mathrm{F6P} \\\\\\\\ 3.\\\\;& \\\\mathrm{F6P} \\\\rightarrow \\\\mathrm{F1,6BP} \\\\quad (\\\\text{PFK-1; rate-limiting, ATP used}) \\\\\\\\ 4.\\\\;& \\\\mathrm{F1,6BP} \\\\rightarrow \\\\mathrm{DHAP} + \\\\mathrm{G3P} \\\\\\\\ 5.\\\\;& \\\\mathrm{DHAP} \\\\leftrightarrow \\\\mathrm{G3P} \\\\\\\\ 6.\\\\;& \\\\mathrm{G3P} \\\\rightarrow 1,3\\\\text{-}\\\\mathrm{BPG} \\\\quad (\\\\text{GAPDH; } \\\\mathrm{NAD^+ \\\\rightarrow NADH}) \\\\\\\\ 7.\\\\;& 1,3\\\\text{-}\\\\mathrm{BPG} \\\\rightarrow 3\\\\text{-}\\\\mathrm{PG} \\\\quad (\\\\text{PGK; ATP formed}) \\\\\\\\ 8.\\\\;& 3\\\\text{-}\\\\mathrm{PG} \\\\rightarrow 2\\\\text{-}\\\\mathrm{PG} \\\\\\\\ 9.\\\\;& 2\\\\text{-}\\\\mathrm{PG} \\\\rightarrow \\\\mathrm{PEP} \\\\\\\\ 10.\\\\;& \\\\mathrm{PEP} \\\\rightarrow \\\\mathrm{Pyruvate} \\\\quad (\\\\text{Pyruvate kinase; ATP formed}) \\\\\\\\[6pt] \\\\textbf{Net:}\\\\;& \\\\mathbf{2\\\\ ATP},\\\\; 2\\\\ \\\\mathrm{NADH},\\\\; 2\\\\ \\\\mathrm{Pyruvate} \\\\end{aligned}\\\\]","render":"katex","important":true},{"id":"tca-cycle-map","title":"TCA / Citric Acid Cycle","summary":"Complete TCA cycle map with inputs, outputs and regulation nodes.","details":"\\\\[\\\\begin{aligned}\\\\textbf{TCA / Citric Acid Cycle (per acetyl-CoA)} \\\\\\\\[6pt] & \\\\mathrm{Entry:\\\\ Pyruvate \\\\rightarrow Acetyl{-}CoA\\\\ (PDH;\\\\ CO_2\\\\ released;\\\\ NAD^+ \\\\rightarrow NADH)} \\\\\\\\ 1.\\\\;& \\\\mathrm{Acetyl{-}CoA + OAA \\\\rightarrow Citrate\\\\ (Citrate\\\\ synthase)} \\\\\\\\ 2.\\\\;& \\\\mathrm{Citrate \\\\leftrightarrow Isocitrate\\\\ (Aconitase)} \\\\\\\\ 3.\\\\;& \\\\mathrm{Isocitrate \\\\rightarrow \\\\alpha{-}KG\\\\ (Isocitrate\\\\ dehydrogenase;\\\\ NAD^+ \\\\rightarrow NADH;\\\\ CO_2)} \\\\\\\\ 4.\\\\;& \\\\mathrm{\\\\alpha{-}KG \\\\rightarrow Succinyl{-}CoA\\\\ (\\\\alpha{-}KGDH;\\\\ NAD^+ \\\\rightarrow NADH;\\\\ CO_2)} \\\\\\\\ 5.\\\\;& \\\\mathrm{Succinyl{-}CoA \\\\rightarrow Succinate\\\\ (Succinyl{-}CoA\\\\ synthetase;\\\\ GTP)} \\\\\\\\ 6.\\\\;& \\\\mathrm{Succinate \\\\rightarrow Fumarate\\\\ (Succinate\\\\ dehydrogenase;\\\\ FAD \\\\rightarrow FADH_2)} \\\\\\\\ 7.\\\\;& \\\\mathrm{Fumarate \\\\rightarrow Malate\\\\ (Fumarase)} \\\\\\\\ 8.\\\\;& \\\\mathrm{Malate \\\\rightarrow OAA\\\\ (Malate\\\\ dehydrogenase;\\\\ NAD^+ \\\\rightarrow NADH)} \\\\\\\\[6pt] \\\\text{Per turn: }& \\\\;3\\\\ \\\\mathrm{NADH},\\\\;1\\\\ \\\\mathrm{FADH_2},\\\\;1\\\\ \\\\mathrm{GTP} \\\\end{aligned}\\\\]","render":"katex","important":true},{"id":"etc-oxphos-map","title":"Electron Transport & Oxidative Phosphorylation","summary":"Complexes I\u2013IV, proton pumping and ATP synthase coupling.","details":"\\\\[\\\\begin{aligned}\\\\textbf{ETC \\\\& OxPhos \u2014 key steps} \\\\\\\\[6pt] & \\\\mathrm{Complex\\\\ I:\\\\ NADH \\\\rightarrow NAD^+;\\\\ electrons \\\\rightarrow CoQ;\\\\ pumps\\\\ protons} \\\\\\\\ & \\\\mathrm{Complex\\\\ II:\\\\ Succinate \\\\rightarrow Fumarate;\\\\ FADH_2 \\\\rightarrow CoQ;\\\\ (no\\\\ proton\\\\ pumping)} \\\\\\\\ & \\\\mathrm{CoQ\\\\ shuttles\\\\ electrons\\\\ to\\\\ Complex\\\\ III} \\\\\\\\ & \\\\mathrm{Complex\\\\ III:\\\\ transfers\\\\ to\\\\ Cytochrome\\\\ c;\\\\ pumps\\\\ protons} \\\\\\\\ & \\\\mathrm{Cytochrome\\\\ c:\\\\ mobile\\\\ electron\\\\ carrier} \\\\\\\\ & \\\\mathrm{Complex\\\\ IV:\\\\ O_2 \\\\rightarrow H_2O;\\\\ pumps\\\\ protons\\\\ (terminal\\\\ acceptor)} \\\\\\\\ & \\\\mathrm{ATP\\\\ synthase:\\\\ proton\\\\ return \\\\rightarrow ADP + Pi \\\\rightarrow ATP} \\\\\\\\[6pt] \\\\text{Note: proton motive force }(\\\\Delta\\\\Psi + \\\\Delta pH) ;\\\\ \\\\text{ROS formed as side-reactions.} \\\\end{aligned}\\\\]","render":"katex","important":true},{"id":"pentose-phosphate-pathway","title":"Pentose Phosphate Pathway (PPP)","summary":"NADPH & ribose-5-phosphate production and oxidative/non-oxidative branches.","details":"\\\\[\\\\begin{aligned}\\\\textbf{PPP \u2014 key branches} \\\\\\\\[6pt] & \\\\text{Oxidative: }\\\\;\\\\mathrm{G6P \\\\rightarrow 6{-}phosphogluconate \\\\rightarrow Ribulose{-}5{-}P\\\\ (G6PD;\\\\ produces\\\\ NADPH)} \\\\\\\\ & \\\\text{Non-oxidative: transketolase / transaldolase interconversions; supplies ribose-5-P or returns carbons to glycolysis} \\\\end{aligned}\\\\]","render":"katex","important":false},{"id":"urea-cycle","title":"Urea Cycle & Nitrogen Disposal","summary":"Ammonia detoxification and urea synthesis pathway.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Urea Cycle (hepatic)} \\\\\\\\[6pt] 1.\\\\;& \\\\mathrm{NH_4^+ + HCO_3^- \\\\rightarrow Carbamoyl\\\\ phosphate\\\\ (CPS\\\\text{ I};\\\\ ATP)} \\\\\\\\ 2.\\\\;& \\\\mathrm{Carbamoyl\\\\ phosphate + Ornithine \\\\rightarrow Citrulline\\\\ (OTC)} \\\\\\\\ 3.\\\\;& \\\\mathrm{Citrulline + Aspartate \\\\rightarrow Argininosuccinate\\\\ (Argininosuccinate\\\\ synthetase;\\\\ ATP)} \\\\\\\\ 4.\\\\;& \\\\mathrm{Argininosuccinate \\\\rightarrow Arginine + Fumarate\\\\ (links\\\\ to\\\\ TCA)} \\\\\\\\ 5.\\\\;& \\\\mathrm{Arginine \\\\rightarrow Ornithine + Urea\\\\ (Arginase)} \\\\end{aligned}\\\\]","render":"katex","important":false},{"id":"fatty-acid-beta-oxidation","title":"Fatty Acid \u03b2-Oxidation","summary":"Stepwise shortening of fatty acids to acetyl-CoA with FAD/NAD+ reduction.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Fatty Acid \\\\beta\\\\text{-}Oxidation (overview)} \\\\\\\\[6pt] 1.\\\\;& \\\\text{Activation: }\\\\mathrm{FA + CoA \\\\rightarrow Acyl\\\\text{-}CoA} \\\\\\\\ & \\\\quad (\\\\text{Acyl\\\\text{-}CoA synthetase; ATP} \\\\rightarrow \\\\text{AMP}) \\\\\\\\ 2.\\\\;& \\\\text{Transport: Carnitine shuttle (CPT1/CPT2); CPT1 inhibited by malonyl\\\\text{-}CoA} \\\\\\\\ 3.\\\\;& \\\\text{Cycle (per 2C removed):} \\\\\\\\ & \\\\text{Dehydrogenation (FAD} \\\\rightarrow \\\\text{FADH}_2) \\\\\\\\ & \\\\rightarrow \\\\text{Hydration} \\\\\\\\ & \\\\rightarrow \\\\text{Dehydrogenation (NAD}^+ \\\\rightarrow \\\\text{NADH)} \\\\\\\\ & \\\\rightarrow \\\\text{Thiolysis (acetyl\\\\text{-}CoA released)} \\\\end{aligned}\\\\]","render":"katex","important":false},{"id":"fatty-acid-synthesis","title":"Fatty Acid Synthesis & Lipogenesis","summary":"Fatty-acid chain assembly from acetyl-CoA using NADPH.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Fatty Acid Synthesis (cytosol)} \\\\\\\\[6pt] & \\\\text{Citrate shuttle: citrate exported to cytosol \\\\rightarrow ATP{-}citrate lyase \\\\rightarrow acetyl{-}CoA} \\\\\\\\ & \\\\text{Commitment: acetyl{-}CoA \\\\rightarrow malonyl{-}CoA (ACC; rate-limiting; regulated)} \\\\\\\\ & \\\\text{Elongation: Fatty Acid Synthase catalyzes iterative 2-C additions; NADPH consumed (PPP, malic enzyme sources)} \\\\end{aligned}\\\\]","render":"katex","important":false},{"id":"gluconeogenesis-map","title":"Gluconeogenesis & Regulation","summary":"Pathway for glucose synthesis and control points opposing glycolysis.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Gluconeogenesis \u2014 bypasses of glycolysis} \\\\\\\\[6pt] & \\\\mathrm{Pyruvate \\\\rightarrow Oxaloacetate\\\\ (Pyruvate\\\\ carboxylase;\\\\ ATP;\\\\ mitochondrial;\\\\ activated\\\\ by\\\\ acetyl{-}CoA)} \\\\\\\\ & \\\\mathrm{Oxaloacetate \\\\rightarrow PEP\\\\ (PEPCK;\\\\ GTP)} \\\\\\\\ & \\\\mathrm{Fructose{-}1,6{-}BP \\\\rightarrow Fructose{-}6{-}P\\\\ (FBPase)} \\\\\\\\ & \\\\mathrm{Glucose{-}6{-}P \\\\rightarrow Glucose\\\\ (Glucose{-}6{-}phosphatase;\\\\ liver/kidney)} \\\\\\\\[6pt] \\\\text{Energetic cost: }& \\\\approx 6\\\\;\\\\text{ATP equivalents per glucose} \\\\end{aligned}\\\\]","render":"katex","important":true},{"id":"amino-acid-metabolism","title":"Amino Acid Catabolism & Transaminations","summary":"Major routes for amino-acid breakdown and nitrogen shuttling.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Amino Acid Catabolism \u2014 key reactions} \\\\\\\\[6pt] & \\\\text{Transamination: }\\\\;\\\\mathrm{AA + \\\\alpha{-}KG \\\\rightleftharpoons \\\\alpha{-}ketoacid + Glutamate\\\\ (Aminotransferases; e.g., ALT/AST)} \\\\\\\\ & \\\\text{Oxidative deamination: }\\\\;\\\\mathrm{Glutamate \\\\rightarrow \\\\alpha{-}KG + NH_4^+\\\\ (Glutamate\\\\ dehydrogenase)} \\\\\\\\ & \\\\text{Carbon skeletons funnel into TCA at multiple entry points (pyruvate, Acetyl{-}CoA, \\\\alpha{-}KG, succinyl{-}CoA, fumarate, OAA)} \\\\end{aligned}\\\\]","render":"katex","important":false},{"id":"integrated-metabolic-maps","title":"Integrated Metabolic Maps (Interactive)","summary":"Clickable maps showing cross-talk between pathways and compartmentalization.","details":"\\\\[\\\\begin{aligned}\\\\textbf{Integrated Map \u2014 display recommendations} \\\\\\\\[6pt] & \\\\text{Show compartments: cytosol vs mitochondrion; indicate citrate/malate shuttles} \\\\\\\\ & \\\\text{Mark branch points: G6P (PPP), Citrate (FA synthesis), Pyruvate (TCA/alanine/lactate)} \\\\\\\\ & \\\\text{Label transporters: GLUT, MPC (mitochondrial pyruvate carrier), CPT1/CPT2} \\\\end{aligned}\\\\]","render":"katex","important":false}]},{"sectionId":"mcat-prep","section_title":"MCAT Prep","cards":[{"id":"chem-phys-foundations","title":"Chemical & Physical Foundations (MCAT)","summary":"High-yield chemistry & physics concepts tested on the MCAT.","details":"Atomic structure, stoichiometry, gas laws, acid\u2013base, basic circuit & optics concepts. Focused review and quick reference sheets mapped to AAMC topics.","important":true},{"id":"bio-biochem-foundations","title":"Biological & Biochemical Foundations (MCAT)","summary":"High-yield biology/biochemistry topics and conceptual linkages.","details":"Cellular processes, metabolism (glycolysis, TCA, ETC), enzymes, DNA/RNA basics, and lab reasoning. Includes practice passages tied to these topics.","important":true},{"id":"psych-soc-foundations","title":"Psychology & Sociology Foundations","summary":"Core psych/soc concepts and frameworks used on the MCAT.","details":"Basic cognition, behavior, social structure, identity, biases, and experimental design relevant to passage analysis and interpretation.","important":false},{"id":"cars-strategies","title":"CARS \u2014 Comprehension & Strategy","summary":"Approach and timing strategies for Critical Analysis & Reasoning Skills.","details":"Active reading strategies, passage mapping, question triage, and timed practice drills. Tips for inference and evidence-based reasoning.","important":false},{"id":"practice-passages","title":"Practice Passages & Explanations","summary":"Curated MCAT-style passages with stepwise explanations and timing controls.","details":"Passages mapped to topic tags, full answer walkthroughs, reasoning templates, and common distractors. Benchmarked for AAMC difficulty levels.","important":true},{"id":"full-length-sims","title":"Full-Length Exam Simulations","summary":"Timed, proctored full-length practice tests to mirror test day pacing.","details":"Section timing, break scheduling, performance analytics, and cumulative score estimates. Recommendations for review after each simulation.","important":false},{"id":"high-yield-facts","title":"High-Yield Facts & Cheat Sheets","summary":"One-page summaries of must-know facts for quick review and Anki export.","details":"Concise facts for metabolism, membrane transport, acid/base, enzyme kinetics, and signaling. Includes suggested Anki cloze cards and mnemonics.","important":true},{"id":"timing-test-day","title":"Timing, Breaks & Test-Day Logistics","summary":"Practical advice on pacing, stamina, and test-day checklist.","details":"Recommended pacing per section, nutrition and sleep tips, what to bring, and stress management techniques for optimal performance.","important":false}]},{"sectionId":"cell-biology","section_title":"Cell Biology","cards":[{"id":"membrane-structure","title":"Membrane Structure & Fluid Mosaic Model","summary":"Phospholipid bilayers, cholesterol, and membrane protein organization.","details":"Amphipathic phospholipids form bilayers. Membrane fluidity depends on fatty acid saturation and cholesterol content. Integral vs peripheral membrane proteins regulate transport and signaling.","important":true},{"id":"membrane-transport","title":"Membrane Transport Mechanisms","summary":"Passive diffusion, facilitated transport, and active transport.","details":"Simple diffusion, facilitated diffusion (channels/carriers), primary active transport (ATP-dependent), and secondary active transport (symport/antiport). Osmosis and tonicity relationships included.","important":true},{"id":"cytoskeleton","title":"Cytoskeleton & Motor Proteins","summary":"Microfilaments, microtubules, intermediate filaments.","details":"Actin filaments (cell motility), microtubules (kinesin/dynein transport), intermediate filaments (structural integrity). Important in mitosis and intracellular trafficking.","important":false},{"id":"cell-cycle","title":"Cell Cycle & Regulation","summary":"G1, S, G2, M phases and checkpoint control.","details":"Cyclins and CDKs regulate progression. Tumor suppressors (p53, Rb) monitor DNA integrity. Apoptosis mechanisms included.","important":true}]},{"sectionId":"neurobiology","section_title":"Neurobiology","cards":[{"id":"neuron-structure","title":"Neuron Structure & Function","summary":"Dendrites, axon, myelin and synapses.","details":"Neurons transmit electrical signals. Myelination increases conduction velocity. Nodes of Ranvier enable saltatory conduction.","important":true},{"id":"action-potentials","title":"Action Potentials","summary":"Depolarization, repolarization and refractory periods.","details":"Voltage-gated Na+ channels open during depolarization; K+ channels mediate repolarization. All-or-none phenomenon. Absolute and relative refractory periods.","important":true},{"id":"synaptic-transmission","title":"Synaptic Transmission","summary":"Chemical signaling across synapses.","details":"Neurotransmitter release triggered by Ca2+ influx. Excitatory vs inhibitory postsynaptic potentials. Reuptake and degradation mechanisms.","important":true},{"id":"neurotransmitters","title":"Major Neurotransmitters","summary":"Glutamate, GABA, dopamine, serotonin.","details":"Excitatory vs inhibitory transmitters. Roles in reward, mood, motor control, and learning.","important":false}]},{"sectionId":"immunology","section_title":"Immunology","cards":[{"id":"innate-immunity","title":"Innate Immunity","summary":"Immediate, nonspecific defense mechanisms.","details":"Physical barriers, macrophages, neutrophils, NK cells, complement system. Pattern recognition receptors (TLRs).","important":true},{"id":"adaptive-immunity","title":"Adaptive Immunity","summary":"Antigen-specific immune response.","details":"B cells (antibody production), T cells (helper and cytotoxic). Clonal expansion and memory cell formation.","important":true},{"id":"antibodies","title":"Antibody Structure & Classes","summary":"IgG, IgA, IgM, IgE, IgD.","details":"Heavy and light chains, variable regions, antigen binding specificity. Isotype switching and affinity maturation.","important":false}]},{"sectionId":"cognitive-psychology","section_title":"Cognitive Psychology","cards":[{"id":"memory-systems","title":"Memory Systems","summary":"Working, short-term and long-term memory.","details":"Encoding, storage, retrieval processes. Hippocampus role in consolidation. Declarative vs procedural memory.","important":true},{"id":"learning-theories","title":"Learning Theories","summary":"Classical and operant conditioning.","details":"Pavlovian conditioning, reinforcement schedules, extinction, and behavioral shaping.","important":false}]},{"sectionId":"cell-physiology","section_title":"Cell Physiology","cards":[{"id":"membrane-potentials","title":"Membrane Potentials","summary":"Electrical potential differences across cellular membranes.","details":"Resting membrane potential arises from selective permeability to K+ and Na+ and the Na+/K+ ATPase pump. Described quantitatively by the Nernst equation and Goldman equation.","important":true},{"id":"ion-channels","title":"Ion Channels & Gating","summary":"Voltage-gated, ligand-gated, and mechanically gated channels.","details":"Voltage-gated channels respond to membrane potential changes. Ligand-gated channels respond to neurotransmitters or intracellular messengers. Channel kinetics determine excitability.","important":true},{"id":"osmosis-tonicity","title":"Osmosis & Tonicity","summary":"Water movement across semipermeable membranes.","details":"Water moves toward higher solute concentration. Hypotonic, isotonic, and hypertonic environments influence cell volume. Osmotic pressure can be approximated using \u03c0 = iMRT.","important":true},{"id":"signal-transduction","title":"Signal Transduction Pathways","summary":"Cellular communication via receptors and second messengers.","details":"GPCR pathways activate cAMP or IP3/DAG cascades. Receptor tyrosine kinases trigger phosphorylation cascades. Amplification allows small extracellular signals to generate large intracellular responses.","important":true},{"id":"calcium-signaling","title":"Calcium Signaling","summary":"Ca2+ as a universal intracellular second messenger.","details":"Calcium release from ER via IP3 receptors and ryanodine receptors regulates muscle contraction, secretion, and enzyme activation.","important":false},{"id":"apoptosis","title":"Apoptosis & Cell Death","summary":"Programmed cell death pathways.","details":"Intrinsic pathway involves mitochondrial cytochrome c release and caspase activation. Extrinsic pathway involves death receptors (e.g., Fas). Essential for development and homeostasis.","important":false}]}]}'),Kt=()=>{const{categoryId:e}=Se(),t=It.L.find(t=>t.id===e),n=Xt.U.find(t=>t.sectionId===e);return t?(0,Lt.jsxs)("div",{style:{padding:"40px",maxWidth:"1000px"},children:[(0,Lt.jsxs)("header",{style:{borderBottom:"4px solid ".concat(t.color),marginBottom:"20px"},children:[(0,Lt.jsx)("h1",{style:{color:t.color,fontSize:"2.5rem",marginBottom:"10px"},children:t.title}),(0,Lt.jsx)("p",{style:{fontSize:"1.2rem",color:"#555",fontStyle:"italic"},children:t.description})]}),(0,Lt.jsx)(Gt,{categoryId:e,categoryColor:t.color}),"problems"===t.id?(0,Lt.jsx)(Ht,{}):(0,Lt.jsxs)("section",{children:[(0,Lt.jsx)("h2",{style:{color:"#333",marginBottom:"20px",fontSize:"1.5rem"},children:"Topics & Learning Objectives"}),(0,Lt.jsx)("div",{style:{display:"grid",gap:"12px"},children:n&&n.cards.map(e=>(0,Lt.jsx)(Wt,{topic:e,categoryColor:t.color},e.id))})]})]}):(0,Lt.jsx)("div",{style:{padding:40,color:"#ff6b6b",fontSize:"1.2rem"},children:"Category not found."})};class Yt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Qt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},Zt=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Jt=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await fetch(Qt.origin+e,{method:"POST",headers:n,body:t}),r=await i.text(),a=new Yt(i.status,r);if(i.ok)return a;throw a},$t=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},en=e=>e.webdriver||!e.languages||0===e.languages.length,tn=()=>new Yt(451,"Unavailable For Headless Browser"),nn=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},rn=()=>new Yt(403,"Forbidden"),an=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const i=t.id||e,r=await(async(e,t,n)=>{const i=Number(await n.get(e)||0);return t-Date.now()+i})(i,t.throttle,n);return r>0||(await n.set(i,Date.now().toString()),!1)},on=()=>new Yt(429,"Too Many Requests"),sn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=Zt(e);Qt.publicKey=n.publicKey,Qt.blockHeadless=n.blockHeadless,Qt.storageProvider=n.storageProvider,Qt.blockList=n.blockList,Qt.limitRate=n.limitRate,Qt.origin=n.origin||t},ln=async(e,t,n,i)=>{const r=Zt(i),a=r.publicKey||Qt.publicKey,o=r.blockHeadless||Qt.blockHeadless,s=r.storageProvider||Qt.storageProvider,l=c(c({},Qt.blockList),r.blockList),u=c(c({},Qt.limitRate),r.limitRate);if(o&&en(navigator))return Promise.reject(tn());if($t(a,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&nn(l,n))return Promise.reject(rn());if(await an(location.pathname,u,s))return Promise.reject(on());const d={lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:n};return Jt("/api/v1.0/email/send",JSON.stringify(d),{"Content-type":"application/json"})},cn=()=>{const t=(0,e.useRef)(null),[n,i]=(0,e.useState)({name:"",email:"",subject:"",message:""}),[r,a]=(0,e.useState)(null),[o,s]=(0,e.useState)(!1),l=e=>{const{name:t,value:n}=e.target;i(e=>c(c({},e),{},{[t]:n}))};return(0,Lt.jsx)("div",{className:"contact-page",children:(0,Lt.jsxs)("div",{className:"contact-container",children:[(0,Lt.jsxs)("div",{className:"contact-header",children:[(0,Lt.jsx)("h1",{children:"Get in Touch"}),(0,Lt.jsx)("p",{children:"Have questions about biochemistry or this project? I'd love to hear from you!"})]}),(0,Lt.jsxs)("div",{className:"contact-content",children:[(0,Lt.jsxs)("div",{className:"contact-info",children:[(0,Lt.jsx)("h3",{children:"Contact Information"}),(0,Lt.jsxs)("div",{className:"info-item",children:[(0,Lt.jsx)("h4",{children:"Email"}),(0,Lt.jsx)("p",{children:(0,Lt.jsx)("a",{href:"mailto:grantc24@vt.edu",children:"grantc24"})})]}),(0,Lt.jsxs)("div",{className:"info-item",children:[(0,Lt.jsx)("h4",{children:"GitHub"}),(0,Lt.jsx)("p",{children:(0,Lt.jsx)("a",{href:"https://github.com/Gculb",target:"_blank",rel:"noopener noreferrer",children:"github.com"})})]}),(0,Lt.jsxs)("div",{className:"info-item",children:[(0,Lt.jsx)("h4",{children:"LinkedIn"}),(0,Lt.jsx)("p",{children:(0,Lt.jsx)("a",{href:"https://www.linkedin.com/in/grant-c-017666197/",target:"_blank",rel:"noopener noreferrer",children:"linkedin.com"})})]}),(0,Lt.jsxs)("div",{className:"info-item",children:[(0,Lt.jsx)("h4",{children:"About This Project"}),(0,Lt.jsx)("p",{children:"BiochemReact is an interactive learning platform that combines 3D molecular visualization with enzyme kinetics simulations. Perfect for students learning biochemistry and molecular biology."})]})]}),(0,Lt.jsxs)("form",{ref:t,onSubmit:async e=>{e.preventDefault(),s(!0),a(null);try{sn({publicKey:"lZ6xEV2WH0V3cXVlL",limitRate:{id:"contact_form",throttle:50}});var r;if(200===(await ln("service_dkj9h37","template_5xk3n2j",{from_name:n.name,from_email:n.email,subject:n.subject,message:n.message,to_email:"grant.culbertson@example.com",reply_to:n.email})).status)a({type:"success",message:"Message sent successfully! I'll get back to you soon."}),i({name:"",email:"",subject:"",message:""}),null===(r=t.current)||void 0===r||r.reset(),setTimeout(()=>a(null),5e3)}catch($r){console.error("Email error:",$r);const t="mailto:grantc24@vt.edu?subject=".concat(encodeURIComponent(n.subject),"&body=").concat(encodeURIComponent("Name: ".concat(n.name,"\nEmail: ").concat(n.email,"\n\nMessage:\n").concat(n.message)));a({type:"info",message:"Opening your email client to send the message..."}),window.location.href=t}finally{s(!1)}},className:"contact-form",children:[(0,Lt.jsx)("h3",{children:"Send a Message"}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"name",children:"Name *"}),(0,Lt.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:l,required:!0,placeholder:"Your full name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,Lt.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:l,required:!0,placeholder:"your.email@example.com"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"subject",children:"Subject *"}),(0,Lt.jsx)("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:l,required:!0,placeholder:"What is this about?"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"message",children:"Message *"}),(0,Lt.jsx)("textarea",{id:"message",name:"message",value:n.message,onChange:l,required:!0,rows:"6",placeholder:"Tell me your thoughts or questions..."})]}),r&&(0,Lt.jsx)("div",{className:"status-message ".concat(r.type),children:r.message}),(0,Lt.jsx)("button",{type:"submit",disabled:o,className:"submit-btn",children:o?"Sending...":"Send Message"})]})]})]})})},un=()=>(0,Lt.jsx)("div",{className:"about-page",children:(0,Lt.jsxs)("div",{className:"about-container",children:[(0,Lt.jsx)("section",{className:"about-hero",children:(0,Lt.jsxs)("div",{className:"hero-content",children:[(0,Lt.jsx)("h1",{children:"About BiochemReact"}),(0,Lt.jsx)("p",{className:"hero-subtitle",children:"Interactive biochemistry education platform combining 3D visualization with kinetics simulations"})]})}),(0,Lt.jsx)("section",{className:"about-section",children:(0,Lt.jsxs)("div",{className:"section-content",children:[(0,Lt.jsx)("h2",{children:"Our Mission"}),(0,Lt.jsx)("p",{children:"BiochemReact exists to make biochemistry education more engaging and accessible. Rather than learning from static diagrams and equations, students can interact with real 3D molecular structures, run virtual enzyme kinetics experiments, and explore biochemical concepts through hands-on simulation."}),(0,Lt.jsx)("p",{children:"We believe that understanding biochemistry requires both rigorous theory and intuitive visualization. By combining interactive tools with fundamental concepts, we help students build deeper understanding of the molecular world."})]})}),(0,Lt.jsxs)("section",{className:"about-section features-section",children:[(0,Lt.jsx)("h2",{children:"Key Features"}),(0,Lt.jsxs)("div",{className:"features-grid",children:[(0,Lt.jsxs)("div",{className:"feature-card",children:[(0,Lt.jsx)("div",{className:"feature-icon",children:"\ud83d\udd2c"}),(0,Lt.jsx)("h3",{children:"3D Molecular Viewer"}),(0,Lt.jsx)("p",{children:"Interactive three.js-powered visualization of glucose, ATP, amino acids, DNA base pairs, and more. Rotate, zoom, and save your favorite views."})]}),(0,Lt.jsxs)("div",{className:"feature-card",children:[(0,Lt.jsx)("div",{className:"feature-icon",children:"\u2697\ufe0f"}),(0,Lt.jsx)("h3",{children:"Kinetics Lab"}),(0,Lt.jsx)("p",{children:"Simulate Michaelis-Menten enzyme kinetics. Generate synthetic data, add noise, and practice parameter fitting to real biochemical reactions."})]}),(0,Lt.jsxs)("div",{className:"feature-card",children:[(0,Lt.jsx)("div",{className:"feature-icon",children:"\ud83d\udcda"}),(0,Lt.jsx)("h3",{children:"Comprehensive Topics"}),(0,Lt.jsx)("p",{children:"27+ categories covering everything from general chemistry to molecular biology, complete with learning objectives and key concepts."})]}),(0,Lt.jsxs)("div",{className:"feature-card",children:[(0,Lt.jsx)("div",{className:"feature-icon",children:"\ud83d\udcca"}),(0,Lt.jsx)("h3",{children:"Data & Analysis"}),(0,Lt.jsx)("p",{children:"Learn biochemical data analysis with real examples of enzyme kinetics, statistical methods, and experimental design."})]}),(0,Lt.jsxs)("div",{className:"feature-card",children:[(0,Lt.jsx)("div",{className:"feature-icon",children:"\ud83c\udfaf"}),(0,Lt.jsx)("h3",{children:"Practice Problems"}),(0,Lt.jsx)("p",{children:"Sharpen your skills with curated problems and questions across all major biochemistry topics and difficulty levels."})]}),(0,Lt.jsxs)("div",{className:"feature-card",children:[(0,Lt.jsx)("div",{className:"feature-icon",children:"\ud83d\uddfa\ufe0f"}),(0,Lt.jsx)("h3",{children:"Degree Roadmap"}),(0,Lt.jsx)("p",{children:"A suggested four-year curriculum guide for chemistry and biochemistry majors, with semester-by-semester recommendations."})]})]})]}),(0,Lt.jsxs)("section",{className:"about-section tech-section",children:[(0,Lt.jsx)("h2",{children:"Built With Modern Technology"}),(0,Lt.jsxs)("div",{className:"tech-columns",children:[(0,Lt.jsxs)("div",{className:"tech-column",children:[(0,Lt.jsx)("h3",{children:"Frontend Framework"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"React 19.2"})," - Component-based UI"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"React Router 7"})," - Client-side routing"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"React Hooks"})," - State management"]})]})]}),(0,Lt.jsxs)("div",{className:"tech-column",children:[(0,Lt.jsx)("h3",{children:"3D & Visualization"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"Three.js"})," - WebGL 3D graphics"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"Chart.js"})," - Data visualization"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"KaTeX / react-katex"})," - Mathematical equations"]})]})]}),(0,Lt.jsxs)("div",{className:"tech-column",children:[(0,Lt.jsx)("h3",{children:"Tools & Services"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"EmailJS"})," - Client-side email"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"localStorage"})," - View persistence"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"FontAwesome"})," - Icons"]})]})]})]})]}),(0,Lt.jsxs)("section",{className:"about-section creator-section",children:[(0,Lt.jsx)("h2",{children:"About the Creator"}),(0,Lt.jsx)("div",{className:"creator-content",children:(0,Lt.jsxs)("div",{className:"creator-text",children:[(0,Lt.jsxs)("p",{children:["BiochemReact was created by ",(0,Lt.jsx)("strong",{children:"Grant Culbertson"}),", a biochemistry Grad passionate about making complex scientific concepts accessible through interactive learning tools."]}),(0,Lt.jsx)("p",{children:"With a background in chemistry and molecular biology, Grant understands the challenges students face when learning biochemistry. This platform represents a commitment to improving STEM education through technology."}),(0,Lt.jsx)("p",{children:"The project started as a personal learning tool and evolved into a comprehensive educational platform designed to help thousands of students understand biochemistry more deeply and intuitively."}),(0,Lt.jsxs)("div",{className:"creator-links",children:[(0,Lt.jsxs)("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"creator-link",children:[(0,Lt.jsx)("i",{className:"fa-brands fa-github"})," GitHub"]}),(0,Lt.jsxs)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"creator-link",children:[(0,Lt.jsx)("i",{className:"fa-brands fa-linkedin"})," LinkedIn"]}),(0,Lt.jsxs)("a",{href:"mailto:grant.culbertson@example.com",className:"creator-link",children:[(0,Lt.jsx)("i",{className:"fa-solid fa-envelope"})," Email"]})]})]})})]}),(0,Lt.jsxs)("section",{className:"about-section goals-section",children:[(0,Lt.jsx)("h2",{children:"Future Goals"}),(0,Lt.jsxs)("div",{className:"goals-list",children:[(0,Lt.jsxs)("div",{className:"goal-item",children:[(0,Lt.jsx)("h4",{children:"Expand Molecule Library"}),(0,Lt.jsx)("p",{children:"Add hundreds more molecules including complex proteins, drug candidates, and metabolic intermediates"})]}),(0,Lt.jsxs)("div",{className:"goal-item",children:[(0,Lt.jsx)("h4",{children:"Advanced Lab Simulations"}),(0,Lt.jsx)("p",{children:"Create virtual labs for PCR, chromatography, gel electrophoresis, and spectroscopy"})]}),(0,Lt.jsxs)("div",{className:"goal-item",children:[(0,Lt.jsx)("h4",{children:"AI-Powered Tutoring"}),(0,Lt.jsx)("p",{children:"Implement intelligent tutoring system to provide personalized learning recommendations"})]}),(0,Lt.jsxs)("div",{className:"goal-item",children:[(0,Lt.jsx)("h4",{children:"Mobile Applications"}),(0,Lt.jsx)("p",{children:"Develop native iOS and Android apps for learning on the go"})]}),(0,Lt.jsxs)("div",{className:"goal-item",children:[(0,Lt.jsx)("h4",{children:"Community Features"}),(0,Lt.jsx)("p",{children:"Enable students to share discoveries, discuss problems, and collaborate on learning"})]}),(0,Lt.jsxs)("div",{className:"goal-item",children:[(0,Lt.jsx)("h4",{children:"University Partnerships"}),(0,Lt.jsx)("p",{children:"Work with universities to integrate BiochemReact into official curricula"})]})]})]}),(0,Lt.jsxs)("section",{className:"about-cta",children:[(0,Lt.jsx)("h2",{children:"Ready to Learn?"}),(0,Lt.jsx)("p",{children:"Explore 3D molecules, run virtual labs, and master biochemistry concepts"}),(0,Lt.jsxs)("div",{className:"cta-buttons",children:[(0,Lt.jsx)("a",{href:"/#/viewer",className:"cta-btn primary",children:"Launch 3D Viewer"}),(0,Lt.jsx)("a",{href:"/#/lab",className:"cta-btn secondary",children:"Try Virtual Lab"}),(0,Lt.jsx)("a",{href:"/#/contact",className:"cta-btn secondary",children:"Get in Touch"})]})]})]})}),dn=e=>{let{resource:t}=e;return(0,Lt.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"resource-card",children:[(0,Lt.jsxs)("div",{className:"card-header",children:[(0,Lt.jsx)("h3",{children:t.title}),(0,Lt.jsx)("i",{className:"fa-solid fa-arrow-up-right-from-square"})]}),(0,Lt.jsx)("p",{className:"card-description",children:t.description}),(0,Lt.jsx)("div",{className:"card-tags",children:t.tags.map((e,t)=>(0,Lt.jsx)("span",{className:"resource-tag",children:e},t))})]})},hn=()=>{const e={databases:[{title:"RCSB Protein Data Bank",url:"https://www.rcsb.org/",description:"Repository of 3D structures of proteins, nucleic acids, and complexes. Essential for visualizing real biomolecules.",tags:["3D Structures","Proteins","DNA/RNA"]},{title:"PubMed",url:"https://pubmed.ncbi.nlm.nih.gov/",description:"Free full-text archive of biomedical and life sciences journal literature. Search 35+ million citations.",tags:["Research Papers","Citations","Articles"]},{title:"UniProt",url:"https://www.uniprot.org/",description:"Comprehensive, high-quality protein sequence and functional information. Essential reference for protein research.",tags:["Proteins","Sequences","Function"]},{title:"NCBI Sequence Database",url:"https://www.ncbi.nlm.nih.gov/",description:"National Center for Biotechnology Information\u2014comprehensive bioinformatics resource for DNA, RNA, and protein sequences.",tags:["Bioinformatics","Sequences","Tools"]},{title:"Kyoto Encyclopedia of Genes and Genomes (KEGG)",url:"https://www.kegg.jp/",description:"Database of biological pathways, genetic information, and chemical compounds. Great for understanding metabolic routes.",tags:["Pathways","Metabolism","Reactions"]},{title:"ExPASy",url:"https://www.expasy.org/",description:"Swiss bioinformatics resource portal with tools for sequence analysis, protein structure, and enzyme databases.",tags:["Proteins","Enzymes","Analysis Tools"]}],visualization:[{title:"Mol*",url:"https://molstar.org/",description:"Modern, powerful 3D molecular visualization framework. Used by RCSB PDB. Supports protein structures and molecular data.",tags:["3D Visualization","Web-based","Molecules"]},{title:"NGL Viewer",url:"https://nglviewer.org/",description:"WebGL-based molecular viewer for large protein complexes. Fast rendering of biomolecular structures.",tags:["3D Visualization","Web-based","Large Structures"]},{title:"PyMOL",url:"https://pymol.org/",description:"Professional molecular visualization software. Industry standard for research and education. Desktop application.",tags:["3D Visualization","Desktop","Advanced"]},{title:"SWISS-PdbViewer",url:"https://spdbv.ucsf.edu/",description:"User-friendly tool for viewing and analyzing 3D structures of biological macromolecules.",tags:["3D Visualization","Structure Analysis"]},{title:"Chimera/ChimeraX",url:"https://www.rbvi.ucsf.edu/chimerax/",description:"Visualization system for interactive exploration of structures, sequences, and related data.",tags:["3D Visualization","Advanced Analysis"]},{title:"JSmol",url:"https://jsmol.sourceforge.net/",description:"JavaScript-based molecular viewer compatible with desktop viewers. Great for web integration.",tags:["3D Visualization","JavaScript","Web-based"]}],labs:[{title:"PhET Interactive Simulations",url:"https://phet.colorado.edu/",description:"Free interactive simulations covering chemistry, physics, and biology. Excellent for hands-on learning.",tags:["Virtual Lab","Simulations","Interactive"]},{title:"Labster Virtual Labs",url:"https://www.labster.com/",description:"Immersive virtual lab platform for chemistry and biology. Covers enzyme kinetics, fermentation, and more.",tags:["Virtual Lab","Simulations","Premium"]},{title:"OpenStax Biology & Chemistry",url:"https://openstax.org/",description:"Free, peer-reviewed textbooks with integrated simulations and interactive elements for biology and chemistry.",tags:["Textbooks","Simulations","Free"]},{title:"Khan Academy: Biochemistry",url:"https://www.khanacademy.org/science/chemistry",description:"Free video tutorials on chemistry and biochemistry topics, with practice problems and explanations.",tags:["Video Tutorials","Practice Problems","Free"]},{title:"Biology Online",url:"https://www.biology-online.org/",description:"Virtual laboratory with experiments and 3D models for biology and chemistry education.",tags:["Virtual Lab","3D Models"]}],learning:[{title:"LibreTexts Chemistry",url:"https://chem.libretexts.org/",description:"Comprehensive, free chemistry textbook with detailed explanations, examples, and interactive content.",tags:["Textbook","Free","Comprehensive"]},{title:"LibreTexts Biology",url:"https://bio.libretexts.org/",description:"Free biology textbook covering molecular biology, biochemistry, genetics, and cell biology.",tags:["Textbook","Free","Comprehensive"]},{title:"Enzyme Kinetics Visualizer",url:"https://en.wikipedia.org/wiki/Michaelis%E2%80%93Menten_kinetics",description:"Wikipedia overview of Michaelis-Menten kinetics with equations, graphs, and historical context.",tags:["Enzyme Kinetics","Theory","Reference"]},{title:"Berg, Tymoczko & Stryer's Biochemistry",url:"https://www.macmillanlearning.com/college/us/product/Biochemistry/p/1319114881",description:"Standard biochemistry textbook used in universities worldwide. Available in free and premium versions.",tags:["Textbook","Advanced","Reference"]},{title:"Molecular Biology of the Cell (Alberts)",url:"https://www.garlandscience.com/product/molecular-biology-of-the-cell/",description:"Authoritative textbook on cellular and molecular biology. Essential reference for advanced studies.",tags:["Textbook","Advanced","Reference"]},{title:"Campbell Biology",url:"https://www.pearson.com/en-us/subject-catalog/p/campbell-biology/P200000003378",description:"Comprehensive introductory biology textbook with chapters on biochemistry and molecular biology.",tags:["Textbook","Introductory","Comprehensive"]}],tools:[{title:"NCBI BLAST",url:"https://blast.ncbi.nlm.nih.gov/",description:"Compare protein or nucleotide sequences to find similarities. Essential bioinformatics tool.",tags:["Sequence Analysis","Bioinformatics","Free"]},{title:"Clustal Omega",url:"https://www.ebi.ac.uk/Tools/msa/clustalo/",description:"Multiple sequence alignment tool for comparing and analyzing protein/DNA sequences.",tags:["Sequence Analysis","Alignment","Free"]},{title:"SWISS-MODEL",url:"https://swissmodel.expasy.org/",description:"Automated protein structure homology modeling. Predict 3D structures from amino acid sequences.",tags:["Structure Prediction","Modeling","Free"]},{title:"Jmol",url:"http://jmol.sourceforge.net/",description:"Open-source Java viewer for 3D chemical structures, utilized in many educational websites.",tags:["3D Visualization","Open Source","Educational"]},{title:"ImageJ",url:"https://imagej.net/",description:"Open-source image analysis software. Useful for analyzing experimental data and microscopy images.",tags:["Image Analysis","Data Analysis","Open Source"]},{title:"GraphPad Prism",url:"https://www.graphpad.com/",description:"Data analysis and visualization software widely used in life sciences research.",tags:["Data Analysis","Statistics","Premium"]}]};return(0,Lt.jsx)("div",{className:"resources-page",children:(0,Lt.jsxs)("div",{className:"resources-container",children:[(0,Lt.jsx)("section",{className:"resources-hero",children:(0,Lt.jsxs)("div",{className:"hero-content",children:[(0,Lt.jsx)("h1",{children:"Resources & Links"}),(0,Lt.jsx)("p",{className:"hero-subtitle",children:"Curated collection of databases, visualization tools, virtual labs, and learning resources for biochemistry and molecular biology"})]})}),(0,Lt.jsxs)("section",{className:"resources-section",children:[(0,Lt.jsxs)("div",{className:"section-header",children:[(0,Lt.jsxs)("h2",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-database"})," Databases & Molecular References"]}),(0,Lt.jsx)("p",{children:"Access authoritative biological databases and molecular structure repositories"})]}),(0,Lt.jsx)("div",{className:"resources-grid",children:e.databases.map((e,t)=>(0,Lt.jsx)(dn,{resource:e},t))})]}),(0,Lt.jsxs)("section",{className:"resources-section",children:[(0,Lt.jsxs)("div",{className:"section-header",children:[(0,Lt.jsxs)("h2",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-cube"})," 3D Visualization Tools"]}),(0,Lt.jsx)("p",{children:"Professional and educational tools for visualizing molecular structures"})]}),(0,Lt.jsx)("div",{className:"resources-grid",children:e.visualization.map((e,t)=>(0,Lt.jsx)(dn,{resource:e},t))})]}),(0,Lt.jsxs)("section",{className:"resources-section",children:[(0,Lt.jsxs)("div",{className:"section-header",children:[(0,Lt.jsxs)("h2",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-flask-vial"})," Virtual Labs & Simulations"]}),(0,Lt.jsx)("p",{children:"Interactive simulations and hands-on learning experiences"})]}),(0,Lt.jsx)("div",{className:"resources-grid",children:e.labs.map((e,t)=>(0,Lt.jsx)(dn,{resource:e},t))})]}),(0,Lt.jsxs)("section",{className:"resources-section",children:[(0,Lt.jsxs)("div",{className:"section-header",children:[(0,Lt.jsxs)("h2",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-book"})," Learning Resources & Textbooks"]}),(0,Lt.jsx)("p",{children:"Comprehensive textbooks, courses, and reference materials"})]}),(0,Lt.jsx)("div",{className:"resources-grid",children:e.learning.map((e,t)=>(0,Lt.jsx)(dn,{resource:e},t))})]}),(0,Lt.jsxs)("section",{className:"resources-section",children:[(0,Lt.jsxs)("div",{className:"section-header",children:[(0,Lt.jsxs)("h2",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-screwdriver"})," Analysis & Bioinformatics Tools"]}),(0,Lt.jsx)("p",{children:"Sequence analysis, structure prediction, and data analysis tools"})]}),(0,Lt.jsx)("div",{className:"resources-grid",children:e.tools.map((e,t)=>(0,Lt.jsx)(dn,{resource:e},t))})]}),(0,Lt.jsxs)("section",{className:"resources-tips",children:[(0,Lt.jsx)("h2",{children:"Tips for Using These Resources"}),(0,Lt.jsxs)("div",{className:"tips-grid",children:[(0,Lt.jsxs)("div",{className:"tip-card",children:[(0,Lt.jsxs)("h3",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-lightbulb"})," For Protein 3D Structures"]}),(0,Lt.jsx)("p",{children:"Start with RCSB PDB, use Mol* or PyMOL to visualize structures, then explore related structures and literature."})]}),(0,Lt.jsxs)("div",{className:"tip-card",children:[(0,Lt.jsxs)("h3",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-lightbulb"})," For Learning Biochemistry"]}),(0,Lt.jsx)("p",{children:"Combine textbooks (LibreTexts, Campbell Biology) with virtual labs (PhET, OpenStax) and this platform for interactive practice."})]}),(0,Lt.jsxs)("div",{className:"tip-card",children:[(0,Lt.jsxs)("h3",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-lightbulb"})," For Research"]}),(0,Lt.jsx)("p",{children:"Use BLAST for sequence comparison, PubMed for literature, and UniProt for protein function information."})]}),(0,Lt.jsxs)("div",{className:"tip-card",children:[(0,Lt.jsxs)("h3",{children:[(0,Lt.jsx)("i",{className:"fa-solid fa-lightbulb"})," For Bioinformatics"]}),(0,Lt.jsx)("p",{children:"Combine NCBI tools (BLAST, FASTA), multiple sequence alignment (Clustal), and structure prediction (SWISS-MODEL)."})]})]})]})]})})},pn=JSON.parse('{"a":[{"term":"Adenosine Triphosphate (ATP)","category":"Energy & Metabolism","definition":"The primary energy currency of cells. Hydrolysis of the phosphoanhydride bond releases ~30.5 kJ/mol of energy under standard conditions, driving most cellular processes.","example":"ATP hydrolysis to ADP + Pi powers muscle contraction, active transport, and protein synthesis."},{"term":"Amino Acid","category":"Proteins","definition":"Organic molecule containing an amino group (-NH2), a carboxyl group (-COOH), and a variable side chain (R group) bonded to a central carbon. The building blocks of proteins.","example":"The 20 standard amino acids include alanine, glycine, glutamate, and tryptophan."},{"term":"Enzyme","category":"Catalysis","definition":"A protein (or RNA) catalyst that accelerates biochemical reactions by lowering the activation energy without being consumed in the reaction.","example":"Lactase breaks down lactose into glucose and galactose in the small intestine."},{"term":"Substrate","category":"Catalysis","definition":"The molecule or molecules upon which an enzyme acts. Substrates bind to the enzyme\'s active site to form an enzyme-substrate complex before catalysis occurs.","example":"In the reaction catalyzed by amylase, the substrate is starch."},{"term":"Michaelis-Menten Kinetics","category":"Enzyme Kinetics","definition":"A steady-state model describing enzyme-catalyzed reactions. The rate of reaction depends on enzyme concentration, substrate concentration, and two key parameters: Km (Michaelis constant) and Vmax (maximum velocity).","example":"v = (Vmax \xd7 [S]) / (Km + [S])"},{"term":"Km (Michaelis Constant)","category":"Enzyme Kinetics","definition":"The substrate concentration at which the reaction rate is half of Vmax. A measure of the enzyme\'s affinity for its substrate\u2014lower Km indicates higher affinity.","example":"Hexokinase has a Km of ~0.1 mM for glucose, indicating tight binding."},{"term":"Vmax (Maximum Velocity)","category":"Enzyme Kinetics","definition":"The maximum rate of an enzyme-catalyzed reaction, achieved when all enzyme molecules are saturated with substrate. Proportional to enzyme concentration (Vmax = kcat \xd7 [E]total).","example":"If enzyme concentration doubles, Vmax doubles."},{"term":"kcat (Turnover Number)","category":"Enzyme Kinetics","definition":"The number of substrate molecules converted to product per enzyme molecule per unit time when the enzyme is fully saturated. Also called molecular activity.","example":"Catalase has a kcat of ~4 \xd7 10^6 s\u207b\xb9 for H\u2082O\u2082, one of the fastest known enzymes."},{"term":"Activation Energy","category":"Thermodynamics","definition":"The minimum energy required for a chemical reaction to proceed. Enzymes work by lowering the activation energy, making reactions proceed faster at physiological temperatures.","example":"The activation energy for glucose oxidation without enzymes is high; with enzymes, it\'s much lower."},{"term":"Metabolic Pathway","category":"Metabolism","definition":"A series of chemical reactions catalyzed by enzymes that converts substrate molecules into products. Examples include glycolysis, the citric acid cycle, and oxidative phosphorylation.","example":"Glycolysis is a 10-step pathway converting glucose to pyruvate."},{"term":"Glycolysis","category":"Metabolism","definition":"A metabolic pathway in the cytoplasm that converts glucose (C6) into two pyruvate molecules (C3), generating 2 net ATP and 2 NADH. The first stage of cellular respiration.","example":"Glucose \u2192 2 Pyruvate + 2 ATP + 2 NADH in 10 enzymatic steps."},{"term":"Citric Acid Cycle (Krebs Cycle, TCA Cycle)","category":"Metabolism","definition":"A cyclic metabolic pathway in the mitochondria that oxidizes acetyl-CoA to CO\u2082 while generating reducing equivalents (NADH, FADH\u2082) for the electron transport chain.","example":"Each acetyl-CoA that enters produces 3 NADH, 1 FADH\u2082, and 1 GTP."},{"term":"Oxidative Phosphorylation","category":"Metabolism","definition":"The process by which ATP is synthesized using the proton gradient generated by the electron transport chain across the inner mitochondrial membrane.","example":"NADH and FADH\u2082 donate electrons to the electron transport chain, driving ATP synthesis."},{"term":"NAD+ / NADH","category":"Coenzymes","definition":"Nicotinamide adenine dinucleotide (oxidized/reduced form). A coenzyme that accepts electrons in oxidative reactions; serves as an electron carrier in metabolism.","example":"Glyceraldehyde-3-phosphate dehydrogenase oxidizes G3P to 1,3-bisphosphoglycerate, reducing NAD+ to NADH."},{"term":"FAD / FADH\u2082","category":"Coenzymes","definition":"Flavin adenine dinucleotide (oxidized/reduced form). A coenzyme that accepts electrons and protons; important electron carrier in the electron transport chain.","example":"FADH\u2082 from succinate dehydrogenase feeds electrons directly into Complex II of the electron transport chain."},{"term":"Coenzyme","category":"Coenzymes","definition":"A non-protein organic molecule that assists enzymes in catalysis. Often derived from vitamins (e.g., NAD+ from niacin, FAD from riboflavin).","example":"Thiamine pyrophosphate (TPP) is a coenzyme for pyruvate dehydrogenase."},{"term":"Cofactor","category":"Catalysis","definition":"A non-protein substance required for enzyme activity, including metal ions (Mg2+, Zn2+, Fe2+) and coenzymes (NAD+, FAD).","example":"Carbonic anhydrase requires a Zn2+ ion in its active site."},{"term":"Acetyl-CoA","category":"Metabolic Intermediates","definition":"Acetyl coenzyme A; a central metabolic molecule linking glycolysis to the citric acid cycle. Carries a 2-carbon acetyl group for oxidation in the TCA cycle.","example":"Pyruvate from glycolysis is oxidized to form Acetyl-CoA, which enters the citric acid cycle."},{"term":"Glucose","category":"Carbohydrates","definition":"A 6-carbon monosaccharide (C\u2086H\u2081\u2082O\u2086) and the primary fuel molecule for cellular energy. Exists in both open-chain (aldehyde) and cyclic (pyranose) forms.","example":"Blood glucose is tightly regulated between 70-100 mg/dL in fasting state."},{"term":"Glycogen","category":"Carbohydrates","definition":"A branched polymer of glucose stored in liver and muscle cells as an energy reserve. Rapidly mobilized during fasting or exercise.","example":"Liver glycogen is depleted to maintain blood glucose during fasting."},{"term":"Cholesterol","category":"Lipids","definition":"A sterol lipid (C\u2082\u2087H\u2084\u2086O) essential for cell membrane structure and as a precursor for steroid hormones and vitamin D. Synthesized primarily in the liver.","example":"Cholesterol is a major component of lipid rafts in cell membranes."},{"term":"Fatty Acid","category":"Lipids","definition":"Long-chain carboxylic acids with hydrophobic tails. Can be saturated (no double bonds) or unsaturated (with C=C double bonds). Stored as triglycerides or used for energy via \u03b2-oxidation.","example":"Palmitic acid (C16:0) is a common saturated fatty acid; oleic acid (C18:1) is unsaturated."},{"term":"Beta-Oxidation (\u03b2-Oxidation)","category":"Metabolism","definition":"Metabolic pathway in mitochondria that breaks down fatty acids into 2-carbon acetyl-CoA units, generating NADH and FADH\u2082 for energy production.","example":"Palmitate undergoes 7 rounds of \u03b2-oxidation to yield 8 acetyl-CoA."},{"term":"Protein Synthesis","category":"Gene Expression","definition":"The process of building proteins from mRNA using ribosomes and tRNA. Consists of initiation, elongation, and termination phases.","example":"A 100-amino acid protein requires ~300 nucleotides of mRNA."},{"term":"Translation","category":"Gene Expression","definition":"The process by which ribosomes decode mRNA and synthesize proteins. Occurs on ribosomes in the ribosome-mRNA complex using tRNA anticodon-codon pairing.","example":"Initiation begins with the start codon AUG; termination occurs at stop codons UAA, UAG, UGA."},{"term":"Transcription","category":"Gene Expression","definition":"The process by which RNA polymerase synthesizes mRNA from a DNA template. Occurs in the nucleus in eukaryotes and in the cytoplasm in prokaryotes.","example":"RNA polymerase II transcribes protein-coding genes in eukaryotes."},{"term":"DNA","category":"Nucleic Acids","definition":"Deoxyribonucleic acid; a double-stranded polynucleotide that stores genetic information. Based on the four deoxyribose sugars with A, T, G, C nitrogenous bases.","example":"The human genome contains ~3 billion base pairs."},{"term":"RNA","category":"Nucleic Acids","definition":"Ribonucleic acid; a single-stranded polynucleotide with ribose sugar and A, U, G, C bases. Multiple functional forms: mRNA, tRNA, rRNA.","example":"mRNA carries genetic information; tRNA delivers amino acids; rRNA catalyzes peptide bond formation."},{"term":"ATP Synthase","category":"Membrane Proteins","definition":"A transmembrane protein complex in mitochondria, chloroplasts, and bacteria that synthesizes ATP using the proton gradient. Rotates using the electrochemical potential.","example":"ATP synthase can produce ~100 ATP molecules per second per complex."},{"term":"Active Transport","category":"Membrane Transport","definition":"Movement of molecules against the concentration gradient using ATP energy. Mediated by transport proteins like Ca\xb2\u207a-ATPase and Na\u207a/K\u207a-ATPase.","example":"The Na\u207a/K\u207a-ATPase pumps 3 Na\u207a out and 2 K\u207a in per ATP hydrolyzed."},{"term":"Passive Transport","category":"Membrane Transport","definition":"Movement of molecules down the concentration gradient without energy input. Includes simple diffusion and facilitated diffusion.","example":"Glucose enters red blood cells via facilitated diffusion through GLUT1 transporter."},{"term":"Osmosis","category":"Solution Chemistry","definition":"The movement of solvent molecules across a semipermeable membrane toward the side with higher solute concentration. Driven by differences in water potential.","example":"Water moves into a hypertonic solution, causing cell swelling."},{"term":"pH","category":"Solution Chemistry","definition":"A measure of hydrogen ion concentration; pH = -log[H\u207a]. pH < 7 is acidic, pH = 7 is neutral, pH > 7 is basic. Physiological pH is ~7.4.","example":"Stomach acid has pH ~2; blood has pH ~7.4."},{"term":"Buffer","category":"Solution Chemistry","definition":"A solution that resists changes in pH when acid or base is added. Typically consists of a weak acid and its conjugate base (or weak base and conjugate acid).","example":"The phosphate buffer (H\u2082PO\u2084\u207b/HPO\u2084\xb2\u207b) maintains pH in cells."},{"term":"Hemoglobin","category":"Proteins","definition":"A tetrameric (4-subunit) protein in red blood cells that binds and transports oxygen. Contains heme groups with iron (Fe\xb2\u207a) at the center.","example":"Hemoglobin releases oxygen in tissues and is regenerated by O\u2082 binding in the lungs."},{"term":"Enzyme Inhibition","category":"Catalysis","definition":"A process that decreases enzyme activity. Can be competitive (inhibitor competes with substrate), non-competitive (inhibitor binds elsewhere), or irreversible.","example":"Cyanide irreversibly inhibits cytochrome c oxidase, stopping the electron transport chain."},{"term":"Allosteric Regulation","category":"Enzyme Regulation","definition":"Regulation of enzyme activity through binding of regulatory molecules at a site different from the active site, causing conformational changes.","example":"Phosphofructokinase in glycolysis is allosterically inhibited by ATP and citrate (feedback inhibition)."},{"term":"Feedback Inhibition","category":"Enzyme Regulation","definition":"A regulatory mechanism where the end product of a metabolic pathway inhibits an earlier step in the pathway, preventing overproduction.","example":"Excess ATP inhibits phosphofructokinase, slowing glycolysis when energy is abundant."},{"term":"Prosthetic Group","category":"Proteins","definition":"A non-protein organic or inorganic molecular group that binds permanently to a protein and is essential for its function.","example":"The heme group in hemoglobin and myoglobin."},{"term":"Hydrogen Bond","category":"Chemical Bonds","definition":"A weak interaction between a hydrogen atom bonded to an electronegative atom (N, O, F) and another electronegative atom. Critical for protein structure and base pairing.","example":"Watson-Crick base pairs (A-T has 2 H-bonds; G-C has 3 H-bonds) stabilize DNA structure."},{"term":"Disulfide Bond","category":"Chemical Bonds","definition":"A covalent bond between two cysteine residues (-S-S-) that can stabilize protein tertiary and quaternary structure.","example":"Insulin has 3 disulfide bonds linking its A and B chains."},{"term":"Peptide Bond","category":"Chemical Bonds","definition":"A covalent bond linking the carboxyl group of one amino acid to the amino group of the next, forming the backbone of proteins.","example":"A tripeptide has 2 peptide bonds connecting 3 amino acids."},{"term":"Denaturation","category":"Protein Chemistry","definition":"The loss of protein structure due to disruption of non-covalent interactions, typically caused by heat, pH extremes, or organic solvents.","example":"Boiling an egg denatures egg white proteins, making them opaque."},{"term":"Phosphorylation","category":"Protein Modification","definition":"Addition of a phosphate group (PO\u2083\xb2\u207b) to a protein, typically on serine, threonine, or tyrosine residues. Common modification for regulating enzyme activity.","example":"Glycogen phosphorylase is activated by phosphorylation during the \'fight or flight\' response."},{"term":"Photosynthesis","category":"Metabolism","definition":"The process by which plants and photosynthetic organisms convert light energy, CO\u2082, and H\u2082O into glucose and O\u2082. Occurs in chloroplasts.","example":"The light reactions occur in the thylakoid; the Calvin cycle occurs in the stroma."},{"term":"Electron Transport Chain (ETC)","category":"Metabolism","definition":"A series of protein complexes (I-IV) in the inner mitochondrial membrane that transfer electrons from NADH and FADH\u2082 to O\u2082, pumping protons and generating the proton gradient.","example":"Complex I oxidizes NADH; Complex IV reduces O\u2082 to water."},{"term":"Fermentation","category":"Metabolism","definition":"An anaerobic metabolic pathway that regenerates NAD+ from NADH without using oxygen, allowing glycolysis to continue in the absence of O\u2082.","example":"Lactate fermentation in muscles during intense exercise; ethanol fermentation in yeast."},{"term":"Lactate","category":"Metabolic Intermediates","definition":"The 3-carbon anion formed when pyruvate is reduced during lactate fermentation. Accumulates in muscles during intense exercise.","example":"Lactate is converted back to glucose in the liver via gluconeogenesis (the Cori cycle)."},{"term":"Gluconeogenesis","category":"Metabolism","definition":"The synthesis of new glucose from non-carbohydrate precursors (lactate, amino acids, glycerol) in the liver. Critical for maintaining blood glucose during fasting.","example":"Lactate from muscles is gluconeogenized to glucose in the liver during fasting."},{"term":"Glycogenesis","category":"Metabolism","definition":"The synthesis of glycogen from glucose. Occurs primarily in liver and muscle when glucose is abundant.","example":"After a carbohydrate-rich meal, excess glucose is converted to glycogen for storage."},{"term":"Glycogenolysis","category":"Metabolism","definition":"The breakdown of glycogen to glucose (in liver) or glucose-6-phosphate (in muscle) for energy production.","example":"During fasting, liver glycogenolysis maintains blood glucose until glycogen is depleted."},{"term":"Lipogenesis","category":"Metabolism","definition":"The synthesis of fatty acids from acetyl-CoA and malonyl-CoA in the fed state. Occurs primarily in liver and adipose tissue.","example":"Excess carbohydrate and protein are converted to fatty acids when energy intake exceeds expenditure."},{"term":"Lipolysis","category":"Metabolism","definition":"The breakdown of triglycerides into glycerol and fatty acids, typically occurring during fasting or exercise.","example":"Epinephrine activates hormone-sensitive lipase in adipose tissue, triggering lipolysis."},{"term":"Mitochondrion","category":"Cellular Structure","definition":"The \'powerhouse of the cell\'; an organelle where the citric acid cycle, oxidative phosphorylation, and fatty acid oxidation occur.","example":"Muscle cells have thousands of mitochondria to supply energy for contraction."},{"term":"Chloroplast","category":"Cellular Structure","definition":"An organelle in plant cells where photosynthesis occurs. Contains thylakoids (light reactions) and stroma (Calvin cycle).","example":"Chloroplasts are double-membraned organelles with their own DNA."},{"term":"Ribosome","category":"Cellular Structure","definition":"The cellular machine that synthesizes proteins, consisting of rRNA and ribosomal proteins. 70S in prokaryotes, 80S in eukaryotes.","example":"Ribosomes decode mRNA and catalyze peptide bond formation during translation."},{"term":"Substrate-Level Phosphorylation","category":"Energy Production","definition":"Direct synthesis of ATP from ADP using energy from a substrate. Occurs in glycolysis and the citric acid cycle.","example":"In glycolysis, 1,3-bisphosphoglycerate transfers its phosphate to ADP, forming ATP."},{"term":"Chemiosmosis","category":"Energy Production","definition":"The synthesis of ATP driven by the proton gradient across the inner mitochondrial membrane. Proposed by Peter Mitchell.","example":"The electrochemical potential of ~180 mV drives ATP synthase to produce ATP."},{"term":"Glycolytic Enzymes","category":"Metabolism / Enzyme Kinetics","definition":"Key enzymes that catalyze steps in glycolysis, often regulated allosterically or via covalent modification.","example":"Hexokinase, phosphofructokinase-1 (PFK-1), and pyruvate kinase are rate-limiting glycolytic enzymes."},{"term":"Pyruvate Dehydrogenase Complex (PDC)","category":"Metabolism / Metabolic Intermediates","definition":"A multi-enzyme complex that converts pyruvate to acetyl-CoA, linking glycolysis to the citric acid cycle. Requires TPP, lipoamide, FAD, CoA, and NAD+.","example":"Pyruvate + CoA + NAD\u207a \u2192 Acetyl-CoA + CO\u2082 + NADH."},{"term":"Ketogenesis","category":"Metabolism","definition":"The formation of ketone bodies (acetoacetate, \u03b2-hydroxybutyrate, acetone) in the liver during prolonged fasting or low-carbohydrate intake.","example":"Fatty acids are converted to acetyl-CoA, which is then used to produce ketone bodies for energy in the brain."},{"term":"Glucagon","category":"Hormones / Metabolic Regulation","definition":"A peptide hormone secreted by pancreatic \u03b1-cells that raises blood glucose by stimulating glycogenolysis and gluconeogenesis.","example":"During fasting, glucagon promotes liver glycogen breakdown to maintain plasma glucose."},{"term":"Insulin","category":"Hormones / Metabolic Regulation","definition":"A peptide hormone secreted by pancreatic \u03b2-cells that lowers blood glucose by promoting glucose uptake, glycogenesis, and lipogenesis.","example":"After a carbohydrate-rich meal, insulin stimulates GLUT4-mediated glucose uptake in muscle and adipose tissue."},{"term":"AMP-Activated Protein Kinase (AMPK)","category":"Metabolic Regulation","definition":"A cellular energy sensor activated by high AMP/ATP ratio; stimulates catabolic pathways and inhibits anabolic pathways to restore energy balance.","example":"AMPK activates glucose uptake and fatty acid oxidation during low-energy states."},{"term":"G-Protein Coupled Receptors (GPCRs)","category":"Cell Signaling","definition":"Membrane receptors that activate heterotrimeric G-proteins upon ligand binding, initiating second-messenger signaling (cAMP, IP\u2083/DAG).","example":"Epinephrine binds \u03b2-adrenergic receptors to activate adenylate cyclase via Gs proteins."},{"term":"Second Messengers","category":"Cell Signaling","definition":"Intracellular molecules that relay signals from receptors to target proteins, amplifying the signal. Common examples include cAMP, cGMP, IP\u2083, DAG, and Ca\xb2\u207a.","example":"cAMP activates protein kinase A (PKA), which phosphorylates target proteins."},{"term":"Protein Kinase / Phosphatase","category":"Protein Modification / Enzyme Regulation","definition":"Protein kinases add phosphate groups to proteins; phosphatases remove them. These reversible modifications regulate protein activity and signaling pathways.","example":"PKA phosphorylates glycogen phosphorylase kinase, activating glycogen breakdown."},{"term":"Oxidative Stress","category":"Cellular Biology / Redox Biology","definition":"Imbalance between reactive oxygen species (ROS) production and antioxidant defense, leading to cellular damage.","example":"Superoxide dismutase converts superoxide radicals to hydrogen peroxide, reducing oxidative stress."},{"term":"Pentose Phosphate Pathway (PPP)","category":"Metabolism","definition":"A cytosolic pathway that generates NADPH for biosynthesis and ribose-5-phosphate for nucleotide synthesis.","example":"Glucose-6-phosphate \u2192 NADPH + ribose-5-phosphate; important in rapidly dividing cells."},{"term":"Fructose-2,6-Bisphosphate","category":"Metabolic Regulation","definition":"A potent allosteric activator of phosphofructokinase-1 (glycolysis) and inhibitor of fructose-1,6-bisphosphatase (gluconeogenesis).","example":"High F2,6BP levels favor glycolysis over gluconeogenesis in the fed state."},{"term":"Acid-Base Regulation","category":"Physiology / Solution Chemistry","definition":"The control of blood pH (~7.4) through buffer systems, respiratory CO\u2082 removal, and renal H\u207a/HCO\u2083\u207b handling.","example":"Carbonic anhydrase facilitates CO\u2082 + H\u2082O \u21cc H\u2082CO\u2083 \u21cc H\u207a + HCO\u2083\u207b."},{"term":"Zymogen","category":"Enzyme Regulation","definition":"An inactive precursor of an enzyme that requires cleavage to become active. Prevents uncontrolled enzymatic activity.","example":"Trypsinogen (from pancreas) is converted to trypsin in the small intestine."},{"term":"Ubiquitination","category":"Protein Modification","definition":"Covalent attachment of ubiquitin to lysine residues on proteins, targeting them for degradation via the proteasome.","example":"Misfolded proteins in the ER are ubiquitinated and degraded by the 26S proteasome."},{"term":"Signal Peptide","category":"Protein Targeting","definition":"Short N-terminal amino acid sequence that directs a nascent protein to the ER for secretion or membrane insertion.","example":"Secreted hormones like insulin are synthesized with an ER signal peptide."},{"term":"Lipid Rafts","category":"Membrane Structure","definition":"Cholesterol- and sphingolipid-rich microdomains in the plasma membrane that organize signaling molecules.","example":"Receptors and G-proteins localize in lipid rafts to enhance signaling efficiency."},{"term":"Chaperone Proteins","category":"Protein Folding","definition":"Proteins that assist the correct folding of other proteins, prevent aggregation, and aid in refolding misfolded proteins.","example":"Heat shock proteins (Hsp70, Hsp90) assist folding under stress conditions."},{"term":"Glycosylation","category":"Protein Modification","definition":"Addition of carbohydrate groups to proteins (N-linked or O-linked), critical for protein folding, stability, and cell recognition.","example":"Erythropoietin is N-glycosylated, which increases its half-life in circulation."},{"term":"Lactate Dehydrogenase (LDH)","category":"Metabolism / Enzyme","definition":"Enzyme that interconverts pyruvate and lactate, regenerating NAD\u207a under anaerobic conditions.","example":"Pyruvate + NADH \u21cc Lactate + NAD\u207a in muscle during intense exercise."}]}'),mn=t=>{let{term:n,searchTerm:i}=t;const[r,a]=(0,e.useState)(!1),o=e=>{if(!i)return e;const t=new RegExp("(".concat(i,")"),"gi");return e.split(t).map((e,t)=>e.toLowerCase()===i.toLowerCase()?(0,Lt.jsx)("mark",{children:e},t):e)};return(0,Lt.jsxs)("div",{className:"term-card",children:[(0,Lt.jsxs)("div",{className:"term-header",onClick:()=>a(!r),children:[(0,Lt.jsx)("h3",{className:"term-title",children:o(n.term)}),(0,Lt.jsxs)("div",{className:"term-meta",children:[(0,Lt.jsx)("span",{className:"term-category",children:n.category}),(0,Lt.jsx)("i",{className:"fa-solid fa-chevron-down ".concat(r?"expanded":"")})]})]}),r&&(0,Lt.jsxs)("div",{className:"term-content",children:[(0,Lt.jsxs)("div",{className:"term-definition",children:[(0,Lt.jsx)("h4",{children:"Definition"}),(0,Lt.jsx)("p",{children:o(n.definition)})]}),n.example&&(0,Lt.jsxs)("div",{className:"term-example",children:[(0,Lt.jsx)("h4",{children:"Example"}),(0,Lt.jsx)("p",{children:o(n.example)})]})]})]})},fn=()=>{const[t,n]=(0,e.useState)(""),[i,r]=(0,e.useState)("all"),a=(0,e.useMemo)(()=>["all",...new Set(pn.a.map(e=>e.category))].sort((e,t)=>"all"===e?-1:"all"===t?1:e.localeCompare(t)),[]),o=(0,e.useMemo)(()=>pn.a.filter(e=>{const n=e.term.toLowerCase().includes(t.toLowerCase())||e.definition.toLowerCase().includes(t.toLowerCase()),r="all"===i||e.category===i;return n&&r}).sort((e,t)=>e.term.localeCompare(t.term)),[t,i]);return(0,Lt.jsx)("div",{className:"glossary-page",children:(0,Lt.jsxs)("div",{className:"glossary-container",children:[(0,Lt.jsx)("section",{className:"glossary-hero",children:(0,Lt.jsxs)("div",{className:"hero-content",children:[(0,Lt.jsx)("h1",{children:"Biochemistry Glossary"}),(0,Lt.jsxs)("p",{className:"hero-subtitle",children:[pn.a.length," essential terms and definitions covering biochemistry, molecular biology, and biochemical processes"]})]})}),(0,Lt.jsxs)("section",{className:"glossary-controls",children:[(0,Lt.jsxs)("div",{className:"search-box",children:[(0,Lt.jsx)("i",{className:"fa-solid fa-search"}),(0,Lt.jsx)("input",{type:"text",placeholder:"Search terms, definitions, examples...",value:t,onChange:e=>n(e.target.value),className:"search-input"}),t&&(0,Lt.jsx)("button",{className:"clear-search",onClick:()=>n(""),"aria-label":"Clear search",children:(0,Lt.jsx)("i",{className:"fa-solid fa-times"})})]}),(0,Lt.jsxs)("div",{className:"category-filters",children:[(0,Lt.jsx)("label",{children:"Filter by Category:"}),(0,Lt.jsx)("div",{className:"filter-buttons",children:a.map(e=>(0,Lt.jsx)("button",{className:"filter-btn ".concat(i===e?"active":""),onClick:()=>r(e),children:"all"===e?"All Categories":e},e))})]})]}),(0,Lt.jsx)("section",{className:"glossary-stats",children:(0,Lt.jsxs)("p",{children:["Showing ",(0,Lt.jsx)("strong",{children:o.length})," of ",(0,Lt.jsx)("strong",{children:pn.a.length})," terms",t&&(0,Lt.jsxs)("span",{children:[' matching "',(0,Lt.jsx)("strong",{children:t}),'"']}),"all"!==i&&(0,Lt.jsxs)("span",{children:[" in ",(0,Lt.jsx)("strong",{children:i})]})]})}),(0,Lt.jsx)("section",{className:"glossary-terms",children:o.length>0?(0,Lt.jsx)("div",{className:"terms-grid",children:o.map((e,n)=>(0,Lt.jsx)(mn,{term:e,searchTerm:t},n))}):(0,Lt.jsxs)("div",{className:"no-results",children:[(0,Lt.jsx)("i",{className:"fa-solid fa-search"}),(0,Lt.jsx)("h3",{children:"No terms found"}),(0,Lt.jsx)("p",{children:'Try different search keywords or select "All Categories" to expand your results.'})]})})]})})},gn="182",yn=1,vn=3,bn=0,xn=1,_n=2,wn=100,Sn=101,Mn=102,An=200,Tn=201,En=202,Cn=203,Pn=204,kn=205,Rn=206,Nn=207,Dn=208,In=209,Ln=210,On=211,zn=212,Fn=213,Bn=214,Un=0,Hn=1,Vn=2,Gn=3,jn=4,qn=5,Wn=6,Xn=7,Kn=0,Yn=1,Qn=2,Zn=1,Jn=2,$n=3,ei=4,ti=5,ni=6,ii=7,ri=301,ai=302,oi=303,si=304,li=306,ci=1e3,ui=1001,di=1002,hi=1003,pi=1004,mi=1005,fi=1006,gi=1007,yi=1008,vi=1009,bi=1010,xi=1011,_i=1012,wi=1013,Si=1014,Mi=1015,Ai=1016,Ti=1017,Ei=1018,Ci=1020,Pi=35902,ki=35899,Ri=1023,Ni=1026,Di=1027,Ii=1028,Li=1029,Oi=1030,zi=1031,Fi=1033,Bi=33776,Ui=33777,Hi=33778,Vi=33779,Gi=35840,ji=35841,qi=35842,Wi=35843,Xi=36196,Ki=37492,Yi=37496,Qi=37488,Zi=37489,Ji=37490,$i=37491,er=37808,tr=37809,nr=37810,ir=37811,rr=37812,ar=37813,or=37814,sr=37815,lr=37816,cr=37817,ur=37818,dr=37819,hr=37820,pr=37821,mr=36492,fr=36494,gr=36495,yr=36283,vr=36284,br=36285,xr=36286,_r=2300,wr=2301,Sr=2302,Mr=2400,Ar=2401,Tr=2402,Er="",Cr="srgb",Pr="srgb-linear",kr="linear",Rr="srgb",Nr=7680,Dr=512,Ir=513,Lr=514,Or=515,zr=516,Fr=517,Br=518,Ur=519,Hr=35044,Vr="300 es",Gr=2e3,jr=2001;function qr(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Wr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Kr(){const e=Xr("canvas");return e.style.display="block",e}const Yr={};let Qr=null;function Zr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i="THREE."+t.shift();Qr?Qr("log",i,...t):console.log(i,...t)}function Jr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i="THREE."+t.shift();Qr?Qr("warn",i,...t):console.warn(i,...t)}function $r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i="THREE."+t.shift();Qr?Qr("error",i,...t):console.error(i,...t)}function ea(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.join(" ");i in Yr||(Yr[i]=!0,Jr(...t))}class ta{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const i=n[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,i=t.length;n<i;n++)t[n].call(this,e);e.target=null}}}const na=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const ia=Math.PI/180,ra=180/Math.PI;function aa(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(na[255&e]+na[e>>8&255]+na[e>>16&255]+na[e>>24&255]+"-"+na[255&t]+na[t>>8&255]+"-"+na[t>>16&15|64]+na[t>>24&255]+"-"+na[63&n|128]+na[n>>8&255]+"-"+na[n>>16&255]+na[n>>24&255]+na[255&i]+na[i>>8&255]+na[i>>16&255]+na[i>>24&255]).toLowerCase()}function oa(e,t,n){return Math.max(t,Math.min(n,e))}function sa(e,t){return(e%t+t)%t}function la(e,t,n){return(1-n)*e+n*t}function ca(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ua(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}class da{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;da.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=oa(this.x,e.x,t.x),this.y=oa(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=oa(this.x,e,t),this.y=oa(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(oa(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(oa(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ha{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,a,o){let s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],d=r[a+0],h=r[a+1],p=r[a+2],m=r[a+3];if(o<=0)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(o>=1)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=m);if(u!==m||s!==d||l!==h||c!==p){let e=s*d+l*h+c*p+u*m;e<0&&(d=-d,h=-h,p=-p,m=-m,e=-e);let t=1-o;if(e<.9995){const n=Math.acos(e),i=Math.sin(n);t=Math.sin(t*n)/i,s=s*t+d*(o=Math.sin(o*n)/i),l=l*t+h*o,c=c*t+p*o,u=u*t+m*o}else{s=s*t+d*o,l=l*t+h*o,c=c*t+p*o,u=u*t+m*o;const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,a){const o=n[i],s=n[i+1],l=n[i+2],c=n[i+3],u=r[a],d=r[a+1],h=r[a+2],p=r[a+3];return e[t]=o*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-o*h,e[t+2]=l*p+c*h+o*d-s*u,e[t+3]=c*p-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,i=e._y,r=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),d=s(n/2),h=s(i/2),p=s(r/2);switch(a){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:Jr("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(r-l)*e,this._z=(a-i)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(r+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(r-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-i)/e,this._x=(r+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(oa(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+i*l-r*s,this._y=i*c+a*s+r*o-n*l,this._z=r*c+a*l+n*s-i*o,this._w=a*c-n*o-i*s-r*l,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,i=e._y,r=e._z,a=e._w,o=this.dot(e);o<0&&(n=-n,i=-i,r=-r,a=-a,o=-o);let s=1-t;if(o<.9995){const e=Math.acos(o),l=Math.sin(e);s=Math.sin(s*e)/l,t=Math.sin(t*e)/l,this._x=this._x*s+n*t,this._y=this._y*s+i*t,this._z=this._z*s+r*t,this._w=this._w*s+a*t,this._onChangeCallback()}else this._x=this._x*s+n*t,this._y=this._y*s+i*t,this._z=this._z*s+r*t,this._w=this._w*s+a*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class pa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;pa.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(fa.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(fa.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*i-o*n),c=2*(o*t-r*i),u=2*(r*n-a*t);return this.x=t+s*l+a*u-o*c,this.y=n+s*c+o*l-r*u,this.z=i+s*u+r*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=oa(this.x,e.x,t.x),this.y=oa(this.y,e.y,t.y),this.z=oa(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=oa(this.x,e,t),this.y=oa(this.y,e,t),this.z=oa(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(oa(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ma.copy(this).projectOnVector(e),this.sub(ma)}reflect(e){return this.sub(ma.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(oa(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ma=new pa,fa=new ha;class ga{constructor(e,t,n,i,r,a,o,s,l){ga.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,o,s,l)}set(e,t,n,i,r,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],m=i[0],f=i[3],g=i[6],y=i[1],v=i[4],b=i[7],x=i[2],_=i[5],w=i[8];return r[0]=a*m+o*y+s*x,r[3]=a*f+o*v+s*_,r[6]=a*g+o*b+s*w,r[1]=l*m+c*y+u*x,r[4]=l*f+c*v+u*_,r[7]=l*g+c*b+u*w,r[2]=d*m+h*y+p*x,r[5]=d*f+h*v+p*_,r[8]=d*g+h*b+p*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*r*c+n*o*s+i*r*l-i*a*s}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*r,h=l*r-a*s,p=t*u+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=u*m,e[1]=(i*l-c*n)*m,e[2]=(o*n-i*a)*m,e[3]=d*m,e[4]=(c*t-i*s)*m,e[5]=(i*r-o*t)*m,e[6]=h*m,e[7]=(n*s-l*t)*m,e[8]=(a*t-n*r)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,a,o){const s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-i*l,i*s,-i*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(ya.makeScale(e,t)),this}rotate(e){return this.premultiply(ya.makeRotation(-e)),this}translate(e,t){return this.premultiply(ya.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const ya=new ga,va=(new ga).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ba=(new ga).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function xa(){const e={enabled:!0,workingColorSpace:Pr,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===Rr&&(e.r=wa(e.r),e.g=wa(e.g),e.b=wa(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===Rr&&(e.r=Sa(e.r),e.g=Sa(e.g),e.b=Sa(e.b)),e):e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===Er?kr:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.workingColorSpace;return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.workingColorSpace;return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return ea("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return ea("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return e.define({[Pr]:{primaries:t,whitePoint:i,transfer:kr,toXYZ:va,fromXYZ:ba,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Cr},outputColorSpaceConfig:{drawingBufferColorSpace:Cr}},[Cr]:{primaries:t,whitePoint:i,transfer:Rr,toXYZ:va,fromXYZ:ba,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Cr}}}),e}const _a=xa();function wa(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Sa(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let Ma;class Aa{static getDataURL(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png";if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Ma&&(Ma=Xr("canvas")),Ma.width=e.width,Ma.height=e.height;const n=Ma.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ma}return t.toDataURL(n)}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Xr("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*wa(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*wa(t[e]/255)):t[e]=wa(t[e]);return{data:t,width:e.width,height:e.height}}return Jr("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ta=0;class Ea{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:Ta++}),this.uuid=aa(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return"undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):"undefined"!==typeof VideoFrame&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(Ca(i[t].image)):e.push(Ca(i[t]))}else e=Ca(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function Ca(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Aa.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(Jr("Texture: Unable to serialize Texture."),{})}let Pa=0;const ka=new pa;class Ra extends ta{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ra.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ui,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ui,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fi,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yi,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ri,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:vi,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ra.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Er;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Pa++}),this.uuid=aa(),this.name="",this.source=new Ea(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new da(0,0),this.repeat=new da(1,1),this.center=new da(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ga,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(ka).x}get height(){return this.source.getSize(ka).y}get depth(){return this.source.getSize(ka).z}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(void 0===n){Jr("Texture.setValues(): parameter '".concat(t,"' has value of undefined."));continue}const i=this[t];void 0!==i?i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n:Jr("Texture.setValues(): property '".concat(t,"' does not exist."))}}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ci:e.x=e.x-Math.floor(e.x);break;case ui:e.x=e.x<0?0:1;break;case di:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ci:e.y=e.y-Math.floor(e.y);break;case ui:e.y=e.y<0?0:1;break;case di:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Ra.DEFAULT_IMAGE=null,Ra.DEFAULT_MAPPING=300,Ra.DEFAULT_ANISOTROPY=1;class Na{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Na.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],m=s[2],f=s[6],g=s[10];if(Math.abs(c-d)<a&&Math.abs(u-m)<a&&Math.abs(p-f)<a){if(Math.abs(c+d)<o&&Math.abs(u+m)<o&&Math.abs(p+f)<o&&Math.abs(l+h+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,y=(g+1)/2,v=(c+d)/4,b=(u+m)/4,x=(p+f)/4;return e>s&&e>y?e<a?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=v/n,r=b/n):s>y?s<a?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=v/i,r=x/i):y<a?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(y),n=b/r,i=x/r),this.set(n,i,r,t),this}let y=Math.sqrt((f-p)*(f-p)+(u-m)*(u-m)+(d-c)*(d-c));return Math.abs(y)<.001&&(y=1),this.x=(f-p)/y,this.y=(u-m)/y,this.z=(d-c)/y,this.w=Math.acos((l+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=oa(this.x,e.x,t.x),this.y=oa(this.y,e.y,t.y),this.z=oa(this.z,e.z,t.z),this.w=oa(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=oa(this.x,e,t),this.y=oa(this.y,e,t),this.z=oa(this.z,e,t),this.w=oa(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(oa(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Da extends ta{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:fi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Na(0,0,e,t),this.scissorTest=!1,this.viewport=new Na(0,0,e,t);const i={width:e,height:t,depth:n.depth},r=new Ra(i);this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=r.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={minFilter:fi,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++){this.textures[n].setValues(t)}}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,!0!==this.textures[i].isData3DTexture&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new Ea(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ia extends Da{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class La extends Ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=hi,this.minFilter=hi,this.wrapR=ui,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Oa extends Ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=hi,this.minFilter=hi,this.wrapR=ui,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class za{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pa(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pa(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ba.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Ba.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ba.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,n=i.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Ba):Ba.fromBufferAttribute(i,t),Ba.applyMatrix4(e.matrixWorld),this.expandByPoint(Ba);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Ua.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Ua.copy(n.boundingBox)),Ua.applyMatrix4(e.matrixWorld),this.union(Ua)}const i=e.children;for(let r=0,a=i.length;r<a;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ba),Ba.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xa),Ka.subVectors(this.max,Xa),Ha.subVectors(e.a,Xa),Va.subVectors(e.b,Xa),Ga.subVectors(e.c,Xa),ja.subVectors(Va,Ha),qa.subVectors(Ga,Va),Wa.subVectors(Ha,Ga);let t=[0,-ja.z,ja.y,0,-qa.z,qa.y,0,-Wa.z,Wa.y,ja.z,0,-ja.x,qa.z,0,-qa.x,Wa.z,0,-Wa.x,-ja.y,ja.x,0,-qa.y,qa.x,0,-Wa.y,Wa.x,0];return!!Za(t,Ha,Va,Ga,Ka)&&(t=[1,0,0,0,1,0,0,0,1],!!Za(t,Ha,Va,Ga,Ka)&&(Ya.crossVectors(ja,qa),t=[Ya.x,Ya.y,Ya.z],Za(t,Ha,Va,Ga,Ka)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ba).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ba).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Fa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fa)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Fa=[new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa],Ba=new pa,Ua=new za,Ha=new pa,Va=new pa,Ga=new pa,ja=new pa,qa=new pa,Wa=new pa,Xa=new pa,Ka=new pa,Ya=new pa,Qa=new pa;function Za(e,t,n,i,r){for(let a=0,o=e.length-3;a<=o;a+=3){Qa.fromArray(e,a);const o=r.x*Math.abs(Qa.x)+r.y*Math.abs(Qa.y)+r.z*Math.abs(Qa.z),s=t.dot(Qa),l=n.dot(Qa),c=i.dot(Qa);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const Ja=new za,$a=new pa,eo=new pa;class to{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ja.setFromPoints(e).getCenter(n);let i=0;for(let r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$a.subVectors(e,this.center);const t=$a.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector($a,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(eo.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($a.copy(e.center).add(eo)),this.expandByPoint($a.copy(e.center).sub(eo))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const no=new pa,io=new pa,ro=new pa,ao=new pa,oo=new pa,so=new pa,lo=new pa;class co{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pa(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,no)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=no.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(no.copy(this.origin).addScaledVector(this.direction,t),no.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){io.copy(e).add(t).multiplyScalar(.5),ro.copy(t).sub(e).normalize(),ao.copy(this.origin).sub(io);const r=.5*e.distanceTo(t),a=-this.direction.dot(ro),o=ao.dot(this.direction),s=-ao.dot(ro),l=ao.lengthSq(),c=Math.abs(1-a*a);let u,d,h,p;if(c>0)if(u=a*s-o,d=a*o-s,p=r*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-a*r+o)),d=u>0?-r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-s),r),h=d*(d+2*s)+l):(u=Math.max(0,-(a*r+o)),d=u>0?r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l);else d=a>0?-r:r,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(io).addScaledVector(ro,d),h}intersectSphere(e,t){no.subVectors(e.center,this.origin);const n=no.dot(this.direction),i=no.dot(no)-n*n,r=e.radius*e.radius;if(i>r)return null;const a=Math.sqrt(r-i),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||r>i?null:((r>n||isNaN(n))&&(n=r),(a<i||isNaN(i))&&(i=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,no)}intersectTriangle(e,t,n,i,r){oo.subVectors(t,e),so.subVectors(n,e),lo.crossVectors(oo,so);let a,o=this.direction.dot(lo);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ao.subVectors(this.origin,e);const s=a*this.direction.dot(so.crossVectors(ao,so));if(s<0)return null;const l=a*this.direction.dot(oo.cross(ao));if(l<0)return null;if(s+l>o)return null;const c=-a*ao.dot(lo);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class uo{constructor(e,t,n,i,r,a,o,s,l,c,u,d,h,p,m,f){uo.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,a,o,s,l,c,u,d,h,p,m,f)}set(e,t,n,i,r,a,o,s,l,c,u,d,h,p,m,f){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new uo).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return 0===this.determinant()?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(0===e.determinant())return this.identity();const t=this.elements,n=e.elements,i=1/ho.setFromMatrixColumn(e,0).length(),r=1/ho.setFromMatrixColumn(e,1).length(),a=1/ho.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=a*c,n=a*u,i=o*c,r=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-o*s,t[2]=r-e*l,t[6]=i+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e+r*o,t[4]=i*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-i,t[6]=r+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e-r*o,t[4]=-a*u,t[8]=i+n*o,t[1]=n+i*o,t[5]=a*c,t[9]=r-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,i=o*c,r=o*u;t[0]=s*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=s*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,i=o*s,r=o*l;t[0]=s*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=a*s,n=a*l,i=o*s,r=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=a*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=o*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mo,e,fo)}lookAt(e,t,n){const i=this.elements;return vo.subVectors(e,t),0===vo.lengthSq()&&(vo.z=1),vo.normalize(),go.crossVectors(n,vo),0===go.lengthSq()&&(1===Math.abs(n.z)?vo.x+=1e-4:vo.z+=1e-4,vo.normalize(),go.crossVectors(n,vo)),go.normalize(),yo.crossVectors(vo,go),i[0]=go.x,i[4]=yo.x,i[8]=vo.x,i[1]=go.y,i[5]=yo.y,i[9]=vo.y,i[2]=go.z,i[6]=yo.z,i[10]=vo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],m=n[6],f=n[10],g=n[14],y=n[3],v=n[7],b=n[11],x=n[15],_=i[0],w=i[4],S=i[8],M=i[12],A=i[1],T=i[5],E=i[9],C=i[13],P=i[2],k=i[6],R=i[10],N=i[14],D=i[3],I=i[7],L=i[11],O=i[15];return r[0]=a*_+o*A+s*P+l*D,r[4]=a*w+o*T+s*k+l*I,r[8]=a*S+o*E+s*R+l*L,r[12]=a*M+o*C+s*N+l*O,r[1]=c*_+u*A+d*P+h*D,r[5]=c*w+u*T+d*k+h*I,r[9]=c*S+u*E+d*R+h*L,r[13]=c*M+u*C+d*N+h*O,r[2]=p*_+m*A+f*P+g*D,r[6]=p*w+m*T+f*k+g*I,r[10]=p*S+m*E+f*R+g*L,r[14]=p*M+m*C+f*N+g*O,r[3]=y*_+v*A+b*P+x*D,r[7]=y*w+v*T+b*k+x*I,r[11]=y*S+v*E+b*R+x*L,r[15]=y*M+v*C+b*N+x*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14],p=e[3],m=e[7],f=e[11],g=e[15],y=s*h-l*d,v=o*h-l*u,b=o*d-s*u,x=a*h-l*c,_=a*d-s*c,w=a*u-o*c;return t*(m*y-f*v+g*b)-n*(p*y-f*x+g*_)+i*(p*v-m*x+g*w)-r*(p*b-m*_+f*w)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],m=e[13],f=e[14],g=e[15],y=u*f*l-m*d*l+m*s*h-o*f*h-u*s*g+o*d*g,v=p*d*l-c*f*l-p*s*h+a*f*h+c*s*g-a*d*g,b=c*m*l-p*u*l+p*o*h-a*m*h-c*o*g+a*u*g,x=p*u*s-c*m*s-p*o*d+a*m*d+c*o*f-a*u*f,_=t*y+n*v+i*b+r*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=y*w,e[1]=(m*d*r-u*f*r-m*i*h+n*f*h+u*i*g-n*d*g)*w,e[2]=(o*f*r-m*s*r+m*i*l-n*f*l-o*i*g+n*s*g)*w,e[3]=(u*s*r-o*d*r-u*i*l+n*d*l+o*i*h-n*s*h)*w,e[4]=v*w,e[5]=(c*f*r-p*d*r+p*i*h-t*f*h-c*i*g+t*d*g)*w,e[6]=(p*s*r-a*f*r-p*i*l+t*f*l+a*i*g-t*s*g)*w,e[7]=(a*d*r-c*s*r+c*i*l-t*d*l-a*i*h+t*s*h)*w,e[8]=b*w,e[9]=(p*u*r-c*m*r-p*n*h+t*m*h+c*n*g-t*u*g)*w,e[10]=(a*m*r-p*o*r+p*n*l-t*m*l-a*n*g+t*o*g)*w,e[11]=(c*o*r-a*u*r-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=x*w,e[13]=(c*m*i-p*u*i+p*n*d-t*m*d-c*n*f+t*u*f)*w,e[14]=(p*o*i-a*m*i-p*n*s+t*m*s+a*n*f-t*o*f)*w,e[15]=(a*u*i-c*o*i+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,l=r*a,c=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,a){return this.set(1,n,r,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,a=t._y,o=t._z,s=t._w,l=r+r,c=a+a,u=o+o,d=r*l,h=r*c,p=r*u,m=a*c,f=a*u,g=o*u,y=s*l,v=s*c,b=s*u,x=n.x,_=n.y,w=n.z;return i[0]=(1-(m+g))*x,i[1]=(h+b)*x,i[2]=(p-v)*x,i[3]=0,i[4]=(h-b)*_,i[5]=(1-(d+g))*_,i[6]=(f+y)*_,i[7]=0,i[8]=(p+v)*w,i[9]=(f-y)*w,i[10]=(1-(d+m))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],0===this.determinant())return n.set(1,1,1),t.identity(),this;let r=ho.set(i[0],i[1],i[2]).length();const a=ho.set(i[4],i[5],i[6]).length(),o=ho.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),po.copy(this);const s=1/r,l=1/a,c=1/o;return po.elements[0]*=s,po.elements[1]*=s,po.elements[2]*=s,po.elements[4]*=l,po.elements[5]*=l,po.elements[6]*=l,po.elements[8]*=c,po.elements[9]*=c,po.elements[10]*=c,t.setFromRotationMatrix(po),n.x=r,n.y=a,n.z=o,this}makePerspective(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gr,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=this.elements,c=2*r/(t-e),u=2*r/(n-i),d=(t+e)/(t-e),h=(n+i)/(n-i);let p,m;if(s)p=r/(a-r),m=a*r/(a-r);else if(o===Gr)p=-(a+r)/(a-r),m=-2*a*r/(a-r);else{if(o!==jr)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);p=-a/(a-r),m=-a*r/(a-r)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,i,r,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gr,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=this.elements,c=2/(t-e),u=2/(n-i),d=-(t+e)/(t-e),h=-(n+i)/(n-i);let p,m;if(s)p=1/(a-r),m=a/(a-r);else if(o===Gr)p=-2/(a-r),m=-(a+r)/(a-r);else{if(o!==jr)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=-1/(a-r),m=-r/(a-r)}return l[0]=c,l[4]=0,l[8]=0,l[12]=d,l[1]=0,l[5]=u,l[9]=0,l[13]=h,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ho=new pa,po=new uo,mo=new pa(0,0,0),fo=new pa(1,1,1),go=new pa,yo=new pa,vo=new pa,bo=new uo,xo=new ha;class _o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_o.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=e.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(oa(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-oa(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(oa(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-oa(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(oa(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-oa(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:Jr("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return bo.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bo,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return xo.setFromEuler(this),this.setFromQuaternion(xo,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_o.DEFAULT_ORDER="XYZ";class wo{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let So=0;const Mo=new pa,Ao=new ha,To=new uo,Eo=new pa,Co=new pa,Po=new pa,ko=new ha,Ro=new pa(1,0,0),No=new pa(0,1,0),Do=new pa(0,0,1),Io={type:"added"},Lo={type:"removed"},Oo={type:"childadded",child:null},zo={type:"childremoved",child:null};class Fo extends ta{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:So++}),this.uuid=aa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fo.DEFAULT_UP.clone();const e=new pa,t=new _o,n=new ha,i=new pa(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new uo},normalMatrix:{value:new ga}}),this.matrix=new uo,this.matrixWorld=new uo,this.matrixAutoUpdate=Fo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Fo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new wo,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ao.setFromAxisAngle(e,t),this.quaternion.multiply(Ao),this}rotateOnWorldAxis(e,t){return Ao.setFromAxisAngle(e,t),this.quaternion.premultiply(Ao),this}rotateX(e){return this.rotateOnAxis(Ro,e)}rotateY(e){return this.rotateOnAxis(No,e)}rotateZ(e){return this.rotateOnAxis(Do,e)}translateOnAxis(e,t){return Mo.copy(e).applyQuaternion(this.quaternion),this.position.add(Mo.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Ro,e)}translateY(e){return this.translateOnAxis(No,e)}translateZ(e){return this.translateOnAxis(Do,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(To.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Eo.copy(e):Eo.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Co.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?To.lookAt(Co,Eo,this.up):To.lookAt(Eo,Co,this.up),this.quaternion.setFromRotationMatrix(To),i&&(To.extractRotation(i.matrixWorld),Ao.setFromRotationMatrix(To),this.quaternion.premultiply(Ao.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?($r("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Io),Oo.child=e,this.dispatchEvent(Oo),Oo.child=null):$r("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Lo),zo.child=e,this.dispatchEvent(zo),zo.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),To.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),To.multiply(e.parent.matrixWorld)),e.applyMatrix4(To),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Io),Oo.child=e,this.dispatchEvent(Oo),Oo.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const i=this.children;for(let r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Co,e,Po),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Co,ko,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(e=>c(c({},e),{},{boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(e=>c({},e)),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(i.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(i.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=a(e.geometries),i=a(e.materials),r=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function a(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Fo.DEFAULT_UP=new pa(0,1,0),Fo.DEFAULT_MATRIX_AUTO_UPDATE=!0,Fo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Bo=new pa,Uo=new pa,Ho=new pa,Vo=new pa,Go=new pa,jo=new pa,qo=new pa,Wo=new pa,Xo=new pa,Ko=new pa,Yo=new Na,Qo=new Na,Zo=new Na;class Jo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pa,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new pa;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Bo.subVectors(e,t),i.cross(Bo);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Bo.subVectors(i,t),Uo.subVectors(n,t),Ho.subVectors(e,t);const a=Bo.dot(Bo),o=Bo.dot(Uo),s=Bo.dot(Ho),l=Uo.dot(Uo),c=Uo.dot(Ho),u=a*l-o*o;if(0===u)return r.set(0,0,0),null;const d=1/u,h=(l*s-o*c)*d,p=(a*c-o*s)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return null!==this.getBarycoord(e,t,n,i,Vo)&&(Vo.x>=0&&Vo.y>=0&&Vo.x+Vo.y<=1)}static getInterpolation(e,t,n,i,r,a,o,s){return null===this.getBarycoord(e,t,n,i,Vo)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(r,Vo.x),s.addScaledVector(a,Vo.y),s.addScaledVector(o,Vo.z),s)}static getInterpolatedAttribute(e,t,n,i,r,a){return Yo.setScalar(0),Qo.setScalar(0),Zo.setScalar(0),Yo.fromBufferAttribute(e,t),Qo.fromBufferAttribute(e,n),Zo.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(Yo,r.x),a.addScaledVector(Qo,r.y),a.addScaledVector(Zo,r.z),a}static isFrontFacing(e,t,n,i){return Bo.subVectors(n,t),Uo.subVectors(e,t),Bo.cross(Uo).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Bo.subVectors(this.c,this.b),Uo.subVectors(this.a,this.b),.5*Bo.cross(Uo).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return Jo.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Jo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let a,o;Go.subVectors(i,n),jo.subVectors(r,n),Wo.subVectors(e,n);const s=Go.dot(Wo),l=jo.dot(Wo);if(s<=0&&l<=0)return t.copy(n);Xo.subVectors(e,i);const c=Go.dot(Xo),u=jo.dot(Xo);if(c>=0&&u<=c)return t.copy(i);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(Go,a);Ko.subVectors(e,r);const h=Go.dot(Ko),p=jo.dot(Ko);if(p>=0&&h<=p)return t.copy(r);const m=h*l-s*p;if(m<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(n).addScaledVector(jo,o);const f=c*p-h*u;if(f<=0&&u-c>=0&&h-p>=0)return qo.subVectors(r,i),o=(u-c)/(u-c+(h-p)),t.copy(i).addScaledVector(qo,o);const g=1/(f+m+d);return a=m*g,o=d*g,t.copy(n).addScaledVector(Go,a).addScaledVector(jo,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},es={h:0,s:0,l:0},ts={h:0,s:0,l:0};function ns(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class is{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,_a.colorSpaceToWorking(this,t),this}setRGB(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_a.workingColorSpace;return this.r=e,this.g=t,this.b=n,_a.colorSpaceToWorking(this,i),this}setHSL(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_a.workingColorSpace;if(e=sa(e,1),t=oa(t,0,1),n=oa(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=ns(r,i,e+1/3),this.g=ns(r,i,e),this.b=ns(r,i,e-1/3)}return _a.colorSpaceToWorking(this,i),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;function i(t){void 0!==t&&parseFloat(t)<1&&Jr("Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:Jr("Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=t[1],r=i.length;if(3===r)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(6===r)return this.setHex(parseInt(i,16),n);Jr("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;const n=$o[e.toLowerCase()];return void 0!==n?this.setHex(n,t):Jr("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wa(e.r),this.g=wa(e.g),this.b=wa(e.b),this}copyLinearToSRGB(e){return this.r=Sa(e.r),this.g=Sa(e.g),this.b=Sa(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return _a.workingToColorSpace(rs.copy(this),e),65536*Math.round(oa(255*rs.r,0,255))+256*Math.round(oa(255*rs.g,0,255))+Math.round(oa(255*rs.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_a.workingColorSpace;_a.workingToColorSpace(rs.copy(this),t);const n=rs.r,i=rs.g,r=rs.b,a=Math.max(n,i,r),o=Math.min(n,i,r);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(i-r)/e+(i<r?6:0);break;case i:s=(r-n)/e+2;break;case r:s=(n-i)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_a.workingColorSpace;return _a.workingToColorSpace(rs.copy(this),t),e.r=rs.r,e.g=rs.g,e.b=rs.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;_a.workingToColorSpace(rs.copy(this),e);const t=rs.r,n=rs.g,i=rs.b;return e!==Cr?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*i),")")}offsetHSL(e,t,n){return this.getHSL(es),this.setHSL(es.h+e,es.s+t,es.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(es),e.getHSL(ts);const n=la(es.h,ts.h,t),i=la(es.s,ts.s,t),r=la(es.l,ts.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rs=new is;is.NAMES=$o;let as=0;class os extends ta{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:as++}),this.uuid=aa(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=wn,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new is(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nr,this.stencilZFail=Nr,this.stencilZPass=Nr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){Jr("Material: parameter '".concat(t,"' has value of undefined."));continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:Jr("Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==wn&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nr&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Nr&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Nr&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!1===this.allowOverride&&(n.allowOverride=!1),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class ss extends os{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new is(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ls=new pa,cs=new da;let us=0;class ds{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:us++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Hr,this.updateRanges=[],this.gpuType=Mi,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)cs.fromBufferAttribute(this,t),cs.applyMatrix3(e),this.setXY(t,cs.x,cs.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)ls.fromBufferAttribute(this,t),ls.applyMatrix3(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ls.fromBufferAttribute(this,t),ls.applyMatrix4(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ls.fromBufferAttribute(this,t),ls.applyNormalMatrix(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ls.fromBufferAttribute(this,t),ls.transformDirection(e),this.setXYZ(t,ls.x,ls.y,ls.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ca(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ua(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ca(t,this.array)),t}setX(e,t){return this.normalized&&(t=ua(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ca(t,this.array)),t}setY(e,t){return this.normalized&&(t=ua(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ca(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ua(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ca(t,this.array)),t}setW(e,t){return this.normalized&&(t=ua(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ua(t,this.array),n=ua(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ua(t,this.array),n=ua(n,this.array),i=ua(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=ua(t,this.array),n=ua(n,this.array),i=ua(i,this.array),r=ua(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Hr&&(e.usage=this.usage),e}}class hs extends ds{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class ps extends ds{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class ms extends ds{constructor(e,t,n){super(new Float32Array(e),t,n)}}let fs=0;const gs=new uo,ys=new Fo,vs=new pa,bs=new za,xs=new za,_s=new pa;class ws extends ta{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fs++}),this.uuid=aa(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qr(e)?ps:hs)(e,1):this.index=e,this}setIndirect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new ga).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,t,n){return gs.makeTranslation(e,t,n),this.applyMatrix4(gs),this}scale(e,t,n){return gs.makeScale(e,t,n),this.applyMatrix4(gs),this}lookAt(e){return ys.lookAt(e),ys.updateMatrix(),this.applyMatrix4(ys.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vs).negate(),this.translate(vs.x,vs.y,vs.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}this.setAttribute("position",new ms(t,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const n=e[i];t.setXYZ(i,n.x,n.y,n.z||0)}e.length>t.count&&Jr("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new za);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return $r("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new pa(-1/0,-1/0,-1/0),new pa(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];bs.setFromBufferAttribute(e),this.morphTargetsRelative?(_s.addVectors(this.boundingBox.min,bs.min),this.boundingBox.expandByPoint(_s),_s.addVectors(this.boundingBox.max,bs.max),this.boundingBox.expandByPoint(_s)):(this.boundingBox.expandByPoint(bs.min),this.boundingBox.expandByPoint(bs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&$r('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new to);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return $r("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new pa,1/0);if(e){const n=this.boundingSphere.center;if(bs.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];xs.setFromBufferAttribute(n),this.morphTargetsRelative?(_s.addVectors(bs.min,xs.min),bs.expandByPoint(_s),_s.addVectors(bs.max,xs.max),bs.expandByPoint(_s)):(bs.expandByPoint(xs.min),bs.expandByPoint(xs.max))}bs.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)_s.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(_s));if(t)for(let r=0,a=t.length;r<a;r++){const a=t[r],o=this.morphTargetsRelative;for(let t=0,r=a.count;t<r;t++)_s.fromBufferAttribute(a,t),o&&(vs.fromBufferAttribute(e,t),_s.add(vs)),i=Math.max(i,n.distanceToSquared(_s))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&$r('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void $r("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,i=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ds(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let S=0;S<n.count;S++)o[S]=new pa,s[S]=new pa;const l=new pa,c=new pa,u=new pa,d=new da,h=new da,p=new da,m=new pa,f=new pa;function g(e,t,i){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),p.fromBufferAttribute(r,i),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const a=1/(h.x*p.y-p.x*h.y);isFinite(a)&&(m.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(a),f.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(a),o[e].add(m),o[t].add(m),o[i].add(m),s[e].add(f),s[t].add(f),s[i].add(f))}let y=this.groups;0===y.length&&(y=[{start:0,count:e.count}]);for(let S=0,M=y.length;S<M;++S){const t=y[S],n=t.start;for(let i=n,r=n+t.count;i<r;i+=3)g(e.getX(i+0),e.getX(i+1),e.getX(i+2))}const v=new pa,b=new pa,x=new pa,_=new pa;function w(e){x.fromBufferAttribute(i,e),_.copy(x);const t=o[e];v.copy(t),v.sub(x.multiplyScalar(x.dot(t))).normalize(),b.crossVectors(_,t);const n=b.dot(s[e])<0?-1:1;a.setXYZW(e,v.x,v.y,v.z,n)}for(let S=0,M=y.length;S<M;++S){const t=y[S],n=t.start;for(let i=n,r=n+t.count;i<r;i+=3)w(e.getX(i+0)),w(e.getX(i+1)),w(e.getX(i+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new ds(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new pa,r=new pa,a=new pa,o=new pa,s=new pa,l=new pa,c=new pa,u=new pa;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),c.subVectors(a,r),u.subVectors(i,r),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,m),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(m,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)_s.fromBufferAttribute(e,t),_s.normalize(),e.setXYZ(t,_s.x,_s.y,_s.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,a=new n.constructor(t.length*i);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(let e=0;e<i;e++)a[s++]=n[o++]}return new ds(a,i,r)}if(null===this.index)return Jr("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ws,n=this.index.array,i=this.attributes;for(const o in i){const r=e(i[o],n);t.setAttribute(o,r)}const r=this.morphAttributes;for(const o in r){const i=[],a=r[o];for(let t=0,r=a.length;t<r;t++){const r=e(a[t],n);i.push(r)}t.morphAttributes[o]=i}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const i={};let r=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];n.push(r.toJSON(e.data))}n.length>0&&(i[s]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere=o.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ss=new uo,Ms=new co,As=new to,Ts=new pa,Es=new pa,Cs=new pa,Ps=new pa,ks=new pa,Rs=new pa,Ns=new pa,Ds=new pa;class Is extends Fo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ws,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ss;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(r&&o){Rs.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=o[n],s=r[n];0!==i&&(ks.fromBufferAttribute(s,e),a?Rs.addScaledVector(ks,i):Rs.addScaledVector(ks.sub(t),i))}t.add(Rs)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),As.copy(n.boundingSphere),As.applyMatrix4(r),Ms.copy(e.ray).recast(e.near),!1===As.containsPoint(Ms.origin)){if(null===Ms.intersectSphere(As,Ts))return;if(Ms.origin.distanceToSquared(Ts)>(e.far-e.near)**2)return}Ss.copy(r).invert(),Ms.copy(e.ray).applyMatrix4(Ss),null!==n.boundingBox&&!1===Ms.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Ms)}}_computeIntersections(e,t,n){let i;const r=this.geometry,a=this.material,o=r.index,s=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,m=d.length;p<m;p++){const r=d[p],s=a[r.materialIndex];for(let a=Math.max(r.start,h.start),d=Math.min(o.count,Math.min(r.start+r.count,h.start+h.count));a<d;a+=3){i=Ls(this,s,e,n,l,c,u,o.getX(a),o.getX(a+1),o.getX(a+2)),i&&(i.faceIndex=Math.floor(a/3),i.face.materialIndex=r.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),s=Math.min(o.count,h.start+h.count);r<s;r+=3){i=Ls(this,a,e,n,l,c,u,o.getX(r),o.getX(r+1),o.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}else if(void 0!==s)if(Array.isArray(a))for(let p=0,m=d.length;p<m;p++){const r=d[p],o=a[r.materialIndex];for(let a=Math.max(r.start,h.start),d=Math.min(s.count,Math.min(r.start+r.count,h.start+h.count));a<d;a+=3){i=Ls(this,o,e,n,l,c,u,a,a+1,a+2),i&&(i.faceIndex=Math.floor(a/3),i.face.materialIndex=r.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),o=Math.min(s.count,h.start+h.count);r<o;r+=3){i=Ls(this,a,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}}}function Ls(e,t,n,i,r,a,o,s,l,c){e.getVertexPosition(s,Es),e.getVertexPosition(l,Cs),e.getVertexPosition(c,Ps);const u=function(e,t,n,i,r,a,o,s){let l;if(l=1===t.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,0===t.side,s),null===l)return null;Ds.copy(s),Ds.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Ds);return c<n.near||c>n.far?null:{distance:c,point:Ds.clone(),object:e}}(e,t,n,i,Es,Cs,Ps,Ns);if(u){const e=new pa;Jo.getBarycoord(Ns,Es,Cs,Ps,e),r&&(u.uv=Jo.getInterpolatedAttribute(r,s,l,c,e,new da)),a&&(u.uv1=Jo.getInterpolatedAttribute(a,s,l,c,e,new da)),o&&(u.normal=Jo.getInterpolatedAttribute(o,s,l,c,e,new pa),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new pa,materialIndex:0};Jo.getNormal(Es,Cs,Ps,t.normal),u.face=t,u.barycoord=e}return u}class Os extends ws{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};const o=this;i=Math.floor(i),r=Math.floor(r),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,i,r,a,p,m,f,g,y){const v=a/f,b=p/g,x=a/2,_=p/2,w=m/2,S=f+1,M=g+1;let A=0,T=0;const E=new pa;for(let o=0;o<M;o++){const a=o*b-_;for(let s=0;s<S;s++){const d=s*v-x;E[e]=d*i,E[t]=a*r,E[n]=w,l.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=m>0?1:-1,c.push(E.x,E.y,E.z),u.push(s/f),u.push(1-o/g),A+=1}}for(let o=0;o<g;o++)for(let e=0;e<f;e++){const t=d+e+S*o,n=d+e+S*(o+1),i=d+(e+1)+S*(o+1),r=d+(e+1)+S*o;s.push(t,n,r),s.push(n,i,r),T+=6}o.addGroup(h,T,y),h+=T,d+=A}p("z","y","x",-1,-1,n,t,e,a,r,0),p("z","y","x",1,-1,n,t,-e,a,r,1),p("x","z","y",1,1,e,n,t,i,a,2),p("x","z","y",1,-1,e,n,-t,i,a,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new ms(l,3)),this.setAttribute("normal",new ms(c,3)),this.setAttribute("uv",new ms(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Os(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zs(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Jr("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Fs(e){const t={};for(let n=0;n<e.length;n++){const i=zs(e[n]);for(const e in i)t[e]=i[e]}return t}function Bs(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:_a.workingColorSpace}const Us={clone:zs,merge:Fs};class Hs extends os{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zs(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Vs extends Fo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new uo,this.projectionMatrix=new uo,this.projectionMatrixInverse=new uo,this.coordinateSystem=Gr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Gs=new pa,js=new da,qs=new da;class Ws extends Vs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*ra*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*ia*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*ra*Math.atan(Math.tan(.5*ia*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Gs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Gs.x,Gs.y).multiplyScalar(-e/Gs.z),Gs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Gs.x,Gs.y).multiplyScalar(-e/Gs.z)}getViewSize(e,t){return this.getViewBounds(e,js,qs),t.subVectors(qs,js)}setViewOffset(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*ia*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;r+=a.offsetX*i/e,t-=a.offsetY*n/o,i*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Xs=-90;class Ks extends Fo{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ws(Xs,1,e,t);i.layers=this.layers,this.add(i);const r=new Ws(Xs,1,e,t);r.layers=this.layers,this.add(r);const a=new Ws(Xs,1,e,t);a.layers=this.layers,this.add(a);const o=new Ws(Xs,1,e,t);o.layers=this.layers,this.add(o);const s=new Ws(Xs,1,e,t);s.layers=this.layers,this.add(s);const l=new Ws(Xs,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,a,o,s]=t;for(const l of t)this.remove(l);if(e===Gr)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==jr)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,o),e.setRenderTarget(n,3,i),e.render(t,s),e.setRenderTarget(n,4,i),e.render(t,l),n.texture.generateMipmaps=m,e.setRenderTarget(n,5,i),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class Ys extends Ra{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0,arguments.length>9?arguments[9]:void 0),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Qs extends Ia{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Ys(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Os(5,5,5),o=new Hs({name:"CubemapFromEquirect",uniforms:zs(n),vertexShader:i,fragmentShader:r,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new Is(a,o),l=t.minFilter;t.minFilter===yi&&(t.minFilter=fi);return new Ks(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}class Zs extends Fo{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Js={type:"move"};class $s{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Zs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Zs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new pa,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new pa),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Zs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new pa,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new pa),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),i=this._getHandJoint(l,a);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=e.radius),i.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],o=i.position.distanceTo(r.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Js)))}return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Zs;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class el extends Fo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new _o,this.environmentIntensity=1,this.environmentRotation=new _o,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class tl extends Ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:hi,arguments.length>9&&void 0!==arguments[9]?arguments[9]:hi,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const nl=new pa,il=new pa,rl=new ga;class al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pa(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=nl.subVectors(n,t).cross(il.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(nl),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||rl.getNormalMatrix(e),i=this.coplanarPoint(nl).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ol=new to,sl=new da(.5,.5),ll=new pa;class cl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new al,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new al,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new al,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new al,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new al,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new al;this.planes=[e,t,n,i,r,a]}set(e,t,n,i,r,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.planes,r=e.elements,a=r[0],o=r[1],s=r[2],l=r[3],c=r[4],u=r[5],d=r[6],h=r[7],p=r[8],m=r[9],f=r[10],g=r[11],y=r[12],v=r[13],b=r[14],x=r[15];if(i[0].setComponents(l-a,h-c,g-p,x-y).normalize(),i[1].setComponents(l+a,h+c,g+p,x+y).normalize(),i[2].setComponents(l+o,h+u,g+m,x+v).normalize(),i[3].setComponents(l-o,h-u,g-m,x-v).normalize(),n)i[4].setComponents(s,d,f,b).normalize(),i[5].setComponents(l-s,h-d,g-f,x-b).normalize();else if(i[4].setComponents(l-s,h-d,g-f,x-b).normalize(),t===Gr)i[5].setComponents(l+s,h+d,g+f,x+b).normalize();else{if(t!==jr)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(s,d,f,b).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ol.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ol.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ol)}intersectsSprite(e){ol.center.set(0,0,0);const t=sl.distanceTo(e.center);return ol.radius=.7071067811865476+t,ol.applyMatrix4(e.matrixWorld),this.intersectsSphere(ol)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(ll.x=i.normal.x>0?e.max.x:e.min.x,ll.y=i.normal.y>0?e.max.y:e.min.y,ll.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ll)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class ul extends Ra{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Si,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hi,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:hi,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ni,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1;if(c!==Ni&&c!==Di)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:u},i,r,a,o,s,c,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ea(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class dl extends ul{constructor(e){const t={width:e,height:e,depth:1},n=[t,t,t,t,t,t];super(e,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Si,arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:hi,arguments.length>6&&void 0!==arguments[6]?arguments[6]:hi,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ni),this.image=n,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class hl extends Ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class pl extends ws{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],d=[],h=[];let p=0;const m=[],f=n/2;let g=0;function y(n){const r=p,a=new da,m=new pa;let y=0;const v=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,f*b,0),d.push(0,b,0),h.push(.5,.5),p++;const x=p;for(let e=0;e<=i;e++){const t=e/i*s+o,n=Math.cos(t),r=Math.sin(t);m.x=v*r,m.y=f*b,m.z=v*n,u.push(m.x,m.y,m.z),d.push(0,b,0),a.x=.5*n+.5,a.y=.5*r*b+.5,h.push(a.x,a.y),p++}for(let e=0;e<i;e++){const t=r+e,i=x+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),y+=3}l.addGroup(g,y,!0===n?1:2),g+=y}!function(){const a=new pa,y=new pa;let v=0;const b=(t-e)/n;for(let l=0;l<=r;l++){const c=[],g=l/r,v=g*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*s+o,l=Math.sin(r),m=Math.cos(r);y.x=v*l,y.y=-g*n+f,y.z=v*m,u.push(y.x,y.y,y.z),a.set(l,b,m).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-g),c.push(p++)}m.push(c)}for(let n=0;n<i;n++)for(let i=0;i<r;i++){const a=m[i][n],o=m[i+1][n],s=m[i+1][n+1],l=m[i][n+1];(e>0||0!==i)&&(c.push(a,o,l),v+=3),(t>0||i!==r-1)&&(c.push(o,s,l),v+=3)}l.addGroup(g,v,0),g+=v}(),!1===a&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new ms(u,3)),this.setAttribute("normal",new ms(d,3)),this.setAttribute("uv",new ms(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ml extends ws{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,a=t/2,o=Math.floor(n),s=Math.floor(i),l=o+1,c=s+1,u=e/o,d=t/s,h=[],p=[],m=[],f=[];for(let g=0;g<c;g++){const e=g*d-a;for(let t=0;t<l;t++){const n=t*u-r;p.push(n,-e,0),m.push(0,0,1),f.push(t/o),f.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<o;e++){const t=e+l*g,n=e+l*(g+1),i=e+1+l*(g+1),r=e+1+l*g;h.push(t,n,r),h.push(n,i,r)}this.setIndex(h),this.setAttribute("position",new ms(p,3)),this.setAttribute("normal",new ms(m,3)),this.setAttribute("uv",new ms(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ml(e.width,e.height,e.widthSegments,e.heightSegments)}}class fl extends ws{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new pa,d=new pa,h=[],p=[],m=[],f=[];for(let g=0;g<=n;g++){const h=[],y=g/n;let v=0;0===g&&0===a?v=.5/t:g===n&&s===Math.PI&&(v=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(i+s*r)*Math.sin(a+y*o),u.y=e*Math.cos(a+y*o),u.z=e*Math.sin(i+s*r)*Math.sin(a+y*o),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),f.push(s+v,1-y),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],i=c[g][e],r=c[g+1][e],o=c[g+1][e+1];(0!==g||a>0)&&h.push(t,i,o),(g!==n-1||s<Math.PI)&&h.push(i,r,o)}this.setIndex(h),this.setAttribute("position",new ms(p,3)),this.setAttribute("normal",new ms(m,3)),this.setAttribute("uv",new ms(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fl(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class gl extends Hs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yl extends os{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new is(16777215),this.specular=new is(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new is(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new da(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _o,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vl extends os{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class bl extends os{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function xl(e,t){return e&&e.constructor!==t?"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}class _l{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}a=t.length;break n}if(!(e>=r)){const o=t[1];e<o&&(n=2,r=o);for(let a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}a=n,n=0;break n}break e}for(;n<a;){const i=n+a>>>1;e<t[i]?a=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let a=0;a!==i;++a)t[a]=n[r+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wl extends _l{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mr,endingEnd:Mr}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ar:r=e,o=2*t-n;break;case Tr:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ar:a=e,s=2*n-t;break;case Tr:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,g=-d*f+2*d*m-d*p,y=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,v=(-1-h)*f+(1.5+h)*m+.5*p,b=h*f-h*m;for(let x=0;x!==o;++x)r[x]=g*a[c+x]+y*a[l+x]+v*a[s+x]+b*a[u+x];return r}}class Sl extends _l{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c;for(let d=0;d!==o;++d)r[d]=a[l+d]*u+a[s+d]*c;return r}}class Ml extends _l{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Al{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xl(t,this.TimeBufferType),this.values=xl(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:xl(e.times,Array),values:xl(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Ml(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Sl(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wl(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case _r:t=this.InterpolantFactoryMethodDiscrete;break;case wr:t=this.InterpolantFactoryMethodLinear;break;case Sr:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return Jr("KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _r;case this.InterpolantFactoryMethodLinear:return wr;case this.InterpolantFactoryMethodSmooth:return Sr}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,a=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);const e=this.getValueSize();this.times=n.slice(r,a),this.values=this.values.slice(r*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&($r("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&($r("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==r;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){$r("KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){$r("KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==i&&Wr(i))for(let o=0,s=i.length;o!==s;++o){const t=i[o];if(isNaN(t)){$r("KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Sr,r=e.length-1;let a=1;for(let o=1;o<r;++o){let r=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(i)r=!0;else{const e=o*n,i=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[i+o]||n!==t[a+o]){r=!0;break}}}if(r){if(o!==a){e[a]=e[o];const i=o*n,r=a*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++a}}if(r>0){e[a]=e[r];for(let e=r*n,i=a*n,o=0;o!==n;++o)t[i+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Al.prototype.ValueTypeName="",Al.prototype.TimeBufferType=Float32Array,Al.prototype.ValueBufferType=Float32Array,Al.prototype.DefaultInterpolation=wr;class Tl extends Al{constructor(e,t,n){super(e,t,n)}}Tl.prototype.ValueTypeName="bool",Tl.prototype.ValueBufferType=Array,Tl.prototype.DefaultInterpolation=_r,Tl.prototype.InterpolantFactoryMethodLinear=void 0,Tl.prototype.InterpolantFactoryMethodSmooth=void 0;class El extends Al{constructor(e,t,n,i){super(e,t,n,i)}}El.prototype.ValueTypeName="color";class Cl extends Al{constructor(e,t,n,i){super(e,t,n,i)}}Cl.prototype.ValueTypeName="number";class Pl extends _l{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t);let l=e*o;for(let c=l+o;l!==c;l+=4)ha.slerpFlat(r,0,a,l-o,a,l,s);return r}}class kl extends Al{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new Pl(this.times,this.values,this.getValueSize(),e)}}kl.prototype.ValueTypeName="quaternion",kl.prototype.InterpolantFactoryMethodSmooth=void 0;class Rl extends Al{constructor(e,t,n){super(e,t,n)}}Rl.prototype.ValueTypeName="string",Rl.prototype.ValueBufferType=Array,Rl.prototype.DefaultInterpolation=_r,Rl.prototype.InterpolantFactoryMethodLinear=void 0,Rl.prototype.InterpolantFactoryMethodSmooth=void 0;class Nl extends Al{constructor(e,t,n,i){super(e,t,n,i)}}Nl.prototype.ValueTypeName="vector";class Dl{constructor(e,t,n){const i=this;let r,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Il=new Dl;class Ll{constructor(e){this.manager=void 0!==e?e:Il,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ll.DEFAULT_MATERIAL_NAME="__DEFAULT";Error;new WeakMap;class Ol extends Fo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new is(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}const zl=new uo,Fl=new pa,Bl=new pa;class Ul{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new da(512,512),this.mapType=vi,this.map=null,this.mapPass=null,this.matrix=new uo,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cl,this._frameExtents=new da(1,1),this._viewportCount=1,this._viewports=[new Na(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Fl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Fl),Bl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Bl),t.updateMatrixWorld(),zl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zl,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(zl)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Hl extends Vs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,a=r+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class Vl extends Ul{constructor(){super(new Hl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Gl extends Ol{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Fo.DEFAULT_UP),this.updateMatrix(),this.target=new Fo,this.shadow=new Vl}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class jl extends Ol{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}new WeakMap;class ql extends Ws{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const Wl="\\[\\]\\.:\\/",Xl=new RegExp("["+Wl+"]","g"),Kl="[^"+Wl+"]",Yl="[^"+Wl.replace("\\.","")+"]",Ql=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Kl)+/(WCOD+)?/.source.replace("WCOD",Yl)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Kl)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Kl)+"$"),Zl=["material","materials","bones","map"];class Jl{constructor(e,t,n){this.path=t,this.parsedPath=n||Jl.parseTrackName(t),this.node=Jl.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Jl.Composite(e,t,n):new Jl(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xl,"")}static parseTrackName(e){const t=Ql.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==Zl.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const a=n(r.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Jl.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void Jr("PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void $r("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void $r("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void $r("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void $r("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void $r("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void $r("PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void $r("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const a=e[i];if(void 0===a){return void $r("PropertyBinding: Trying to update property for track: "+t.nodeName+"."+i+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?o=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void $r("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void $r("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Jl.Composite=class{constructor(e,t,n){const i=n||Jl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Jl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Jl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Jl.prototype.GetterByBindingType=[Jl.prototype._getValue_direct,Jl.prototype._getValue_array,Jl.prototype._getValue_arrayElement,Jl.prototype._getValue_toArray],Jl.prototype.SetterByBindingTypeAndVersioning=[[Jl.prototype._setValue_direct,Jl.prototype._setValue_direct_setNeedsUpdate,Jl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Jl.prototype._setValue_array,Jl.prototype._setValue_array_setNeedsUpdate,Jl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Jl.prototype._setValue_arrayElement,Jl.prototype._setValue_arrayElement_setNeedsUpdate,Jl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Jl.prototype._setValue_fromArray,Jl.prototype._setValue_fromArray_setNeedsUpdate,Jl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);function $l(e,t,n,i){const r=function(e){switch(e){case vi:case bi:return{byteLength:1,components:1};case _i:case xi:case Ai:return{byteLength:2,components:1};case Ti:case Ei:return{byteLength:2,components:4};case Si:case wi:case Mi:return{byteLength:4,components:1};case Pi:case ki:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(i);switch(n){case 1021:return e*t;case Ii:case Li:return e*t/r.components*r.byteLength;case Oi:case zi:return e*t*2/r.components*r.byteLength;case 1022:return e*t*3/r.components*r.byteLength;case Ri:case Fi:return e*t*4/r.components*r.byteLength;case Bi:case Ui:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Hi:case Vi:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case ji:case Wi:return Math.max(e,16)*Math.max(t,8)/4;case Gi:case qi:return Math.max(e,8)*Math.max(t,8)/2;case Xi:case Ki:case Qi:case Zi:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Yi:case Ji:case $i:case er:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case tr:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case nr:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case ir:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case rr:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case ar:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case or:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case sr:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case lr:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case cr:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case ur:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case dr:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case hr:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case pr:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case mr:case fr:case gr:return Math.ceil(e/4)*Math.ceil(t/4)*16;case yr:case vr:return Math.ceil(e/4)*Math.ceil(t/4)*8;case br:case xr:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}function ec(){let e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function tc(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const r=t.get(n);if(void 0===r)t.set(n,function(t,n){const i=t.array,r=t.usage,a=i.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,i,r),t.onUploadCallback(),i instanceof Float32Array)s=e.FLOAT;else if("undefined"!==typeof Float16Array&&i instanceof Float16Array)s=e.HALF_FLOAT;else if(i instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)s=e.SHORT;else if(i instanceof Uint32Array)s=e.UNSIGNED_INT;else if(i instanceof Int32Array)s=e.INT;else if(i instanceof Int8Array)s=e.BYTE;else if(i instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,i){const r=n.array,a=n.updateRanges;if(e.bindBuffer(i,t),0===a.length)e.bufferSubData(i,0,r);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],i=a[e];i.start<=n.start+n.count+1?n.count=Math.max(n.count,i.start+i.count-n.start):(++t,a[t]=i)}a.length=t+1;for(let n=0,o=a.length;n<o;n++){const t=a[n];e.bufferSubData(i,t.start*r.BYTES_PER_ELEMENT,r,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gn}})),"undefined"!==typeof window&&(window.__THREE__?Jr("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=gn);const nc={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.metalness = metalnessFactor;\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;\n\tmaterial.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = vec3( 0.04 );\n\tmaterial.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"uniform sampler2D dfgLUT;\nstruct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tvec3 diffuseContribution;\n\tvec3 specularColor;\n\tvec3 specularColorBlended;\n\tfloat roughness;\n\tfloat metalness;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t\tvec3 iridescenceFresnelDielectric;\n\t\tvec3 iridescenceFresnelMetallic;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn v;\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColorBlended;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat rInv = 1.0 / ( roughness + 0.1 );\n\tfloat a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;\n\tfloat b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;\n\tfloat DG = exp( a * dotNV + b );\n\treturn saturate( DG );\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nvec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;\n\tvec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;\n\tvec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;\n\tvec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;\n\tfloat Ess_V = dfgV.x + dfgV.y;\n\tfloat Ess_L = dfgL.x + dfgL.y;\n\tfloat Ems_V = 1.0 - Ess_V;\n\tfloat Ems_L = 1.0 - Ess_L;\n\tvec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;\n\tvec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );\n\tfloat compensationFactor = Ems_V * Ems_L;\n\tvec3 multiScatter = Fms * compensationFactor;\n\treturn singleScatter + multiScatter;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n \n \t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n \n \t\tfloat sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n \t\tfloat sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );\n \n \t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );\n \n \t\tirradiance *= sheenEnergyComp;\n \n \t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );\n\t#ifdef USE_SHEEN\n\t\tfloat sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n\t\tdiffuse *= sheenEnergyComp;\n\t#endif\n\treflectedLight.indirectDiffuse += diffuse;\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;\n \t#endif\n\tvec3 singleScatteringDielectric = vec3( 0.0 );\n\tvec3 multiScatteringDielectric = vec3( 0.0 );\n\tvec3 singleScatteringMetallic = vec3( 0.0 );\n\tvec3 multiScatteringMetallic = vec3( 0.0 );\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n\t#endif\n\tvec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );\n\tvec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );\n\tvec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;\n\tvec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tvec3 indirectSpecular = radiance * singleScattering;\n\tindirectSpecular += multiScattering * cosineWeightedIrradiance;\n\tvec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n\t\tindirectSpecular *= sheenEnergyComp;\n\t\tindirectDiffuse *= sheenEnergyComp;\n\t#endif\n\treflectedLight.indirectSpecular += indirectSpecular;\n\treflectedLight.indirectDiffuse += indirectDiffuse;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );\n\t\tmaterial.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\t#else\n\t\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\t#else\n\t\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\t#elif defined( SHADOWMAP_TYPE_BASIC )\n\t\t\tuniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\tfloat interleavedGradientNoise( vec2 position ) {\n\t\t\treturn fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );\n\t\t}\n\t\tvec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {\n\t\t\tconst float goldenAngle = 2.399963229728653;\n\t\t\tfloat r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );\n\t\t\tfloat theta = float( sampleIndex ) * goldenAngle + phi;\n\t\t\treturn vec2( cos( theta ), sin( theta ) ) * r;\n\t\t}\n\t#endif\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\tfloat getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\t\tfloat radius = shadowRadius * texelSize.x;\n\t\t\t\tfloat phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )\n\t\t\t\t) * 0.2;\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tvec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;\n\t\t\t\tfloat mean = distribution.x;\n\t\t\t\tfloat variance = distribution.y * distribution.y;\n\t\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\t\tfloat hard_shadow = step( mean, shadowCoord.z );\n\t\t\t\t#else\n\t\t\t\t\tfloat hard_shadow = step( shadowCoord.z, mean );\n\t\t\t\t#endif\n\t\t\t\tif ( hard_shadow == 1.0 ) {\n\t\t\t\t\tshadow = 1.0;\n\t\t\t\t} else {\n\t\t\t\t\tvariance = max( variance, 0.0000001 );\n\t\t\t\t\tfloat d = shadowCoord.z - mean;\n\t\t\t\t\tfloat p_max = variance / ( variance + d * d );\n\t\t\t\t\tp_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );\n\t\t\t\t\tshadow = max( hard_shadow, p_max );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#else\n\t\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tfloat depth = texture2D( shadowMap, shadowCoord.xy ).r;\n\t\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\t\tshadow = step( depth, shadowCoord.z );\n\t\t\t\t#else\n\t\t\t\t\tshadow = step( shadowCoord.z, depth );\n\t\t\t\t#endif\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\tfloat getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tvec3 absVec = abs( lightToPosition );\n\t\tfloat viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n\t\tif ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\tdp += shadowBias;\n\t\t\tfloat texelSize = shadowRadius / shadowMapSize.x;\n\t\t\tvec3 absDir = abs( bd3D );\n\t\t\tvec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );\n\t\t\ttangent = normalize( cross( bd3D, tangent ) );\n\t\t\tvec3 bitangent = cross( bd3D, tangent );\n\t\t\tfloat phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;\n\t\t\tshadow = (\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )\n\t\t\t) * 0.2;\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\t#elif defined( SHADOWMAP_TYPE_BASIC )\n\tfloat getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tvec3 absVec = abs( lightToPosition );\n\t\tfloat viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n\t\tif ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\tdp += shadowBias;\n\t\t\tfloat depth = textureCube( shadowMap, bd3D ).r;\n\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\tshadow = step( depth, dp );\n\t\t\t#else\n\t\t\t\tshadow = step( dp, depth );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\t#endif\n\t#endif\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\tfloat fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n\t#else\n\t\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n\t#endif\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distance_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distance_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n \n\t\toutgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;\n \n \t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},ic={common:{diffuse:{value:new is(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ga},alphaMap:{value:null},alphaMapTransform:{value:new ga},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ga}},envmap:{envMap:{value:null},envMapRotation:{value:new ga},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ga}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ga}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ga},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ga},normalScale:{value:new da(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ga},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ga}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ga}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ga}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new is(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new is(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ga},alphaTest:{value:0},uvTransform:{value:new ga}},sprite:{diffuse:{value:new is(16777215)},opacity:{value:1},center:{value:new da(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ga},alphaMap:{value:null},alphaMapTransform:{value:new ga},alphaTest:{value:0}}},rc={basic:{uniforms:Fs([ic.common,ic.specularmap,ic.envmap,ic.aomap,ic.lightmap,ic.fog]),vertexShader:nc.meshbasic_vert,fragmentShader:nc.meshbasic_frag},lambert:{uniforms:Fs([ic.common,ic.specularmap,ic.envmap,ic.aomap,ic.lightmap,ic.emissivemap,ic.bumpmap,ic.normalmap,ic.displacementmap,ic.fog,ic.lights,{emissive:{value:new is(0)}}]),vertexShader:nc.meshlambert_vert,fragmentShader:nc.meshlambert_frag},phong:{uniforms:Fs([ic.common,ic.specularmap,ic.envmap,ic.aomap,ic.lightmap,ic.emissivemap,ic.bumpmap,ic.normalmap,ic.displacementmap,ic.fog,ic.lights,{emissive:{value:new is(0)},specular:{value:new is(1118481)},shininess:{value:30}}]),vertexShader:nc.meshphong_vert,fragmentShader:nc.meshphong_frag},standard:{uniforms:Fs([ic.common,ic.envmap,ic.aomap,ic.lightmap,ic.emissivemap,ic.bumpmap,ic.normalmap,ic.displacementmap,ic.roughnessmap,ic.metalnessmap,ic.fog,ic.lights,{emissive:{value:new is(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nc.meshphysical_vert,fragmentShader:nc.meshphysical_frag},toon:{uniforms:Fs([ic.common,ic.aomap,ic.lightmap,ic.emissivemap,ic.bumpmap,ic.normalmap,ic.displacementmap,ic.gradientmap,ic.fog,ic.lights,{emissive:{value:new is(0)}}]),vertexShader:nc.meshtoon_vert,fragmentShader:nc.meshtoon_frag},matcap:{uniforms:Fs([ic.common,ic.bumpmap,ic.normalmap,ic.displacementmap,ic.fog,{matcap:{value:null}}]),vertexShader:nc.meshmatcap_vert,fragmentShader:nc.meshmatcap_frag},points:{uniforms:Fs([ic.points,ic.fog]),vertexShader:nc.points_vert,fragmentShader:nc.points_frag},dashed:{uniforms:Fs([ic.common,ic.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nc.linedashed_vert,fragmentShader:nc.linedashed_frag},depth:{uniforms:Fs([ic.common,ic.displacementmap]),vertexShader:nc.depth_vert,fragmentShader:nc.depth_frag},normal:{uniforms:Fs([ic.common,ic.bumpmap,ic.normalmap,ic.displacementmap,{opacity:{value:1}}]),vertexShader:nc.meshnormal_vert,fragmentShader:nc.meshnormal_frag},sprite:{uniforms:Fs([ic.sprite,ic.fog]),vertexShader:nc.sprite_vert,fragmentShader:nc.sprite_frag},background:{uniforms:{uvTransform:{value:new ga},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nc.background_vert,fragmentShader:nc.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ga}},vertexShader:nc.backgroundCube_vert,fragmentShader:nc.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nc.cube_vert,fragmentShader:nc.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nc.equirect_vert,fragmentShader:nc.equirect_frag},distance:{uniforms:Fs([ic.common,ic.displacementmap,{referencePosition:{value:new pa},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nc.distance_vert,fragmentShader:nc.distance_frag},shadow:{uniforms:Fs([ic.lights,ic.fog,{color:{value:new is(0)},opacity:{value:1}}]),vertexShader:nc.shadow_vert,fragmentShader:nc.shadow_frag}};rc.physical={uniforms:Fs([rc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ga},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ga},clearcoatNormalScale:{value:new da(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ga},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ga},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ga},sheen:{value:0},sheenColor:{value:new is(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ga},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ga},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ga},transmissionSamplerSize:{value:new da},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ga},attenuationDistance:{value:0},attenuationColor:{value:new is(0)},specularColor:{value:new is(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ga},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ga},anisotropyVector:{value:new da},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ga}}]),vertexShader:nc.meshphysical_vert,fragmentShader:nc.meshphysical_frag};const ac={r:0,b:0,g:0},oc=new _o,sc=new uo;function lc(e,t,n,i,r,a,o){const s=new is(0);let l,c,u=!0===a?0:1,d=null,h=0,p=null;function m(e){let i=!0===e.isScene?e.background:null;if(i&&i.isTexture){i=(e.backgroundBlurriness>0?n:t).get(i)}return i}function f(t,n){t.getRGB(ac,Bs(e)),i.buffers.color.setClear(ac.r,ac.g,ac.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,f(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,f(s,u)},render:function(t){let n=!1;const r=m(t);null===r?f(s,u):r&&r.isColor&&(f(r,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&i.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const i=m(n);i&&(i.isCubeTexture||i.mapping===li)?(void 0===c&&(c=new Is(new Os(1,1,1),new Hs({name:"BackgroundCubeMaterial",uniforms:zs(rc.backgroundCube.uniforms),vertexShader:rc.backgroundCube.vertexShader,fragmentShader:rc.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),oc.copy(n.backgroundRotation),oc.x*=-1,oc.y*=-1,oc.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(oc.y*=-1,oc.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(sc.makeRotationFromEuler(oc)),c.material.toneMapped=_a.getTransfer(i.colorSpace)!==Rr,d===i&&h===i.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new Is(new ml(2,2),new Hs({name:"BackgroundMaterial",uniforms:zs(rc.background.uniforms),vertexShader:rc.background.vertexShader,fragmentShader:rc.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=_a.getTransfer(i.colorSpace)!==Rr,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&h===i.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function cc(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),i={},r=c(null);let a=r,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],i=[],r=[];for(let a=0;a<n;a++)t[a]=0,i[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:r,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const i=a.newAttributes,r=a.enabledAttributes,o=a.attributeDivisors;i[t]=1,0===r[t]&&(e.enableVertexAttribArray(t),r[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function p(){const t=a.newAttributes,n=a.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function m(t,n,i,r,a,o,s){!0===s?e.vertexAttribIPointer(t,n,i,a,o):e.vertexAttribPointer(t,n,i,r,a,o)}function f(){g(),o=!0,a!==r&&(a=r,s(a.object))}function g(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,f,g){let y=!1;const v=function(t,n,r){const a=!0===r.wireframe;let o=i[t.id];void 0===o&&(o={},i[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=c(e.createVertexArray()),s[a]=l);return l}(f,l,r);a!==v&&(a=v,s(a.object)),y=function(e,t,n,i){const r=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=r[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return a.attributesNum!==s||a.index!==i}(n,f,l,g),y&&function(e,t,n,i){const r={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),r[a]=n,s++}}a.attributes=r,a.attributesNum=s,a.index=i}(n,f,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(y||o)&&(o=!1,function(n,i,r,a){u();const o=a.attributes,s=r.getAttributes(),l=i.defaultAttributeValues;for(const c in s){const i=s[c];if(i.location>=0){let r=o[c];if(void 0===r&&("instanceMatrix"===c&&n.instanceMatrix&&(r=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(r=n.instanceColor)),void 0!==r){const o=r.normalized,s=r.itemSize,l=t.get(r);if(void 0===l)continue;const c=l.buffer,u=l.type,p=l.bytesPerElement,f=u===e.INT||u===e.UNSIGNED_INT||r.gpuType===wi;if(r.isInterleavedBufferAttribute){const t=r.data,l=t.stride,g=r.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)h(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)m(i.location+e,s/i.locationSize,u,o,l*p,(g+s/i.locationSize*e)*p,f)}else{if(r.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)h(i.location+e,r.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=r.meshPerAttribute*r.count)}else for(let e=0;e<i.locationSize;e++)d(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)m(i.location+e,s/i.locationSize,u,o,s*p,s/i.locationSize*e*p,f)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}p()}(n,r,l,f),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:f,resetDefaultState:g,dispose:function(){f();for(const e in i){const t=i[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e]}},releaseStatesOfGeometry:function(e){if(void 0===i[e.id])return;const t=i[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete i[e.id]},releaseStatesOfProgram:function(e){for(const t in i){const n=i[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)l(r[e].object),delete r[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:p}}function uc(e,t,n){let i;function r(t,r,a){0!==a&&(e.drawArraysInstanced(i,t,r,a),n.update(r,i,a))}this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(e,r,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,e,0,r,0,a);let o=0;for(let t=0;t<a;t++)o+=r[t];n.update(o,i,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)r(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(i,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,i,1)}}}function dc(e,t,n,i){let r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(Jr("WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,textureFormatReadable:function(t){return t===Ri||i.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const r=n===Ai&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==vi&&i.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==Mi&&!r)},precision:o,logarithmicDepthBuffer:!0===n.logarithmicDepthBuffer,reversedDepthBuffer:!0===n.reversedDepthBuffer&&t.has("EXT_clip_control"),maxTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxSamples:e.getParameter(e.MAX_SAMPLES),samples:e.getParameter(e.SAMPLES)}}function hc(e){const t=this;let n=null,i=0,r=!1,a=!1;const o=new al,s=new ga,l={value:null,needsUpdate:!1};function c(e,n,i,r){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==r||null===c){const t=i+4*a,r=n.matrixWorldInverse;s.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(r,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,p=o.clipShadows,m=e.get(o);if(!r||null===d||0===d.length||a&&!p)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);t.numPlanes=i,t.numIntersection=0}();else{const e=a?0:i,t=4*e;let r=m.clippingState||null;l.value=r,r=c(d,s,t,u);for(let i=0;i!==t;++i)r[i]=n[i];m.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function pc(e){let t=new WeakMap;function n(e,t){return t===oi?e.mapping=ri:t===si&&(e.mapping=ai),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const a=r.mapping;if(a===oi||a===si){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const a=r.image;if(a&&a.height>0){const o=new Qs(a.height);return o.fromEquirectangularTexture(e,r),t.set(r,o),r.addEventListener("dispose",i),n(o.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}const mc=[.125,.215,.35,.446,.526,.582],fc=20,gc=new Hl,yc=new is;let vc=null,bc=0,xc=0,_c=!1;const wc=new pa;class Sc{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{size:a=256,position:o=wc}=r;vc=this._renderer.getRenderTarget(),bc=this._renderer.getActiveCubeFace(),xc=this._renderer.getActiveMipmapLevel(),_c=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ec(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Tc(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._ggxMaterial&&this._ggxMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(vc,bc,xc),this._renderer.xr.enabled=_c,e.scissorTest=!1,Ac(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ri||e.mapping===ai?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vc=this._renderer.getRenderTarget(),bc=this._renderer.getActiveCubeFace(),xc=this._renderer.getActiveMipmapLevel(),_c=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:fi,minFilter:fi,generateMipmaps:!1,type:Ai,format:Ri,colorSpace:Pr,depthBuffer:!1},i=Mc(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Mc(e,t,n);const{_lodMax:i}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=function(e){const t=[],n=[],i=[];let r=e;const a=e-4+1+mc.length;for(let o=0;o<a;o++){const a=Math.pow(2,r);t.push(a);let s=1/a;o>e-4?s=mc[o-e+4-1]:0===o&&(s=0),n.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,m=3,f=2,g=1,y=new Float32Array(m*p*h),v=new Float32Array(f*p*h),b=new Float32Array(g*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];y.set(i,m*p*e),v.set(d,f*p*e);const r=[e,e,e,e,e,e];b.set(r,g*p*e)}const x=new ws;x.setAttribute("position",new ds(y,m)),x.setAttribute("uv",new ds(v,f)),x.setAttribute("faceIndex",new ds(b,g)),i.push(new Is(x,null)),r>4&&r--}return{lodMeshes:i,sizeLods:t,sigmas:n}}(i)),this._blurMaterial=function(e,t,n){const i=new Float32Array(fc),r=new pa(0,1,0),a=new Hs({name:"SphericalGaussianBlur",defines:{n:fc,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(i,e,t),this._ggxMaterial=function(e,t,n){const i=new Hs({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:256,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:'\n\n\t\t\tprecision highp float;\n\t\t\tprecision highp int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform float roughness;\n\t\t\tuniform float mipInt;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\t#define PI 3.14159265359\n\n\t\t\t// Van der Corput radical inverse\n\t\t\tfloat radicalInverse_VdC(uint bits) {\n\t\t\t\tbits = (bits << 16u) | (bits >> 16u);\n\t\t\t\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\t\t\t\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\t\t\t\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\t\t\t\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\t\t\t\treturn float(bits) * 2.3283064365386963e-10; // / 0x100000000\n\t\t\t}\n\n\t\t\t// Hammersley sequence\n\t\t\tvec2 hammersley(uint i, uint N) {\n\t\t\t\treturn vec2(float(i) / float(N), radicalInverse_VdC(i));\n\t\t\t}\n\n\t\t\t// GGX VNDF importance sampling (Eric Heitz 2018)\n\t\t\t// "Sampling the GGX Distribution of Visible Normals"\n\t\t\t// https://jcgt.org/published/0007/04/01/\n\t\t\tvec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {\n\t\t\t\tfloat alpha = roughness * roughness;\n\n\t\t\t\t// Section 3.2: Transform view direction to hemisphere configuration\n\t\t\t\tvec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));\n\n\t\t\t\t// Section 4.1: Orthonormal basis\n\t\t\t\tfloat lensq = Vh.x * Vh.x + Vh.y * Vh.y;\n\t\t\t\tvec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 T2 = cross(Vh, T1);\n\n\t\t\t\t// Section 4.2: Parameterization of projected area\n\t\t\t\tfloat r = sqrt(Xi.x);\n\t\t\t\tfloat phi = 2.0 * PI * Xi.y;\n\t\t\t\tfloat t1 = r * cos(phi);\n\t\t\t\tfloat t2 = r * sin(phi);\n\t\t\t\tfloat s = 0.5 * (1.0 + Vh.z);\n\t\t\t\tt2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;\n\n\t\t\t\t// Section 4.3: Reprojection onto hemisphere\n\t\t\t\tvec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;\n\n\t\t\t\t// Section 3.4: Transform back to ellipsoid configuration\n\t\t\t\treturn normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec3 N = normalize(vOutputDirection);\n\t\t\t\tvec3 V = N; // Assume view direction equals normal for pre-filtering\n\n\t\t\t\tvec3 prefilteredColor = vec3(0.0);\n\t\t\t\tfloat totalWeight = 0.0;\n\n\t\t\t\t// For very low roughness, just sample the environment directly\n\t\t\t\tif (roughness < 0.001) {\n\t\t\t\t\tgl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Tangent space basis for VNDF sampling\n\t\t\t\tvec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 tangent = normalize(cross(up, N));\n\t\t\t\tvec3 bitangent = cross(N, tangent);\n\n\t\t\t\tfor(uint i = 0u; i < uint(GGX_SAMPLES); i++) {\n\t\t\t\t\tvec2 Xi = hammersley(i, uint(GGX_SAMPLES));\n\n\t\t\t\t\t// For PMREM, V = N, so in tangent space V is always (0, 0, 1)\n\t\t\t\t\tvec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);\n\n\t\t\t\t\t// Transform H back to world space\n\t\t\t\t\tvec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);\n\t\t\t\t\tvec3 L = normalize(2.0 * dot(V, H) * H - V);\n\n\t\t\t\t\tfloat NdotL = max(dot(N, L), 0.0);\n\n\t\t\t\t\tif(NdotL > 0.0) {\n\t\t\t\t\t\t// Sample environment at fixed mip level\n\t\t\t\t\t\t// VNDF importance sampling handles the distribution filtering\n\t\t\t\t\t\tvec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);\n\n\t\t\t\t\t\t// Weight by NdotL for the split-sum approximation\n\t\t\t\t\t\t// VNDF PDF naturally accounts for the visible microfacet distribution\n\t\t\t\t\t\tprefilteredColor += sampleColor * NdotL;\n\t\t\t\t\t\ttotalWeight += NdotL;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (totalWeight > 0.0) {\n\t\t\t\t\tprefilteredColor = prefilteredColor / totalWeight;\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = vec4(prefilteredColor, 1.0);\n\t\t\t}\n\t\t',blending:0,depthTest:!1,depthWrite:!1});return i}(i,e,t)}return i}_compileMaterial(e){const t=new Is(new ws,e);this._renderer.compile(t,gc)}_sceneToCubeUV(e,t,n,i,r){const a=new Ws(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(yc),l.toneMapping=0,l.autoClear=!1;l.state.buffers.depth.getReversed()&&(l.setRenderTarget(i),l.clearDepth(),l.setRenderTarget(null)),null===this._backgroundBox&&(this._backgroundBox=new Is(new Os,new ss({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1})));const d=this._backgroundBox,h=d.material;let p=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,p=!0):(h.color.copy(yc),p=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(a.up.set(0,o[f],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x+s[f],r.y,r.z)):1===t?(a.up.set(0,0,o[f]),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y+s[f],r.z)):(a.up.set(0,o[f],0),a.position.set(r.x,r.y,r.z),a.lookAt(r.x,r.y,r.z+s[f]));const n=this._cubeSize;Ac(i,t*n,f>2?n:0,n,n),l.setRenderTarget(i),p&&l.render(d,a),l.render(e,a)}l.toneMapping=u,l.autoClear=c,e.background=m}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===ri||e.mapping===ai;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ec()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Tc());const r=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=r;r.uniforms.envMap.value=e;const o=this._cubeSize;Ac(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,gc)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let r=1;r<i;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=n}_applyGGXFilter(e,t,n){const i=this._renderer,r=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[n];o.material=a;const s=a.uniforms,l=n/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),u=Math.sqrt(l*l-c*c)*(0+1.25*l),{_lodMax:d}=this,h=this._sizeLods[n],p=3*h*(n>d-4?n-d+4:0),m=4*(this._cubeSize-h);s.envMap.value=e.texture,s.roughness.value=u,s.mipInt.value=d-t,Ac(r,p,m,3*h,2*h),i.setRenderTarget(r),i.render(o,gc),s.envMap.value=r.texture,s.roughness.value=0,s.mipInt.value=d-n,Ac(e,p,m,3*h,2*h),i.setRenderTarget(e),i.render(o,gc)}_blur(e,t,n,i,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&$r("blur direction must be either latitudinal or longitudinal!");const c=this._lodMeshes[i];c.material=l;const u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,m=isFinite(r)?1+Math.floor(3*p):fc;m>fc&&Jr("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(m," samples when the maximum is set to ").concat(fc));const f=[];let g=0;for(let b=0;b<fc;++b){const e=b/p,t=Math.exp(-e*e/2);f.push(t),0===b?g+=t:b<m&&(g+=2*t)}for(let b=0;b<f.length;b++)f[b]=f[b]/g;u.envMap.value=e.texture,u.samples.value=m,u.weights.value=f,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:y}=this;u.dTheta.value=h,u.mipInt.value=y-n;const v=this._sizeLods[i];Ac(t,3*v*(i>y-4?i-y+4:0),4*(this._cubeSize-v),3*v,2*v),s.setRenderTarget(t),s.render(c,gc)}}function Mc(e,t,n){const i=new Ia(e,t,n);return i.texture.mapping=li,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ac(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function Tc(){return new Hs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ec(){return new Hs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Cc(e){let t=new WeakMap,n=null;function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const a=r.mapping,o=a===oi||a===si,s=a===ri||a===ai;if(o||s){let a=t.get(r);const l=void 0!==a?a.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new Sc(e)),a=o?n.fromEquirectangular(r,a):n.fromCubemap(r,a),a.texture.pmremVersion=r.pmremVersion,t.set(r,a),a.texture;if(void 0!==a)return a.texture;{const l=r.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}(l)?(null===n&&(n=new Sc(e)),a=o?n.fromEquirectangular(r):n.fromCubemap(r),a.texture.pmremVersion=r.pmremVersion,t.set(r,a),r.addEventListener("dispose",i),a.texture):null}}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Pc(e){const t={};function n(n){if(void 0!==t[n])return t[n];const i=e.getExtension(n);return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&ea("WebGLRenderer: "+e+" extension not supported."),t}}}function kc(e,t,n,i){const r={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete r[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],i=e.index,r=e.attributes.position;let o=0;if(null!==i){const e=i.array;o=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],a=e[t+2];n.push(i,r,r,a,a,i)}}else{if(void 0===r)return;{const e=r.array;o=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}}const s=new(qr(n)?ps:hs)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(n){const i=n.attributes;for(const r in i)t.update(i[r],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Rc(e,t,n){let i,r,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(i,o,r,t*a,s),n.update(o,i,s))}this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(i,o,r,t*a),n.update(o,i,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,a,0,r,e,0,o);let s=0;for(let t=0;t<o;t++)s+=a[t];n.update(s,i,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(i,s,0,r,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,i,1)}}}function Nc(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:$r("WebGLInfo: Unknown draw mode:",i)}}}}function Dc(e,t,n){const i=new WeakMap,r=new Na;return{update:function(a,o,s){const l=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==c?c.length:0;let d=i.get(o);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==o.morphAttributes.position,p=void 0!==o.morphAttributes.normal,m=void 0!==o.morphAttributes.color,f=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],y=o.morphAttributes.color||[];let v=0;!0===h&&(v=1),!0===p&&(v=2),!0===m&&(v=3);let b=o.attributes.position.count*v,x=1;b>t.maxTextureSize&&(x=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const _=new Float32Array(b*x*4*u),w=new La(_,b,x,u);w.type=Mi,w.needsUpdate=!0;const S=4*v;for(let A=0;A<u;A++){const T=f[A],E=g[A],C=y[A],P=b*x*4*A;for(let k=0;k<T.count;k++){const R=k*S;!0===h&&(r.fromBufferAttribute(T,k),_[P+R+0]=r.x,_[P+R+1]=r.y,_[P+R+2]=r.z,_[P+R+3]=0),!0===p&&(r.fromBufferAttribute(E,k),_[P+R+4]=r.x,_[P+R+5]=r.y,_[P+R+6]=r.z,_[P+R+7]=0),!0===m&&(r.fromBufferAttribute(C,k),_[P+R+8]=r.x,_[P+R+9]=r.y,_[P+R+10]=r.z,_[P+R+11]=4===C.itemSize?r.w:1)}}function M(){w.dispose(),i.delete(o),o.removeEventListener("dispose",M)}d={count:u,texture:w,size:new da(b,x)},i.set(o,d),o.addEventListener("dispose",M)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let N=0;for(let I=0;I<l.length;I++)N+=l[I];const D=o.morphTargetsRelative?1:1-N;s.getUniforms().setValue(e,"morphTargetBaseInfluence",D),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function Ic(e,t,n,i){let r=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=i.render.frame,l=o.geometry,c=t.get(o,l);if(r.get(c)!==s&&(t.update(c),r.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),r.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),r.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;r.get(e)!==s&&(e.update(),r.set(e,s))}return c},dispose:function(){r=new WeakMap}}}const Lc={[Zn]:"LINEAR_TONE_MAPPING",[Jn]:"REINHARD_TONE_MAPPING",[$n]:"CINEON_TONE_MAPPING",[ei]:"ACES_FILMIC_TONE_MAPPING",[ni]:"AGX_TONE_MAPPING",[ii]:"NEUTRAL_TONE_MAPPING",[ti]:"CUSTOM_TONE_MAPPING"};function Oc(e,t,n,i,r){const a=new Ia(t,n,{type:e,depthBuffer:i,stencilBuffer:r}),o=new Ia(t,n,{type:Ai,depthBuffer:!1,stencilBuffer:!1}),s=new ws;s.setAttribute("position",new ms([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new ms([0,2,0,0,2,0],2));const l=new gl({uniforms:{tDiffuse:{value:null}},vertexShader:"\n\t\t\tprecision highp float;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}",fragmentShader:"\n\t\t\tprecision highp float;\n\n\t\t\tuniform sampler2D tDiffuse;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\t#include <tonemapping_pars_fragment>\n\t\t\t#include <colorspace_pars_fragment>\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\n\t\t\t\t#ifdef LINEAR_TONE_MAPPING\n\t\t\t\t\tgl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( REINHARD_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( CINEON_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( ACES_FILMIC_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( AGX_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( NEUTRAL_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( CUSTOM_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef SRGB_TRANSFER\n\t\t\t\t\tgl_FragColor = sRGBTransferOETF( gl_FragColor );\n\t\t\t\t#endif\n\t\t\t}",depthTest:!1,depthWrite:!1}),c=new Is(s,l),u=new Hl(-1,1,1,-1,0,1);let d,h=null,p=null,m=!1,f=null,g=[],y=!1;this.setSize=function(e,t){a.setSize(e,t),o.setSize(e,t);for(let n=0;n<g.length;n++){const i=g[n];i.setSize&&i.setSize(e,t)}},this.setEffects=function(e){g=e,y=g.length>0&&!0===g[0].isRenderPass;const t=a.width,n=a.height;for(let i=0;i<g.length;i++){const e=g[i];e.setSize&&e.setSize(t,n)}},this.begin=function(e,t){if(m)return!1;if(0===e.toneMapping&&0===g.length)return!1;if(f=t,null!==t){const e=t.width,n=t.height;a.width===e&&a.height===n||this.setSize(e,n)}return!1===y&&e.setRenderTarget(a),d=e.toneMapping,e.toneMapping=0,!0},this.hasRenderPass=function(){return y},this.end=function(e,t){e.toneMapping=d,m=!0;let n=a,i=o;for(let r=0;r<g.length;r++){const a=g[r];if(!1!==a.enabled&&(a.render(e,i,n,t),!1!==a.needsSwap)){const e=n;n=i,i=e}}if(h!==e.outputColorSpace||p!==e.toneMapping){h=e.outputColorSpace,p=e.toneMapping,l.defines={},_a.getTransfer(h)===Rr&&(l.defines.SRGB_TRANSFER="");const t=Lc[p];t&&(l.defines[t]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=n.texture,e.setRenderTarget(f),e.render(c,u),f=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),l.dispose()}}const zc=new Ra,Fc=new ul(1,1),Bc=new La,Uc=new Oa,Hc=new Ys,Vc=[],Gc=[],jc=new Float32Array(16),qc=new Float32Array(9),Wc=new Float32Array(4);function Xc(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let a=Vc[r];if(void 0===a&&(a=new Float32Array(r),Vc[r]=a),0!==t){i.toArray(a,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(a,r)}return a}function Kc(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Yc(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function Qc(e,t){let n=Gc[t];void 0===n&&(n=new Int32Array(t),Gc[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Zc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Jc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kc(n,t))return;e.uniform2fv(this.addr,t),Yc(n,t)}}function $c(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Kc(n,t))return;e.uniform3fv(this.addr,t),Yc(n,t)}}function eu(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kc(n,t))return;e.uniform4fv(this.addr,t),Yc(n,t)}}function tu(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Kc(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Yc(n,t)}else{if(Kc(n,i))return;Wc.set(i),e.uniformMatrix2fv(this.addr,!1,Wc),Yc(n,i)}}function nu(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Kc(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Yc(n,t)}else{if(Kc(n,i))return;qc.set(i),e.uniformMatrix3fv(this.addr,!1,qc),Yc(n,i)}}function iu(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Kc(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Yc(n,t)}else{if(Kc(n,i))return;jc.set(i),e.uniformMatrix4fv(this.addr,!1,jc),Yc(n,i)}}function ru(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function au(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kc(n,t))return;e.uniform2iv(this.addr,t),Yc(n,t)}}function ou(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Kc(n,t))return;e.uniform3iv(this.addr,t),Yc(n,t)}}function su(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kc(n,t))return;e.uniform4iv(this.addr,t),Yc(n,t)}}function lu(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function cu(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kc(n,t))return;e.uniform2uiv(this.addr,t),Yc(n,t)}}function uu(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Kc(n,t))return;e.uniform3uiv(this.addr,t),Yc(n,t)}}function du(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kc(n,t))return;e.uniform4uiv(this.addr,t),Yc(n,t)}}function hu(e,t,n){const i=this.cache,r=n.allocateTextureUnit();let a;i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),this.type===e.SAMPLER_2D_SHADOW?(Fc.compareFunction=n.isReversedDepthBuffer()?518:515,a=Fc):a=zc,n.setTexture2D(t||a,r)}function pu(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Uc,r)}function mu(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||Hc,r)}function fu(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Bc,r)}function gu(e,t){e.uniform1fv(this.addr,t)}function yu(e,t){const n=Xc(t,this.size,2);e.uniform2fv(this.addr,n)}function vu(e,t){const n=Xc(t,this.size,3);e.uniform3fv(this.addr,n)}function bu(e,t){const n=Xc(t,this.size,4);e.uniform4fv(this.addr,n)}function xu(e,t){const n=Xc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _u(e,t){const n=Xc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function wu(e,t){const n=Xc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Su(e,t){e.uniform1iv(this.addr,t)}function Mu(e,t){e.uniform2iv(this.addr,t)}function Au(e,t){e.uniform3iv(this.addr,t)}function Tu(e,t){e.uniform4iv(this.addr,t)}function Eu(e,t){e.uniform1uiv(this.addr,t)}function Cu(e,t){e.uniform2uiv(this.addr,t)}function Pu(e,t){e.uniform3uiv(this.addr,t)}function ku(e,t){e.uniform4uiv(this.addr,t)}function Ru(e,t,n){const i=this.cache,r=t.length,a=Qc(n,r);let o;Kc(i,a)||(e.uniform1iv(this.addr,a),Yc(i,a)),o=this.type===e.SAMPLER_2D_SHADOW?Fc:zc;for(let s=0;s!==r;++s)n.setTexture2D(t[s]||o,a[s])}function Nu(e,t,n){const i=this.cache,r=t.length,a=Qc(n,r);Kc(i,a)||(e.uniform1iv(this.addr,a),Yc(i,a));for(let o=0;o!==r;++o)n.setTexture3D(t[o]||Uc,a[o])}function Du(e,t,n){const i=this.cache,r=t.length,a=Qc(n,r);Kc(i,a)||(e.uniform1iv(this.addr,a),Yc(i,a));for(let o=0;o!==r;++o)n.setTextureCube(t[o]||Hc,a[o])}function Iu(e,t,n){const i=this.cache,r=t.length,a=Qc(n,r);Kc(i,a)||(e.uniform1iv(this.addr,a),Yc(i,a));for(let o=0;o!==r;++o)n.setTexture2DArray(t[o]||Bc,a[o])}class Lu{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return Zc;case 35664:return Jc;case 35665:return $c;case 35666:return eu;case 35674:return tu;case 35675:return nu;case 35676:return iu;case 5124:case 35670:return ru;case 35667:case 35671:return au;case 35668:case 35672:return ou;case 35669:case 35673:return su;case 5125:return lu;case 36294:return cu;case 36295:return uu;case 36296:return du;case 35678:case 36198:case 36298:case 36306:case 35682:return hu;case 35679:case 36299:case 36307:return pu;case 35680:case 36300:case 36308:case 36293:return mu;case 36289:case 36303:case 36311:case 36292:return fu}}(t.type)}}class Ou{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return gu;case 35664:return yu;case 35665:return vu;case 35666:return bu;case 35674:return xu;case 35675:return _u;case 35676:return wu;case 5124:case 35670:return Su;case 35667:case 35671:return Mu;case 35668:case 35672:return Au;case 35669:case 35673:return Tu;case 5125:return Eu;case 36294:return Cu;case 36295:return Pu;case 36296:return ku;case 35678:case 36198:case 36298:case 36306:case 35682:return Ru;case 35679:case 36299:case 36307:return Nu;case 35680:case 36300:case 36308:case 36293:return Du;case 36289:case 36303:case 36311:case 36292:return Iu}}(t.type)}}class zu{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,a=i.length;r!==a;++r){const a=i[r];a.setValue(e,t[a.id],n)}}}const Fu=/(\w+)(\])?(\[|\.)?/g;function Bu(e,t){e.seq.push(t),e.map[t.id]=t}function Uu(e,t,n){const i=e.name,r=i.length;for(Fu.lastIndex=0;;){const a=Fu.exec(i),o=Fu.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===r){Bu(n,void 0===c?new Lu(s,e,t):new Ou(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new zu(s),Bu(n,e)),n=e}}}class Hu{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const n=e.getActiveUniform(t,a);Uu(n,e.getUniformLocation(t,n.name),this)}const i=[],r=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):r.push(a);i.length>0&&(this.seq=i.concat(r))}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,a=t.length;r!==a;++r){const a=t[r],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function Vu(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let Gu=0;const ju=new ga;function qu(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=(e.getShaderInfoLog(t)||"").trim();if(i&&""===r)return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const i=parseInt(a[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=r;o<a;o++){const e=o+1;i.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return i.join("\n")}(e.getShaderSource(t),i)}return r}function Wu(e,t){const n=function(e){_a._getMatrix(ju,_a.workingColorSpace,e);const t="mat3( ".concat(ju.elements.map(e=>e.toFixed(4))," )");switch(_a.getTransfer(e)){case kr:return[t,"LinearTransferOETF"];case Rr:return[t,"sRGBTransferOETF"];default:return Jr("WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return["vec4 ".concat(e,"( vec4 value ) {"),"\treturn ".concat(n[1],"( vec4( value.rgb * ").concat(n[0],", value.a ) );"),"}"].join("\n")}const Xu={[Zn]:"Linear",[Jn]:"Reinhard",[$n]:"Cineon",[ei]:"ACESFilmic",[ni]:"AgX",[ii]:"Neutral",[ti]:"Custom"};function Ku(e,t){const n=Xu[t];return void 0===n?(Jr("WebGLProgram: Unsupported toneMapping:",t),"vec3 "+e+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Yu=new pa;function Qu(){_a.getLuminanceCoefficients(Yu);const e=Yu.x.toFixed(4),t=Yu.y.toFixed(4),n=Yu.z.toFixed(4);return["float luminance( const in vec3 rgb ) {","\tconst vec3 weights = vec3( ".concat(e,", ").concat(t,", ").concat(n," );"),"\treturn dot( weights, rgb );","}"].join("\n")}function Zu(e){return""!==e}function Ju(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function $u(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ed=/^[ \t]*#include +<([\w\d./]+)>/gm;function td(e){return e.replace(ed,id)}const nd=new Map;function id(e,t){let n=nc[t];if(void 0===n){const e=nd.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=nc[e],Jr('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return td(n)}const rd=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ad(e){return e.replace(rd,od)}function od(e,t,n,i){let r="";for(let a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function sd(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}const ld={[yn]:"SHADOWMAP_TYPE_PCF",[vn]:"SHADOWMAP_TYPE_VSM"};const cd={[ri]:"ENVMAP_TYPE_CUBE",[ai]:"ENVMAP_TYPE_CUBE",[li]:"ENVMAP_TYPE_CUBE_UV"};const ud={[ai]:"ENVMAP_MODE_REFRACTION"};const dd={[Kn]:"ENVMAP_BLENDING_MULTIPLY",[Yn]:"ENVMAP_BLENDING_MIX",[Qn]:"ENVMAP_BLENDING_ADD"};function hd(e,t,n,i){const r=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){return ld[e.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}(n),c=function(e){return!1===e.envMap?"ENVMAP_TYPE_CUBE":cd[e.envMapMode]||"ENVMAP_TYPE_CUBE"}(n),u=function(e){return!1===e.envMap?"ENVMAP_MODE_REFLECTION":ud[e.envMapMode]||"ENVMAP_MODE_REFLECTION"}(n),d=function(e){return!1===e.envMap?"ENVMAP_BLENDING_NONE":dd[e.combine]||"ENVMAP_BLENDING_NONE"}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),p=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Zu).join("\n")}(n),m=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(a),f=r.createProgram();let g,y,v=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Zu).join("\n"),g.length>0&&(g+="\n"),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Zu).join("\n"),y.length>0&&(y+="\n")):(g=[sd(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Zu).join("\n"),y=[sd(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?nc.tonemapping_pars_fragment:"",0!==n.toneMapping?Ku("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",nc.colorspace_pars_fragment,Wu("linearToOutputTexel",n.outputColorSpace),Qu(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Zu).join("\n")),o=td(o),o=Ju(o,n),o=$u(o,n),s=td(s),s=Ju(s,n),s=$u(s,n),o=ad(o),s=ad(s),!0!==n.isRawShaderMaterial&&(v="#version 300 es\n",g=[p,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#define varying in",n.glslVersion===Vr?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Vr?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const b=v+g+o,x=v+y+s,_=Vu(r,r.VERTEX_SHADER,b),w=Vu(r,r.FRAGMENT_SHADER,x);function S(t){if(e.debug.checkShaderErrors){const n=r.getProgramInfoLog(f)||"",i=r.getShaderInfoLog(_)||"",a=r.getShaderInfoLog(w)||"",o=n.trim(),s=i.trim(),l=a.trim();let c=!0,u=!0;if(!1===r.getProgramParameter(f,r.LINK_STATUS))if(c=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(r,f,_,w);else{const e=qu(r,_,"vertex"),n=qu(r,w,"fragment");$r("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(f,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+o+"\n"+e+"\n"+n)}else""!==o?Jr("WebGLProgram: Program Info Log:",o):""!==s&&""!==l||(u=!1);u&&(t.diagnostics={runnable:c,programLog:o,vertexShader:{log:s,prefix:g},fragmentShader:{log:l,prefix:y}})}r.deleteShader(_),r.deleteShader(w),M=new Hu(r,f),A=function(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),a=i.name;let o=1;i.type===e.FLOAT_MAT2&&(o=2),i.type===e.FLOAT_MAT3&&(o=3),i.type===e.FLOAT_MAT4&&(o=4),n[a]={type:i.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(r,f)}let M,A;r.attachShader(f,_),r.attachShader(f,w),void 0!==n.index0AttributeName?r.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(f,0,"position"),r.linkProgram(f),this.getUniforms=function(){return void 0===M&&S(this),M},this.getAttributes=function(){return void 0===A&&S(this),A};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=r.getProgramParameter(f,37297)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(f),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Gu++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=_,this.fragmentShader=w,this}let pd=0;class md{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(i)&&(a.add(i),i.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new fd(e),t.set(e,n)),n}}class fd{constructor(e){this.id=pd++,this.code=e,this.usedTimes=0}}function gd(e,t,n,i,r,a,o){const s=new wo,l=new md,c=new Set,u=[],d=new Map,h=r.logarithmicDepthBuffer;let p=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,d,g){const y=d.fog,v=g.geometry,b=a.isMeshStandardMaterial?d.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),_=x&&x.mapping===li?x.image.height:null,w=m[a.type];null!==a.precision&&(p=r.getMaxPrecision(a.precision),p!==a.precision&&Jr("WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead."));const S=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,M=void 0!==S?S.length:0;let A,T,E,C,P=0;if(void 0!==v.morphAttributes.position&&(P=1),void 0!==v.morphAttributes.normal&&(P=2),void 0!==v.morphAttributes.color&&(P=3),w){const e=rc[w];A=e.vertexShader,T=e.fragmentShader}else A=a.vertexShader,T=a.fragmentShader,l.update(a),E=l.getVertexShaderID(a),C=l.getFragmentShaderID(a);const k=e.getRenderTarget(),R=e.state.buffers.depth.getReversed(),N=!0===g.isInstancedMesh,D=!0===g.isBatchedMesh,I=!!a.map,L=!!a.matcap,O=!!x,z=!!a.aoMap,F=!!a.lightMap,B=!!a.bumpMap,U=!!a.normalMap,H=!!a.displacementMap,V=!!a.emissiveMap,G=!!a.metalnessMap,j=!!a.roughnessMap,q=a.anisotropy>0,W=a.clearcoat>0,X=a.dispersion>0,K=a.iridescence>0,Y=a.sheen>0,Q=a.transmission>0,Z=q&&!!a.anisotropyMap,J=W&&!!a.clearcoatMap,$=W&&!!a.clearcoatNormalMap,ee=W&&!!a.clearcoatRoughnessMap,te=K&&!!a.iridescenceMap,ne=K&&!!a.iridescenceThicknessMap,ie=Y&&!!a.sheenColorMap,re=Y&&!!a.sheenRoughnessMap,ae=!!a.specularMap,oe=!!a.specularColorMap,se=!!a.specularIntensityMap,le=Q&&!!a.transmissionMap,ce=Q&&!!a.thicknessMap,ue=!!a.gradientMap,de=!!a.alphaMap,he=a.alphaTest>0,pe=!!a.alphaHash,me=!!a.extensions;let fe=0;a.toneMapped&&(null!==k&&!0!==k.isXRRenderTarget||(fe=e.toneMapping));const ge={shaderID:w,shaderType:a.type,shaderName:a.name,vertexShader:A,fragmentShader:T,defines:a.defines,customVertexShaderID:E,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,batching:D,batchingColor:D&&null!==g._colorsTexture,instancing:N,instancingColor:N&&null!==g.instanceColor,instancingMorph:N&&null!==g.morphTexture,outputColorSpace:null===k?e.outputColorSpace:!0===k.isXRRenderTarget?k.texture.colorSpace:Pr,alphaToCoverage:!!a.alphaToCoverage,map:I,matcap:L,envMap:O,envMapMode:O&&x.mapping,envMapCubeUVHeight:_,aoMap:z,lightMap:F,bumpMap:B,normalMap:U,displacementMap:H,emissiveMap:V,normalMapObjectSpace:U&&1===a.normalMapType,normalMapTangentSpace:U&&0===a.normalMapType,metalnessMap:G,roughnessMap:j,anisotropy:q,anisotropyMap:Z,clearcoat:W,clearcoatMap:J,clearcoatNormalMap:$,clearcoatRoughnessMap:ee,dispersion:X,iridescence:K,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:Y,sheenColorMap:ie,sheenRoughnessMap:re,specularMap:ae,specularColorMap:oe,specularIntensityMap:se,transmission:Q,transmissionMap:le,thicknessMap:ce,gradientMap:ue,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:de,alphaTest:he,alphaHash:pe,combine:a.combine,mapUv:I&&f(a.map.channel),aoMapUv:z&&f(a.aoMap.channel),lightMapUv:F&&f(a.lightMap.channel),bumpMapUv:B&&f(a.bumpMap.channel),normalMapUv:U&&f(a.normalMap.channel),displacementMapUv:H&&f(a.displacementMap.channel),emissiveMapUv:V&&f(a.emissiveMap.channel),metalnessMapUv:G&&f(a.metalnessMap.channel),roughnessMapUv:j&&f(a.roughnessMap.channel),anisotropyMapUv:Z&&f(a.anisotropyMap.channel),clearcoatMapUv:J&&f(a.clearcoatMap.channel),clearcoatNormalMapUv:$&&f(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&f(a.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&f(a.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&f(a.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&f(a.sheenColorMap.channel),sheenRoughnessMapUv:re&&f(a.sheenRoughnessMap.channel),specularMapUv:ae&&f(a.specularMap.channel),specularColorMapUv:oe&&f(a.specularColorMap.channel),specularIntensityMapUv:se&&f(a.specularIntensityMap.channel),transmissionMapUv:le&&f(a.transmissionMap.channel),thicknessMapUv:ce&&f(a.thicknessMap.channel),alphaMapUv:de&&f(a.alphaMap.channel),vertexTangents:!!v.attributes.tangent&&(U||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!v.attributes.color&&4===v.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!v.attributes.uv&&(I||de),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,reversedDepthBuffer:R,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==v.morphAttributes.position,morphNormals:void 0!==v.morphAttributes.normal,morphColors:void 0!==v.morphAttributes.color,morphTargetsCount:M,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:fe,decodeVideoTexture:I&&!0===a.map.isVideoTexture&&_a.getTransfer(a.map.colorSpace)===Rr,decodeVideoTextureEmissive:V&&!0===a.emissiveMap.isVideoTexture&&_a.getTransfer(a.emissiveMap.colorSpace)===Rr,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:me&&!0===a.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===a.extensions.multiDraw||D)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ge.vertexUv1s=c.has(1),ge.vertexUv2s=c.has(2),ge.vertexUv3s=c.has(3),c.clear(),ge},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.instancing&&s.enable(0);t.instancingColor&&s.enable(1);t.instancingMorph&&s.enable(2);t.matcap&&s.enable(3);t.envMap&&s.enable(4);t.normalMapObjectSpace&&s.enable(5);t.normalMapTangentSpace&&s.enable(6);t.clearcoat&&s.enable(7);t.iridescence&&s.enable(8);t.alphaTest&&s.enable(9);t.vertexColors&&s.enable(10);t.vertexAlphas&&s.enable(11);t.vertexUv1s&&s.enable(12);t.vertexUv2s&&s.enable(13);t.vertexUv3s&&s.enable(14);t.vertexTangents&&s.enable(15);t.anisotropy&&s.enable(16);t.alphaHash&&s.enable(17);t.batching&&s.enable(18);t.dispersion&&s.enable(19);t.batchingColor&&s.enable(20);t.gradientMap&&s.enable(21);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.reversedDepthBuffer&&s.enable(4);t.skinning&&s.enable(5);t.morphTargets&&s.enable(6);t.morphNormals&&s.enable(7);t.morphColors&&s.enable(8);t.premultipliedAlpha&&s.enable(9);t.shadowMapEnabled&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.decodeVideoTextureEmissive&&s.enable(20);t.alphaToCoverage&&s.enable(21);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=m[e.type];let n;if(t){const e=rc[t];n=Us.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i=d.get(n);return void 0!==i?++i.usedTimes:(i=new hd(e,n,t,a),u.push(i),d.set(n,i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),d.delete(e.cacheKey),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function yd(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function vd(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function bd(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function xd(){const e=[];let t=0;const n=[],i=[],r=[];function a(n,i,r,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?i.push(u):!0===o.transparent?r.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?i.unshift(u):!0===o.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||vd),i.length>1&&i.sort(t||bd),r.length>1&&r.sort(t||bd)}}}function _d(){let e=new WeakMap;return{get:function(t,n){const i=e.get(t);let r;return void 0===i?(r=new xd,e.set(t,[r])):n>=i.length?(r=new xd,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function wd(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new pa,color:new is};break;case"SpotLight":n={position:new pa,direction:new pa,color:new is,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new pa,color:new is,distance:0,decay:0};break;case"HemisphereLight":n={direction:new pa,skyColor:new is,groundColor:new is};break;case"RectAreaLight":n={color:new is,position:new pa,halfWidth:new pa,halfHeight:new pa}}return e[t.id]=n,n}}}let Sd=0;function Md(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Ad(e){const t=new wd,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new da};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new da,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)i.probe.push(new pa);const r=new pa,a=new uo,o=new uo;return{setup:function(r){let a=0,o=0,s=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,p=0,m=0,f=0,g=0,y=0,v=0;r.sort(Md);for(let e=0,x=r.length;e<x;e++){const b=r[e],x=b.color,_=b.intensity,w=b.distance;let S=null;if(b.shadow&&b.shadow.map&&(S=b.shadow.map.texture.format===Oi?b.shadow.map.texture:b.shadow.map.depthTexture||b.shadow.map.texture),b.isAmbientLight)a+=x.r*_,o+=x.g*_,s+=x.b*_;else if(b.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(b.sh.coefficients[e],_);v++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,i.directionalShadow[l]=t,i.directionalShadowMap[l]=S,i.directionalShadowMatrix[l]=b.shadow.matrix,p++}i.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(x).multiplyScalar(_),e.distance=w,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,i.spot[u]=e;const r=b.shadow;if(b.map&&(i.spotLightMap[g]=b.map,g++,r.updateMatrices(b),b.castShadow&&y++),i.spotLightMatrix[u]=r.matrix,b.castShadow){const e=n.get(b);e.shadowIntensity=r.intensity,e.shadowBias=r.bias,e.shadowNormalBias=r.normalBias,e.shadowRadius=r.radius,e.shadowMapSize=r.mapSize,i.spotShadow[u]=e,i.spotShadowMap[u]=S,f++}u++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(x).multiplyScalar(_),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),i.rectArea[d]=e,d++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,i.pointShadow[c]=t,i.pointShadowMap[c]=S,i.pointShadowMatrix[c]=b.shadow.matrix,m++}i.point[c]=e,c++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(_),e.groundColor.copy(b.groundColor).multiplyScalar(_),i.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=ic.LTC_FLOAT_1,i.rectAreaLTC2=ic.LTC_FLOAT_2):(i.rectAreaLTC1=ic.LTC_HALF_1,i.rectAreaLTC2=ic.LTC_HALF_2)),i.ambient[0]=a,i.ambient[1]=o,i.ambient[2]=s;const b=i.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===d&&b.hemiLength===h&&b.numDirectionalShadows===p&&b.numPointShadows===m&&b.numSpotShadows===f&&b.numSpotMaps===g&&b.numLightProbes===v||(i.directional.length=l,i.spot.length=u,i.rectArea.length=d,i.point.length=c,i.hemi.length=h,i.directionalShadow.length=p,i.directionalShadowMap.length=p,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=f,i.spotShadowMap.length=f,i.directionalShadowMatrix.length=p,i.pointShadowMatrix.length=m,i.spotLightMatrix.length=f+g-y,i.spotLightMap.length=g,i.numSpotLightShadowsWithMaps=y,i.numLightProbes=v,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=d,b.hemiLength=h,b.numDirectionalShadows=p,b.numPointShadows=m,b.numSpotShadows=f,b.numSpotMaps=g,b.numLightProbes=v,i.version=Sd++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,p=e.length;h<p;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),r.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),r.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(t.isPointLight){const e=i.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function Td(e){const t=new Ad(e),n=[],i=[];const r={lightsArray:n,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){r.camera=e,n.length=0,i.length=0},state:r,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function Ed(e){let t=new WeakMap;return{get:function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=t.get(n);let a;return void 0===r?(a=new Td(e),t.set(n,[a])):i>=r.length?(a=new Td(e),r.push(a)):a=r[i],a},dispose:function(){t=new WeakMap}}}const Cd=[new pa(1,0,0),new pa(-1,0,0),new pa(0,1,0),new pa(0,-1,0),new pa(0,0,1),new pa(0,0,-1)],Pd=[new pa(0,-1,0),new pa(0,-1,0),new pa(0,0,1),new pa(0,0,-1),new pa(0,-1,0),new pa(0,-1,0)],kd=new uo,Rd=new pa,Nd=new pa;function Dd(e,t,n){let i=new cl;const r=new da,a=new da,o=new Na,s=new vl,l=new bl,c={},u=n.maxTextureSize,d={[bn]:1,[xn]:0,[_n]:2},h=new Hs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new da},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );\n\tgl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const m=new ws;m.setAttribute("position",new ds(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new Is(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let y=this.type;function v(n,i){const a=t.update(f);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Ia(r.x,r.y,{format:Oi,type:Ai})),h.uniforms.shadow_pass.value=n.map.depthTexture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,a,h,f,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,a,p,f,null)}function b(t,n,i,r){let a=null;const o=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===i.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let i=c[e];void 0===i&&(i={},c[e]=i);let r=i[t];void 0===r&&(r=a.clone(),i[t]=r,n.addEventListener("dispose",_)),a=r}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===r?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===i.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=i}return a}function x(n,r,a,o,s){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const i=t.update(n),l=n.material;if(Array.isArray(l)){const t=i.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=b(n,d,o,s);n.onBeforeShadow(e,n,r,a,i,t,u),e.renderBufferDirect(a,null,i,t,n,u),n.onAfterShadow(e,n,r,a,i,t,u)}}}else if(l.visible){const t=b(n,l,o,s);n.onBeforeShadow(e,n,r,a,i,t,null),e.renderBufferDirect(a,null,i,t,n,null),n.onAfterShadow(e,n,r,a,i,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],r,a,o,s)}function _(e){e.target.removeEventListener("dispose",_);for(const t in c){const n=c[t],i=e.target.uuid;if(i in n){n[i].dispose(),delete n[i]}}}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;2===t.type&&(Jr("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),t.type=1);const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),!0===h.buffers.depth.getReversed()?h.buffers.color.setClear(0,0,0,0):h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const p=y!==this.type;p&&n.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.needsUpdate=!0):e.material.needsUpdate=!0)});for(let m=0,f=t.length;m<f;m++){const l=t[m],c=l.shadow;if(void 0===c){Jr("WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;r.copy(c.mapSize);const d=c.getFrameExtents();if(r.multiply(d),a.copy(c.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/d.x),r.x=a.x*d.x,c.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/d.y),r.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map||!0===p){if(null!==c.map&&(null!==c.map.depthTexture&&(c.map.depthTexture.dispose(),c.map.depthTexture=null),c.map.dispose()),3===this.type){if(l.isPointLight){Jr("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}c.map=new Ia(r.x,r.y,{format:Oi,type:Ai,minFilter:fi,magFilter:fi,generateMipmaps:!1}),c.map.texture.name=l.name+".shadowMap",c.map.depthTexture=new ul(r.x,r.y,Mi),c.map.depthTexture.name=l.name+".shadowMapDepth",c.map.depthTexture.format=Ni,c.map.depthTexture.compareFunction=null,c.map.depthTexture.minFilter=hi,c.map.depthTexture.magFilter=hi}else{l.isPointLight?(c.map=new Qs(r.x),c.map.depthTexture=new dl(r.x,Si)):(c.map=new Ia(r.x,r.y),c.map.depthTexture=new ul(r.x,r.y,Si)),c.map.depthTexture.name=l.name+".shadowMap",c.map.depthTexture.format=Ni;const t=e.state.buffers.depth.getReversed();1===this.type?(c.map.depthTexture.compareFunction=t?518:515,c.map.depthTexture.minFilter=fi,c.map.depthTexture.magFilter=fi):(c.map.depthTexture.compareFunction=null,c.map.depthTexture.minFilter=hi,c.map.depthTexture.magFilter=hi)}c.camera.updateProjectionMatrix()}const f=c.map.isWebGLCubeRenderTarget?6:1;for(let t=0;t<f;t++){if(c.map.isWebGLCubeRenderTarget)e.setRenderTarget(c.map,t),e.clear();else{0===t&&(e.setRenderTarget(c.map),e.clear());const n=c.getViewport(t);o.set(a.x*n.x,a.y*n.y,a.x*n.z,a.y*n.w),h.viewport(o)}if(l.isPointLight){const e=c.camera,n=c.matrix,i=l.distance||e.far;i!==e.far&&(e.far=i,e.updateProjectionMatrix()),Rd.setFromMatrixPosition(l.matrixWorld),e.position.copy(Rd),Nd.copy(e.position),Nd.add(Cd[t]),e.up.copy(Pd[t]),e.lookAt(Nd),e.updateMatrixWorld(),n.makeTranslation(-Rd.x,-Rd.y,-Rd.z),kd.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),c._frustum.setFromProjectionMatrix(kd,e.coordinateSystem,e.reversedDepth)}else c.updateMatrices(l);i=c.getFrustum(),x(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&v(c,s),c.needsUpdate=!1}y=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}const Id={[Un]:1,[Vn]:6,[jn]:7,[Gn]:5,[Hn]:0,[Wn]:2,[Xn]:4,[qn]:3};function Ld(e,t){const n=new function(){let t=!1;const n=new Na;let i=null;const r=new Na(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},i=new function(){let n=!1,i=!1,r=null,a=null,o=null;return{setReversed:function(e){if(i!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),i=e;const r=o;o=null,this.setClear(r)}},getReversed:function(){return i},setTest:function(t){t?U(e.DEPTH_TEST):H(e.DEPTH_TEST)},setMask:function(t){r===t||n||(e.depthMask(t),r=t)},setFunc:function(t){if(i&&(t=Id[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(i&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,r=null,a=null,o=null,i=!1}}},r=new function(){let t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?U(e.STENCIL_TEST):H(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}},a=new WeakMap,o=new WeakMap;let s={},l={},c=new WeakMap,u=[],d=null,h=!1,p=null,m=null,f=null,g=null,y=null,v=null,b=null,x=new is(0,0,0),_=0,w=!1,S=null,M=null,A=null,T=null,E=null;const C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,k=0;const R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?(k=parseFloat(/^WebGL (\d)/.exec(R)[1]),P=k>=1):-1!==R.indexOf("OpenGL ES")&&(k=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),P=k>=2);let N=null,D={};const I=e.getParameter(e.SCISSOR_BOX),L=e.getParameter(e.VIEWPORT),O=(new Na).fromArray(I),z=(new Na).fromArray(L);function F(t,n,i,r){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<i;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,r,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const B={};function U(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function H(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}B[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),B[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),B[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),B[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),i.setClear(1),r.setClear(0),U(e.DEPTH_TEST),i.setFunc(3),q(!1),W(1),U(e.CULL_FACE),j(0);const V={[wn]:e.FUNC_ADD,[Sn]:e.FUNC_SUBTRACT,[Mn]:e.FUNC_REVERSE_SUBTRACT};V[103]=e.MIN,V[104]=e.MAX;const G={[An]:e.ZERO,[Tn]:e.ONE,[En]:e.SRC_COLOR,[Pn]:e.SRC_ALPHA,[Ln]:e.SRC_ALPHA_SATURATE,[Dn]:e.DST_COLOR,[Rn]:e.DST_ALPHA,[Cn]:e.ONE_MINUS_SRC_COLOR,[kn]:e.ONE_MINUS_SRC_ALPHA,[In]:e.ONE_MINUS_DST_COLOR,[Nn]:e.ONE_MINUS_DST_ALPHA,[On]:e.CONSTANT_COLOR,[zn]:e.ONE_MINUS_CONSTANT_COLOR,[Fn]:e.CONSTANT_ALPHA,[Bn]:e.ONE_MINUS_CONSTANT_ALPHA};function j(t,n,i,r,a,o,s,l,c,u){if(0!==t){if(!1===h&&(U(e.BLEND),h=!0),5===t)a=a||n,o=o||i,s=s||r,n===m&&a===y||(e.blendEquationSeparate(V[n],V[a]),m=n,y=a),i===f&&r===g&&o===v&&s===b||(e.blendFuncSeparate(G[i],G[r],G[o],G[s]),f=i,g=r,v=o,b=s),!1!==l.equals(x)&&c===_||(e.blendColor(l.r,l.g,l.b,c),x.copy(l),_=c),p=t,w=!1;else if(t!==p||u!==w){if(m===wn&&y===wn||(e.blendEquation(e.FUNC_ADD),m=wn,y=wn),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:$r("WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case 3:$r("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case 4:$r("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:$r("WebGLState: Invalid blending: ",t)}f=null,g=null,v=null,b=null,x.set(0,0,0),_=0,p=t,w=u}}else!0===h&&(H(e.BLEND),h=!1)}function q(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function W(t){0!==t?(U(e.CULL_FACE),t!==M&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):H(e.CULL_FACE),M=t}function X(t,n,i){t?(U(e.POLYGON_OFFSET_FILL),T===n&&E===i||(e.polygonOffset(n,i),T=n,E=i)):H(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:i,stencil:r},enable:U,disable:H,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let i=u,r=!1;if(t){i=c.get(n),void 0===i&&(i=[],c.set(n,i));const a=t.textures;if(i.length!==a.length||i[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)i[t]=e.COLOR_ATTACHMENT0+t;i.length=a.length,r=!0}}else i[0]!==e.BACK&&(i[0]=e.BACK,r=!0);r&&e.drawBuffers(i)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:j,setMaterial:function(t,a){2===t.side?H(e.CULL_FACE):U(e.CULL_FACE);let o=1===t.side;a&&(o=!o),q(o),1===t.blending&&!1===t.transparent?j(0):j(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),i.setFunc(t.depthFunc),i.setTest(t.depthTest),i.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;r.setTest(s),s&&(r.setMask(t.stencilWriteMask),r.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),r.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),X(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?U(e.SAMPLE_ALPHA_TO_COVERAGE):H(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:q,setCullFace:W,setLineWidth:function(t){t!==A&&(P&&e.lineWidth(t),A=t)},setPolygonOffset:X,setScissorTest:function(t){t?U(e.SCISSOR_TEST):H(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+C-1),N!==t&&(e.activeTexture(t),N=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===N?e.TEXTURE0+C-1:N);let r=D[i];void 0===r&&(r={type:void 0,texture:void 0},D[i]=r),r.type===t&&r.texture===n||(N!==i&&(e.activeTexture(i),N=i),e.bindTexture(t,n||B[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=D[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},updateUBOMapping:function(t,n){let i=o.get(n);void 0===i&&(i=new WeakMap,o.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){const i=o.get(n).get(t);a.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),a.set(n,i))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(Lb){$r("WebGLState:",Lb)}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),i.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},N=null,D={},l={},c=new WeakMap,u=[],d=null,h=!1,p=null,m=null,f=null,g=null,y=null,v=null,b=null,x=new is(0,0,0),_=0,w=!1,S=null,M=null,A=null,T=null,E=null,O.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),n.reset(),i.reset(),r.reset()}}}function Od(e,t,n,i,r,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new da,u=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(j){}function m(e,t){return p?new OffscreenCanvas(e,t):Xr("canvas")}function f(e,t,n){let i=1;const r=G(e);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(i*r.width),a=Math.floor(i*r.height);void 0===d&&(d=m(n,a));const o=t?m(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),Jr("WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+a+")."),o}return"data"in e&&Jr("WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),e}return e}function g(e){return e.generateMipmaps}function y(t){e.generateMipmap(t)}function v(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function b(n,i,r,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];Jr("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=i;if(i===e.RED&&(r===e.FLOAT&&(s=e.R32F),r===e.HALF_FLOAT&&(s=e.R16F),r===e.UNSIGNED_BYTE&&(s=e.R8)),i===e.RED_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.R8UI),r===e.UNSIGNED_SHORT&&(s=e.R16UI),r===e.UNSIGNED_INT&&(s=e.R32UI),r===e.BYTE&&(s=e.R8I),r===e.SHORT&&(s=e.R16I),r===e.INT&&(s=e.R32I)),i===e.RG&&(r===e.FLOAT&&(s=e.RG32F),r===e.HALF_FLOAT&&(s=e.RG16F),r===e.UNSIGNED_BYTE&&(s=e.RG8)),i===e.RG_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RG8UI),r===e.UNSIGNED_SHORT&&(s=e.RG16UI),r===e.UNSIGNED_INT&&(s=e.RG32UI),r===e.BYTE&&(s=e.RG8I),r===e.SHORT&&(s=e.RG16I),r===e.INT&&(s=e.RG32I)),i===e.RGB_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RGB8UI),r===e.UNSIGNED_SHORT&&(s=e.RGB16UI),r===e.UNSIGNED_INT&&(s=e.RGB32UI),r===e.BYTE&&(s=e.RGB8I),r===e.SHORT&&(s=e.RGB16I),r===e.INT&&(s=e.RGB32I)),i===e.RGBA_INTEGER&&(r===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),r===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),r===e.UNSIGNED_INT&&(s=e.RGBA32UI),r===e.BYTE&&(s=e.RGBA8I),r===e.SHORT&&(s=e.RGBA16I),r===e.INT&&(s=e.RGBA32I)),i===e.RGB&&(r===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),r===e.UNSIGNED_INT_10F_11F_11F_REV&&(s=e.R11F_G11F_B10F)),i===e.RGBA){const t=o?kr:_a.getTransfer(a);r===e.FLOAT&&(s=e.RGBA32F),r===e.HALF_FLOAT&&(s=e.RGBA16F),r===e.UNSIGNED_BYTE&&(s=t===Rr?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function x(t,n){let i;return t?null===n||n===Si||n===Ci?i=e.DEPTH24_STENCIL8:n===Mi?i=e.DEPTH32F_STENCIL8:n===_i&&(i=e.DEPTH24_STENCIL8,Jr("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===Si||n===Ci?i=e.DEPTH_COMPONENT24:n===Mi?i=e.DEPTH_COMPONENT32F:n===_i&&(i=e.DEPTH_COMPONENT16),i}function _(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==hi&&e.minFilter!==fi?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function w(e){const t=e.target;t.removeEventListener("dispose",w),function(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=h.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&M(e),0===Object.keys(r).length&&h.delete(n)}i.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=i.get(t);t.depthTexture&&(t.depthTexture.dispose(),i.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++){if(Array.isArray(n.__webglFramebuffer[i]))for(let t=0;t<n.__webglFramebuffer[i].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[i][t]);else e.deleteFramebuffer(n.__webglFramebuffer[i]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const r=t.textures;for(let a=0,s=r.length;a<s;a++){const t=i.get(r[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),i.remove(r[a])}i.remove(t)}(n)}function M(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source;delete h.get(r)[n.__cacheKey],o.memory.textures--}let A=0;function T(t,r){const a=i.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)Jr("WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void D(a,t,r);Jr("WebGLRenderer: Texture marked for update but image is incomplete")}}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+r)}const E={[ci]:e.REPEAT,[ui]:e.CLAMP_TO_EDGE,[di]:e.MIRRORED_REPEAT},C={[hi]:e.NEAREST,[pi]:e.NEAREST_MIPMAP_NEAREST,[mi]:e.NEAREST_MIPMAP_LINEAR,[fi]:e.LINEAR,[gi]:e.LINEAR_MIPMAP_NEAREST,[yi]:e.LINEAR_MIPMAP_LINEAR},P={[Dr]:e.NEVER,[Ur]:e.ALWAYS,[Ir]:e.LESS,[Or]:e.LEQUAL,[Lr]:e.EQUAL,[Br]:e.GEQUAL,[zr]:e.GREATER,[Fr]:e.NOTEQUAL};function k(n,a){if(a.type!==Mi||!1!==t.has("OES_texture_float_linear")||a.magFilter!==fi&&a.magFilter!==gi&&a.magFilter!==mi&&a.magFilter!==yi&&a.minFilter!==fi&&a.minFilter!==gi&&a.minFilter!==mi&&a.minFilter!==yi||Jr("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,E[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,E[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,E[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,P[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===hi)return;if(a.minFilter!==mi&&a.minFilter!==yi)return;if(a.type===Mi&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||i.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy}}}function R(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));const r=n.source;let a=h.get(r);void 0===a&&(a={},h.set(r,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,i=!0),a[s].usedTimes++;const r=a[t.__cacheKey];void 0!==r&&(a[t.__cacheKey].usedTimes--,0===r.usedTimes&&M(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return i}function N(e,t,n){return Math.floor(Math.floor(e/n)/t)}function D(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const c=R(t,o),u=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=i.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=_a.getPrimaries(_a.workingColorSpace),i=o.colorSpace===Er?null:_a.getPrimaries(o.colorSpace),h=o.colorSpace===Er||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let p=f(o.image,!1,r.maxTextureSize);p=V(o,p);const m=a.convert(o.format,o.colorSpace),v=a.convert(o.type);let w,S=b(o.internalFormat,m,v,o.colorSpace,o.isVideoTexture);k(l,o);const M=o.mipmaps,A=!0!==o.isVideoTexture,T=void 0===d.__version||!0===c,E=u.dataReady,C=_(o,p);if(o.isDepthTexture)S=x(o.format===Di,o.type),T&&(A?n.texStorage2D(e.TEXTURE_2D,1,S,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,S,p.width,p.height,0,m,v,null));else if(o.isDataTexture)if(M.length>0){A&&T&&n.texStorage2D(e.TEXTURE_2D,C,S,M[0].width,M[0].height);for(let t=0,i=M.length;t<i;t++)w=M[t],A?E&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,m,v,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,m,v,w.data);o.generateMipmaps=!1}else A?(T&&n.texStorage2D(e.TEXTURE_2D,C,S,p.width,p.height),E&&function(t,i,r,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,r,a,i.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],r=t.start+t.count,a=N(n.start,i.width,4),l=N(t.start,i.width,4);n.start<=r+1&&a===l&&N(n.start+n.count-1,i.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,i.width);for(let t=0,d=o.length;t<d;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%i.width,d=Math.floor(l/i.width),h=c,p=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,h,p,r,a,i.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}(o,p,m,v)):n.texImage2D(e.TEXTURE_2D,0,S,p.width,p.height,0,m,v,p.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){A&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,M[0].width,M[0].height,p.depth);for(let t=0,i=M.length;t<i;t++)if(w=M[t],o.format!==Ri)if(null!==m)if(A){if(E)if(o.layerUpdates.size>0){const i=$l(w.width,w.height,o.format,o.type);for(const r of o.layerUpdates){const a=w.data.subarray(r*i/w.data.BYTES_PER_ELEMENT,(r+1)*i/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,r,w.width,w.height,1,m,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,p.depth,m,w.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,p.depth,0,w.data,0,0);else Jr("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else A?E&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,p.depth,m,v,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,p.depth,0,m,v,w.data)}else{A&&T&&n.texStorage2D(e.TEXTURE_2D,C,S,M[0].width,M[0].height);for(let t=0,i=M.length;t<i;t++)w=M[t],o.format!==Ri?null!==m?A?E&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,m,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,w.data):Jr("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):A?E&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,m,v,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,m,v,w.data)}else if(o.isDataArrayTexture)if(A){if(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,p.width,p.height,p.depth),E)if(o.layerUpdates.size>0){const t=$l(p.width,p.height,o.format,o.type);for(const i of o.layerUpdates){const r=p.data.subarray(i*t/p.data.BYTES_PER_ELEMENT,(i+1)*t/p.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,i,p.width,p.height,1,m,v,r)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,p.width,p.height,p.depth,0,m,v,p.data);else if(o.isData3DTexture)A?(T&&n.texStorage3D(e.TEXTURE_3D,C,S,p.width,p.height,p.depth),E&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(e.TEXTURE_3D,0,S,p.width,p.height,p.depth,0,m,v,p.data);else if(o.isFramebufferTexture){if(T)if(A)n.texStorage2D(e.TEXTURE_2D,C,S,p.width,p.height);else{let t=p.width,i=p.height;for(let r=0;r<C;r++)n.texImage2D(e.TEXTURE_2D,r,S,t,i,0,m,v,null),t>>=1,i>>=1}}else if(M.length>0){if(A&&T){const t=G(M[0]);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}for(let t=0,i=M.length;t<i;t++)w=M[t],A?E&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,m,v,w):n.texImage2D(e.TEXTURE_2D,t,S,m,v,w);o.generateMipmaps=!1}else if(A){if(T){const t=G(p);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}E&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,v,p)}else n.texImage2D(e.TEXTURE_2D,0,S,m,v,p);g(o)&&y(l),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function I(t,r,o,l,c,u){const d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),p=b(o.internalFormat,d,h,o.colorSpace),m=i.get(r),f=i.get(o);if(f.__renderTarget=r,!m.__hasExternalTextures){const t=Math.max(1,r.width>>u),i=Math.max(1,r.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,i,r.depth,0,d,h,null):n.texImage2D(c,u,p,t,i,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),H(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,f.__webglTexture,0,U(r)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,f.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function L(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const r=n.depthTexture,a=r&&r.isDepthTexture?r.type:null,o=x(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;H(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,U(n),o,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,U(n),o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let r=0;r<t.length;r++){const o=t[r],l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=b(o.internalFormat,l,c,o.colorSpace);H(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,U(n),u,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,U(n),u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function O(t,r,o){const l=!0===r.isWebGLCubeRenderTarget;if(n.bindFramebuffer(e.FRAMEBUFFER,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const c=i.get(r.depthTexture);if(c.__renderTarget=r,c.__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),l){if(void 0===c.__webglInit&&(c.__webglInit=!0,r.depthTexture.addEventListener("dispose",w)),void 0===c.__webglTexture){c.__webglTexture=e.createTexture(),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),k(e.TEXTURE_CUBE_MAP,r.depthTexture);const t=a.convert(r.depthTexture.format),i=a.convert(r.depthTexture.type);let o;r.depthTexture.format===Ni?o=e.DEPTH_COMPONENT24:r.depthTexture.format===Di&&(o=e.DEPTH24_STENCIL8);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,o,r.width,r.height,0,t,i,null)}}else T(r.depthTexture,0);const u=c.__webglTexture,d=U(r),h=l?e.TEXTURE_CUBE_MAP_POSITIVE_X+o:e.TEXTURE_2D,p=r.depthTexture.format===Di?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;if(r.depthTexture.format===Ni)H(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,p,h,u,0,d):e.framebufferTexture2D(e.FRAMEBUFFER,p,h,u,0);else{if(r.depthTexture.format!==Di)throw new Error("Unknown depthTexture format");H(r)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,p,h,u,0,d):e.framebufferTexture2D(e.FRAMEBUFFER,p,h,u,0)}}function z(t){const r=i.get(t),a=!0===t.isWebGLCubeRenderTarget;if(r.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(r.__depthDisposeCallback&&r.__depthDisposeCallback(),e){const t=()=>{delete r.__boundDepthTexture,delete r.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),r.__depthDisposeCallback=t}r.__boundDepthTexture=e}if(t.depthTexture&&!r.__autoAllocateDepthBuffer)if(a)for(let e=0;e<6;e++)O(r.__webglFramebuffer[e],t,e);else{const e=t.texture.mipmaps;e&&e.length>0?O(r.__webglFramebuffer[0],t,0):O(r.__webglFramebuffer,t,0)}else if(a){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)if(n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),void 0===r.__webglDepthbuffer[i])r.__webglDepthbuffer[i]=e.createRenderbuffer(),L(r.__webglDepthbuffer[i],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=r.__webglDepthbuffer[i];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const i=t.texture.mipmaps;if(i&&i.length>0?n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),void 0===r.__webglDepthbuffer)r.__webglDepthbuffer=e.createRenderbuffer(),L(r.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,i=r.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,i),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,i)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const F=[],B=[];function U(e){return Math.min(r.maxSamples,e.samples)}function H(e){const n=i.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,t){const n=e.colorSpace,i=e.format,r=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Pr&&n!==Er&&(_a.getTransfer(n)===Rr?i===Ri&&r===vi||Jr("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):$r("WebGLTextures: Unsupported texture color space:",n)),t}function G(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=A;return e>=r.maxTextures&&Jr("WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+r.maxTextures),A+=1,e},this.resetTextureUnits=function(){A=0},this.setTexture2D=T,this.setTexture2DArray=function(t,r){const a=i.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?D(a,t,r):(t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+r))},this.setTexture3D=function(t,r){const a=i.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?D(a,t,r):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+r)},this.setTextureCube=function(t,o){const s=i.get(t);!0!==t.isCubeDepthTexture&&t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=R(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=i.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=_a.getPrimaries(_a.workingColorSpace),i=o.colorSpace===Er?null:_a.getPrimaries(o.colorSpace),d=o.colorSpace===Er||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=o.isCompressedTexture||o.image[0].isCompressedTexture,p=o.image[0]&&o.image[0].isDataTexture,m=[];for(let e=0;e<6;e++)m[e]=h||p?p?o.image[e].image:o.image[e]:f(o.image[e],!0,r.maxCubemapSize),m[e]=V(o,m[e]);const v=m[0],x=a.convert(o.format,o.colorSpace),w=a.convert(o.type),S=b(o.internalFormat,x,w,o.colorSpace),M=!0!==o.isVideoTexture,A=void 0===u.__version||!0===l,T=c.dataReady;let E,C=_(o,v);if(k(e.TEXTURE_CUBE_MAP,o),h){M&&A&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,v.width,v.height);for(let t=0;t<6;t++){E=m[t].mipmaps;for(let i=0;i<E.length;i++){const r=E[i];o.format!==Ri?null!==x?M?T&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,x,r.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,S,r.width,r.height,0,r.data):Jr("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,x,w,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,S,r.width,r.height,0,x,w,r.data)}}}else{if(E=o.mipmaps,M&&A){E.length>0&&C++;const t=G(m[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,t.width,t.height)}for(let t=0;t<6;t++)if(p){M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m[t].width,m[t].height,x,w,m[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,m[t].width,m[t].height,0,x,w,m[t].data);for(let i=0;i<E.length;i++){const r=E[i].image[t].image;M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,r.width,r.height,x,w,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,S,r.width,r.height,0,x,w,r.data)}}else{M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,w,m[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,w,m[t]);for(let i=0;i<E.length;i++){const r=E[i];M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,x,w,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,S,x,w,r.image[t])}}}g(o)&&y(e.TEXTURE_CUBE_MAP),u.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,r){const a=i.get(t);void 0!==n&&I(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==r&&z(t)},this.setupRenderTarget=function(t){const r=t.texture,s=i.get(t),l=i.get(r);t.addEventListener("dispose",S);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=r.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(r.mipmaps&&r.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<r.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<r.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=i.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===H(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const i=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const r=a.convert(i.format,i.colorSpace),o=a.convert(i.type),l=b(i.internalFormat,r,o,i.colorSpace,!0===t.isXRRenderTarget),u=U(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),L(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),k(e.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)I(s.__webglFramebuffer[n][i],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else I(s.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(r)&&y(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,a=c.length;r<a;r++){const a=c[r],o=i.get(a);let l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,o.__webglTexture),k(l,a),I(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+r,l,0),g(a)&&y(l)}n.unbindTexture()}else{let i=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(i,l.__webglTexture),k(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)I(s.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,i,n);else I(s.__webglFramebuffer,t,r,e.COLOR_ATTACHMENT0,i,0);g(r)&&y(i),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let r=0,a=t.length;r<a;r++){const a=t[r];if(g(a)){const t=v(e),r=i.get(a).__webglTexture;n.bindTexture(t,r),y(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===H(t)){const r=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=i.get(t),d=r.length>1;if(d)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(F.length=0,B.length=0,F.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(F.push(c),B.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,B)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,F))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=I,this.useMultisampledRTT=H,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function zd(e,t){return{convert:function(n){let i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Er;const a=_a.getTransfer(r);if(n===vi)return e.UNSIGNED_BYTE;if(n===Ti)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ei)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Pi)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===ki)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===bi)return e.BYTE;if(n===xi)return e.SHORT;if(n===_i)return e.UNSIGNED_SHORT;if(n===wi)return e.INT;if(n===Si)return e.UNSIGNED_INT;if(n===Mi)return e.FLOAT;if(n===Ai)return e.HALF_FLOAT;if(1021===n)return e.ALPHA;if(1022===n)return e.RGB;if(n===Ri)return e.RGBA;if(n===Ni)return e.DEPTH_COMPONENT;if(n===Di)return e.DEPTH_STENCIL;if(n===Ii)return e.RED;if(n===Li)return e.RED_INTEGER;if(n===Oi)return e.RG;if(n===zi)return e.RG_INTEGER;if(n===Fi)return e.RGBA_INTEGER;if(n===Bi||n===Ui||n===Hi||n===Vi)if(a===Rr){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Bi)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ui)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Hi)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Vi)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Bi)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ui)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Hi)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Vi)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Gi||n===ji||n===qi||n===Wi){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===Gi)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ji)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===qi)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Wi)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Xi||n===Ki||n===Yi||n===Qi||n===Zi||n===Ji||n===$i){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===Xi||n===Ki)return a===Rr?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Yi)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC;if(n===Qi)return i.COMPRESSED_R11_EAC;if(n===Zi)return i.COMPRESSED_SIGNED_R11_EAC;if(n===Ji)return i.COMPRESSED_RG11_EAC;if(n===$i)return i.COMPRESSED_SIGNED_RG11_EAC}if(n===er||n===tr||n===nr||n===ir||n===rr||n===ar||n===or||n===sr||n===lr||n===cr||n===ur||n===dr||n===hr||n===pr){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===er)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===tr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===nr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ir)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===rr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ar)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===or)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===sr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===lr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===cr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ur)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===dr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===hr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===pr)return a===Rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===mr||n===fr||n===gr){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===mr)return a===Rr?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===fr)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===gr)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===yr||n===vr||n===br||n===xr){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===yr)return i.COMPRESSED_RED_RGTC1_EXT;if(n===vr)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===br)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===xr)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Ci?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Fd{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){const n=new hl(e.texture);e.depthNear===t.depthNear&&e.depthFar===t.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Hs({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Is(new ml(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Bd extends ta{constructor(e,t){super();const n=this;let i=null,r=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,p=null;const m="undefined"!==typeof XRWebGLBinding,f=new Fd,g={},y=t.getContextAttributes();let v=null,b=null;const x=[],_=[],w=new da;let S=null;const M=new Ws;M.viewport=new Na;const A=new Ws;A.viewport=new Na;const T=[M,A],E=new ql;let C=null,P=null;function k(e){const t=_.indexOf(e.inputSource);if(-1===t)return;const n=x[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function R(){i.removeEventListener("select",k),i.removeEventListener("selectstart",k),i.removeEventListener("selectend",k),i.removeEventListener("squeeze",k),i.removeEventListener("squeezestart",k),i.removeEventListener("squeezeend",k),i.removeEventListener("end",R),i.removeEventListener("inputsourceschange",N);for(let e=0;e<x.length;e++){const t=_[e];null!==t&&(_[e]=null,x[e].disconnect(t))}C=null,P=null,f.reset();for(const e in g)delete g[e];e.setRenderTarget(v),h=null,d=null,u=null,i=null,b=null,z.stop(),n.isPresenting=!1,e.setPixelRatio(S),e.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}function N(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=_.indexOf(n);i>=0&&(_[i]=null,x[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=_.indexOf(n);if(-1===i){for(let e=0;e<x.length;e++){if(e>=_.length){_.push(n),i=e;break}if(null===_[e]){_[e]=n,i=e;break}}if(-1===i)break}const r=x[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=x[e];return void 0===t&&(t=new $s,x[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=x[e];return void 0===t&&(t=new $s,x[e]=t),t.getGripSpace()},this.getHand=function(e){let t=x[e];return void 0===t&&(t=new $s,x[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&Jr("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&Jr("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return null===u&&m&&(u=new XRWebGLBinding(i,t)),u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){v=e.getRenderTarget(),i.addEventListener("select",k),i.addEventListener("selectstart",k),i.addEventListener("selectend",k),i.addEventListener("squeeze",k),i.addEventListener("squeezestart",k),i.addEventListener("squeezeend",k),i.addEventListener("end",R),i.addEventListener("inputsourceschange",N),!0!==y.xrCompatible&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(w);if(m&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,o=null;y.depth&&(o=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=y.stencil?Di:Ni,a=y.stencil?Ci:Si);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:r};u=this.getBinding(),d=u.createProjectionLayer(s),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new Ia(d.textureWidth,d.textureHeight,{format:Ri,type:vi,depthTexture:new ul(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),b=new Ia(h.framebufferWidth,h.framebufferHeight,{format:Ri,type:vi,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}b.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await i.requestReferenceSpace(o),z.setContext(i),z.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return f.getDepthTexture()};const D=new pa,I=new pa;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;let t=e.near,n=e.far;null!==f.texture&&(f.depthNear>0&&(t=f.depthNear),f.depthFar>0&&(n=f.depthFar)),E.near=A.near=M.near=t,E.far=A.far=M.far=n,C===E.near&&P===E.far||(i.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,P=E.far),E.layers.mask=6|e.layers.mask,M.layers.mask=3&E.layers.mask,A.layers.mask=5&E.layers.mask;const r=e.parent,a=E.cameras;L(E,r);for(let i=0;i<a.length;i++)L(a[i],r);2===a.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const i=D.distanceTo(I),r=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(a[8]+1)/a[0],h=o*u,p=o*d,m=i/(-u+d),f=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===r[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+m,n=s+m,r=h-f,a=p+(i-f),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(r,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(E,M,A):E.projectionMatrix.copy(M.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*ra*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,E,r)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==f.texture},this.getDepthSensingMesh=function(){return f.getMesh(E)},this.getCameraTexture=function(e){return g[e]};let O=null;const z=new ec;z.setAnimationLoop(function(t,r){if(c=r.getViewerPose(l||a),p=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let r=!1;t.length!==E.cameras.length&&(E.cameras.length=0,r=!0);for(let n=0;n<t.length;n++){const i=t[n];let a=null;if(null!==h)a=h.getViewport(i);else{const t=u.getViewSubImage(d,i);a=t.viewport,0===n&&(e.setRenderTargetTextures(b,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(b))}let o=T[n];void 0===o&&(o=new Ws,o.layers.enable(n),o.viewport=new Na,T[n]=o),o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(i.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&(E.matrix.copy(o.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===r&&E.cameras.push(o)}const a=i.enabledFeatures;if(a&&a.includes("depth-sensing")&&"gpu-optimized"==i.depthUsage&&m){u=n.getBinding();const e=u.getDepthInformation(t[0]);e&&e.isValid&&e.texture&&f.init(e,i.renderState)}if(a&&a.includes("camera-access")&&m){e.state.unbindTexture(),u=n.getBinding();for(let e=0;e<t.length;e++){const n=t[e].camera;if(n){let e=g[n];e||(e=new hl,g[n]=e);const t=u.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<x.length;e++){const t=_[e],n=x[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}O&&O(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),p=null}),this.setAnimationLoop=function(e){O=e},this.dispose=function(){}}}const Ud=new _o,Hd=new uo;function Vd(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function i(e,i){e.opacity.value=i.opacity,i.color&&e.diffuse.value.copy(i.color),i.emissive&&e.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(e.map.value=i.map,n(i.map,e.mapTransform)),i.alphaMap&&(e.alphaMap.value=i.alphaMap,n(i.alphaMap,e.alphaMapTransform)),i.bumpMap&&(e.bumpMap.value=i.bumpMap,n(i.bumpMap,e.bumpMapTransform),e.bumpScale.value=i.bumpScale,1===i.side&&(e.bumpScale.value*=-1)),i.normalMap&&(e.normalMap.value=i.normalMap,n(i.normalMap,e.normalMapTransform),e.normalScale.value.copy(i.normalScale),1===i.side&&e.normalScale.value.negate()),i.displacementMap&&(e.displacementMap.value=i.displacementMap,n(i.displacementMap,e.displacementMapTransform),e.displacementScale.value=i.displacementScale,e.displacementBias.value=i.displacementBias),i.emissiveMap&&(e.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,e.emissiveMapTransform)),i.specularMap&&(e.specularMap.value=i.specularMap,n(i.specularMap,e.specularMapTransform)),i.alphaTest>0&&(e.alphaTest.value=i.alphaTest);const r=t.get(i),a=r.envMap,o=r.envMapRotation;a&&(e.envMap.value=a,Ud.copy(o),Ud.x*=-1,Ud.y*=-1,Ud.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Ud.y*=-1,Ud.z*=-1),e.envMapRotation.value.setFromMatrix4(Hd.makeRotationFromEuler(Ud)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=i.reflectivity,e.ior.value=i.ior,e.refractionRatio.value=i.refractionRatio),i.lightMap&&(e.lightMap.value=i.lightMap,e.lightMapIntensity.value=i.lightMapIntensity,n(i.lightMap,e.lightMapTransform)),i.aoMap&&(e.aoMap.value=i.aoMap,e.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Bs(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,a,o,s){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(e,r):r.isMeshToonMaterial?(i(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(i(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(i(e,r),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,i){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=i.texture,e.transmissionSamplerSize.value.set(i.width,i.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,r,s)):r.isMeshMatcapMaterial?(i(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?i(e,r):r.isMeshDistanceMaterial?(i(e,r),function(e,n){const i=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(i.matrixWorld),e.nearDistance.value=i.shadow.camera.near,e.farDistance.value=i.shadow.camera.far}(e,r)):r.isMeshNormalMaterial?i(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,i,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*r,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r,a,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Gd(e,t,n,i){let r={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,i){const r=e.value,a=t+"_"+n;if(void 0===i[a])return i[a]="number"===typeof r||"boolean"===typeof r?r:r.clone(),!0;{const e=i[a];if("number"===typeof r||"boolean"===typeof r){if(e!==r)return i[a]=r,!0}else if(!1===e.equals(r))return e.copy(r),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?Jr("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Jr("WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const i=o.indexOf(n.__bindingPointIndex);o.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;i.uniformBlockBinding(e,n)},update:function(n,d){let h=r[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const i=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,r=e.length;t<r;t++){const r=e[t],a=Array.isArray(r.value)?r.value:[r.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),o=n%i,s=o%t.boundary,l=o+s;n+=s,0!==l&&i-l<t.storage&&(n+=i-l),r.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),r.__offset=n,n+=t.storage}}}const r=n%i;r>0&&(n+=i-r);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return $r("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const p=d.program;i.updateUBOMapping(n,p);const m=t.render.frame;a[n.id]!==m&&(!function(t){const n=r[t.id],i=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let r=0,o=i.length;r<o;r++){const t=Array.isArray(i[r])?i[r]:[i[r]];for(let n=0,i=t.length;n<i;n++){const i=t[n];if(!0===l(i,r,n,a)){const t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let a=0;a<n.length;a++){const o=n[a],s=c(o);"number"===typeof o||"boolean"===typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=m)},dispose:function(){for(const t in r)e.deleteBuffer(r[t]);o=[],r={},a={}}}}const jd=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let qd=null;class Wd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=Kr(),context:n=null,depth:i=!0,stencil:r=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:d=!1,outputBufferType:h=vi}=e;let p;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=n.getContextAttributes().alpha}else p=a;const m=h,f=new Set([Fi,zi,Li]),g=new Set([vi,Si,_i,Ci,Ti,Ei]),y=new Uint32Array(4),v=new Int32Array(4);let b=null,x=null;const _=[],w=[];let S=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let A=!1;this._outputColorSpace=Cr;let T=0,E=0,C=null,P=-1,k=null;const R=new Na,N=new Na;let D=null;const I=new is(0);let L=0,O=t.width,z=t.height,F=1,B=null,U=null;const H=new Na(0,0,O,z),V=new Na(0,0,O,z);let G=!1;const j=new cl;let q=!1,W=!1;const X=new uo,K=new pa,Y=new Na,Q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Z=!1;function J(){return null===C?F:1}let $,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,de,he,pe,me,fe,ge,ye,ve,be,xe,_e,we,Se=n;function Me(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(gn)),t.addEventListener("webglcontextlost",Ee,!1),t.addEventListener("webglcontextrestored",Ce,!1),t.addEventListener("webglcontextcreationerror",Pe,!1),null===Se){const t="webgl2";if(Se=Me(t,e),null===Se)throw Me(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Lb){throw $r("WebGLRenderer: "+Lb.message),Lb}function Ae(){$=new Pc(Se),$.init(),xe=new zd(Se,$),ee=new dc(Se,$,e,xe),te=new Ld(Se,$),ee.reversedDepthBuffer&&d&&te.buffers.depth.setReversed(!0),ne=new Nc(Se),ie=new yd,re=new Od(Se,$,te,ie,ee,xe,ne),ae=new pc(M),oe=new Cc(M),se=new tc(Se),_e=new cc(Se,se),le=new kc(Se,se,ne,_e),ce=new Ic(Se,le,se,ne),ye=new Dc(Se,ee,re),me=new hc(ie),ue=new gd(M,ae,oe,$,ee,_e,me),de=new Vd(M,ie),he=new _d,pe=new Ed($),ge=new lc(M,ae,oe,te,ce,p,s),fe=new Dd(M,ce,ee),we=new Gd(Se,ne,ee,te),ve=new uc(Se,$,ne),be=new Rc(Se,$,ne),ne.programs=ue.programs,M.capabilities=ee,M.extensions=$,M.properties=ie,M.renderLists=he,M.shadowMap=fe,M.state=te,M.info=ne}Ae(),m!==vi&&(S=new Oc(m,t.width,t.height,i,r));const Te=new Bd(M,Se);function Ee(e){e.preventDefault(),Zr("WebGLRenderer: Context Lost."),A=!0}function Ce(){Zr("WebGLRenderer: Context Restored."),A=!1;const e=ne.autoReset,t=fe.enabled,n=fe.autoUpdate,i=fe.needsUpdate,r=fe.type;Ae(),ne.autoReset=e,fe.enabled=t,fe.autoUpdate=n,fe.needsUpdate=i,fe.type=r}function Pe(e){$r("WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function ke(e){const t=e.target;t.removeEventListener("dispose",ke),function(e){(function(e){const t=ie.get(e).programs;void 0!==t&&(t.forEach(function(e){ue.releaseProgram(e)}),e.isShaderMaterial&&ue.releaseShaderCache(e))})(e),ie.remove(e)}(t)}function Re(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,He(e,t,n),e.side=0,e.needsUpdate=!0,He(e,t,n),e.side=2):He(e,t,n)}this.xr=Te,this.getContext=function(){return Se},this.getContextAttributes=function(){return Se.getContextAttributes()},this.forceContextLoss=function(){const e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(e){void 0!==e&&(F=e,this.setSize(O,z,!1))},this.getSize=function(e){return e.set(O,z)},this.setSize=function(e,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Te.isPresenting?Jr("WebGLRenderer: Can't change size while VR device is presenting."):(O=e,z=n,t.width=Math.floor(e*F),t.height=Math.floor(n*F),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),null!==S&&S.setSize(t.width,t.height),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(O*F,z*F).floor()},this.setDrawingBufferSize=function(e,n,i){O=e,z=n,F=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.setEffects=function(e){if(m!==vi){if(e)for(let t=0;t<e.length;t++)if(!0===e[t].isOutputPass){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}S.setEffects(e||[])}else console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.")},this.getCurrentViewport=function(e){return e.copy(R)},this.getViewport=function(e){return e.copy(H)},this.setViewport=function(e,t,n,i){e.isVector4?H.set(e.x,e.y,e.z,e.w):H.set(e,t,n,i),te.viewport(R.copy(H).multiplyScalar(F).round())},this.getScissor=function(e){return e.copy(V)},this.setScissor=function(e,t,n,i){e.isVector4?V.set(e.x,e.y,e.z,e.w):V.set(e,t,n,i),te.scissor(N.copy(V).multiplyScalar(F).round())},this.getScissorTest=function(){return G},this.setScissorTest=function(e){te.setScissorTest(G=e)},this.setOpaqueSort=function(e){B=e},this.setTransparentSort=function(e){U=e},this.getClearColor=function(e){return e.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor(...arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha(...arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==C){const t=C.texture.format;e=f.has(t)}if(e){const e=C.texture.type,t=g.has(e),n=ge.getClearColor(),i=ge.getClearAlpha(),r=n.r,a=n.g,o=n.b;t?(y[0]=r,y[1]=a,y[2]=o,y[3]=i,Se.clearBufferuiv(Se.COLOR,0,y)):(v[0]=r,v[1]=a,v[2]=o,v[3]=i,Se.clearBufferiv(Se.COLOR,0,v))}else n|=Se.COLOR_BUFFER_BIT}e&&(n|=Se.DEPTH_BUFFER_BIT),t&&(n|=Se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Se.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ee,!1),t.removeEventListener("webglcontextrestored",Ce,!1),t.removeEventListener("webglcontextcreationerror",Pe,!1),ge.dispose(),he.dispose(),pe.dispose(),ie.dispose(),ae.dispose(),oe.dispose(),ce.dispose(),_e.dispose(),we.dispose(),ue.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",De),Te.removeEventListener("sessionend",Ie),Le.stop()},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=Q);const o=r.isMesh&&r.matrixWorld.determinant()<0,s=function(e,t,n,i,r){!0!==t.isScene&&(t=Q);re.resetTextureUnits();const a=t.fog,o=i.isMeshStandardMaterial?t.environment:null,s=null===C?M.outputColorSpace:!0===C.isXRRenderTarget?C.texture.colorSpace:Pr,l=(i.isMeshStandardMaterial?oe:ae).get(i.envMap||o),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color;let m=0;i.toneMapped&&(null!==C&&!0!==C.isXRRenderTarget||(m=M.toneMapping));const f=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==f?f.length:0,y=ie.get(i),v=x.state.lights;if(!0===q&&(!0===W||e!==k)){const t=e===k&&i.id===P;me.setState(i,e,t)}let b=!1;i.version===y.__version?y.needsLights&&y.lightsStateVersion!==v.state.version||y.outputColorSpace!==s||r.isBatchedMesh&&!1===y.batching?b=!0:r.isBatchedMesh||!0!==y.batching?r.isBatchedMesh&&!0===y.batchingColor&&null===r.colorTexture||r.isBatchedMesh&&!1===y.batchingColor&&null!==r.colorTexture||r.isInstancedMesh&&!1===y.instancing?b=!0:r.isInstancedMesh||!0!==y.instancing?r.isSkinnedMesh&&!1===y.skinning?b=!0:r.isSkinnedMesh||!0!==y.skinning?r.isInstancedMesh&&!0===y.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===y.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===y.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===y.instancingMorph&&null!==r.morphTexture||y.envMap!==l||!0===i.fog&&y.fog!==a?b=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===me.numPlanes&&y.numIntersection===me.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==d||y.morphNormals!==h||y.morphColors!==p||y.toneMapping!==m||y.morphTargetsCount!==g)&&(b=!0):b=!0:b=!0:b=!0:b=!0:(b=!0,y.__version=i.version);let _=y.currentProgram;!0===b&&(_=He(i,t,r));let w=!1,S=!1,A=!1;const T=_.getUniforms(),E=y.uniforms;te.useProgram(_.program)&&(w=!0,S=!0,A=!0);i.id!==P&&(P=i.id,S=!0);if(w||k!==e){te.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),T.setValue(Se,"projectionMatrix",e.projectionMatrix),T.setValue(Se,"viewMatrix",e.matrixWorldInverse);const t=T.map.cameraPosition;void 0!==t&&t.setValue(Se,K.setFromMatrixPosition(e.matrixWorld)),ee.logarithmicDepthBuffer&&T.setValue(Se,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&T.setValue(Se,"isOrthographic",!0===e.isOrthographicCamera),k!==e&&(k=e,S=!0,A=!0)}y.needsLights&&(v.state.directionalShadowMap.length>0&&T.setValue(Se,"directionalShadowMap",v.state.directionalShadowMap,re),v.state.spotShadowMap.length>0&&T.setValue(Se,"spotShadowMap",v.state.spotShadowMap,re),v.state.pointShadowMap.length>0&&T.setValue(Se,"pointShadowMap",v.state.pointShadowMap,re));if(r.isSkinnedMesh){T.setOptional(Se,r,"bindMatrix"),T.setOptional(Se,r,"bindMatrixInverse");const e=r.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(Se,"boneTexture",e.boneTexture,re))}r.isBatchedMesh&&(T.setOptional(Se,r,"batchingTexture"),T.setValue(Se,"batchingTexture",r._matricesTexture,re),T.setOptional(Se,r,"batchingIdTexture"),T.setValue(Se,"batchingIdTexture",r._indirectTexture,re),T.setOptional(Se,r,"batchingColorTexture"),null!==r._colorsTexture&&T.setValue(Se,"batchingColorTexture",r._colorsTexture,re));const R=n.morphAttributes;void 0===R.position&&void 0===R.normal&&void 0===R.color||ye.update(r,n,_);(S||y.receiveShadow!==r.receiveShadow)&&(y.receiveShadow=r.receiveShadow,T.setValue(Se,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(E.envMap.value=l,E.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);i.isMeshStandardMaterial&&null===i.envMap&&null!==t.environment&&(E.envMapIntensity.value=t.environmentIntensity);void 0!==E.dfgLUT&&(E.dfgLUT.value=(null===qd&&(qd=new tl(jd,16,16,Oi,Ai),qd.name="DFG_LUT",qd.minFilter=fi,qd.magFilter=fi,qd.wrapS=ui,qd.wrapT=ui,qd.generateMipmaps=!1,qd.needsUpdate=!0),qd));S&&(T.setValue(Se,"toneMappingExposure",M.toneMappingExposure),y.needsLights&&(D=A,(N=E).ambientLightColor.needsUpdate=D,N.lightProbe.needsUpdate=D,N.directionalLights.needsUpdate=D,N.directionalLightShadows.needsUpdate=D,N.pointLights.needsUpdate=D,N.pointLightShadows.needsUpdate=D,N.spotLights.needsUpdate=D,N.spotLightShadows.needsUpdate=D,N.rectAreaLights.needsUpdate=D,N.hemisphereLights.needsUpdate=D),a&&!0===i.fog&&de.refreshFogUniforms(E,a),de.refreshMaterialUniforms(E,i,F,z,x.state.transmissionRenderTarget[e.id]),Hu.upload(Se,Ve(y),E,re));var N,D;i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Hu.upload(Se,Ve(y),E,re),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&T.setValue(Se,"center",r.center);if(T.setValue(Se,"modelViewMatrix",r.modelViewMatrix),T.setValue(Se,"normalMatrix",r.normalMatrix),T.setValue(Se,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];we.update(n,_),we.bind(n,_)}}return _}(e,t,n,i,r);te.setMaterial(i,o);let l=n.index,c=1;if(!0===i.wireframe){if(l=le.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),p=Math.min(p,d.count));const m=p-h;if(m<0||m===1/0)return;let f;_e.setup(r,i,s,n,l);let g=ve;if(null!==l&&(f=se.get(l),g=be,g.setIndex(f)),r.isMesh)!0===i.wireframe?(te.setLineWidth(i.wireframeLinewidth*J()),g.setMode(Se.LINES)):g.setMode(Se.TRIANGLES);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),te.setLineWidth(e*J()),r.isLineSegments?g.setMode(Se.LINES):r.isLineLoop?g.setMode(Se.LINE_LOOP):g.setMode(Se.LINE_STRIP)}else r.isPoints?g.setMode(Se.POINTS):r.isSprite&&g.setMode(Se.TRIANGLES);if(r.isBatchedMesh)if(null!==r._multiDrawInstances)ea("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),g.renderMultiDrawInstances(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount,r._multiDrawInstances);else if($.get("WEBGL_multi_draw"))g.renderMultiDraw(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount);else{const e=r._multiDrawStarts,t=r._multiDrawCounts,n=r._multiDrawCount,a=l?se.get(l).bytesPerElement:1,o=ie.get(i).currentProgram.getUniforms();for(let i=0;i<n;i++)o.setValue(Se,"_gl_DrawID",i),g.render(e[i]/a,t[i])}else if(r.isInstancedMesh)g.renderInstances(h,m,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(h,m,t)}else g.render(h,m)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),x=pe.get(n),x.init(t),w.push(x),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(x.pushLight(e),e.castShadow&&x.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(x.pushLight(e),e.castShadow&&x.pushShadow(e))}),x.setupLights();const i=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let r=0;r<t.length;r++){const a=t[r];Re(a,n,e),i.add(a)}else Re(t,n,e),i.add(t)}),x=w.pop(),i},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=this.compile(e,t,n);return new Promise(t=>{function n(){i.forEach(function(e){ie.get(e).currentProgram.isReady()&&i.delete(e)}),0!==i.size?setTimeout(n,10):t(e)}null!==$.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Ne=null;function De(){Le.stop()}function Ie(){Le.start()}const Le=new ec;function Oe(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)x.pushLight(e),e.castShadow&&x.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||j.intersectsSprite(e)){i&&Y.setFromMatrixPosition(e.matrixWorld).applyMatrix4(X);const t=ce.update(e),r=e.material;r.visible&&b.push(e,t,r,n,Y.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||j.intersectsObject(e))){const t=ce.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),Y.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),Y.copy(t.boundingSphere.center)),Y.applyMatrix4(e.matrixWorld).applyMatrix4(X)),Array.isArray(r)){const i=t.groups;for(let a=0,o=i.length;a<o;a++){const o=i[a],s=r[o.materialIndex];s&&s.visible&&b.push(e,t,s,n,Y.z,o)}}else r.visible&&b.push(e,t,r,n,Y.z,null)}const r=e.children;for(let a=0,o=r.length;a<o;a++)Oe(r[a],t,n,i)}function ze(e,t,n,i){const{opaque:r,transmissive:a,transparent:o}=e;x.setupLightsView(n),!0===q&&me.setGlobalState(M.clippingPlanes,n),i&&te.viewport(R.copy(i)),r.length>0&&Be(r,t,n),a.length>0&&Be(a,t,n),o.length>0&&Be(o,t,n),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function Fe(e,t,n,i){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;if(void 0===x.state.transmissionRenderTarget[i.id]){const e=$.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float");x.state.transmissionRenderTarget[i.id]=new Ia(1,1,{generateMipmaps:!0,type:e?Ai:vi,minFilter:yi,samples:ee.samples,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_a.workingColorSpace})}const a=x.state.transmissionRenderTarget[i.id],o=i.viewport||R;a.setSize(o.z*M.transmissionResolutionScale,o.w*M.transmissionResolutionScale);const s=M.getRenderTarget(),l=M.getActiveCubeFace(),c=M.getActiveMipmapLevel();M.setRenderTarget(a),M.getClearColor(I),L=M.getClearAlpha(),L<1&&M.setClearColor(16777215,.5),M.clear(),Z&&ge.render(n);const u=M.toneMapping;M.toneMapping=0;const d=i.viewport;if(void 0!==i.viewport&&(i.viewport=void 0),x.setupLightsView(i),!0===q&&me.setGlobalState(M.clippingPlanes,i),Be(e,n,i),re.updateMultisampleRenderTarget(a),re.updateRenderTargetMipmap(a),!1===$.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let r=0,a=t.length;r<a;r++){const a=t[r],{object:o,geometry:s,material:l,group:c}=a;if(2===l.side&&o.layers.test(i.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,Ue(o,n,i,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(re.updateMultisampleRenderTarget(a),re.updateRenderTargetMipmap(a))}M.setRenderTarget(s,l,c),M.setClearColor(I,L),void 0!==d&&(i.viewport=d),M.toneMapping=u}function Be(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,a=e.length;r<a;r++){const a=e[r],{object:o,geometry:s,group:l}=a;let c=a.material;!0===c.allowOverride&&null!==i&&(c=i),o.layers.test(n.layers)&&Ue(o,t,n,s,c,l)}}function Ue(e,t,n,i,r,a){e.onBeforeRender(M,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(M,t,n,i,e,a),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,M.renderBufferDirect(n,t,i,r,e,a),r.side=0,r.needsUpdate=!0,M.renderBufferDirect(n,t,i,r,e,a),r.side=2):M.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(M,t,n,i,r,a)}function He(e,t,n){!0!==t.isScene&&(t=Q);const i=ie.get(e),r=x.state.lights,a=x.state.shadowsArray,o=r.state.version,s=ue.getParameters(e,r.state,a,t,n),l=ue.getProgramCacheKey(s);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?oe:ae).get(e.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",ke),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===o)return Ge(e,s),u}else s.uniforms=ue.getUniforms(e),e.onBeforeCompile(s,M),u=ue.acquireProgram(s,l),c.set(l,u),i.uniforms=s.uniforms;const d=i.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=me.uniform),Ge(e,s),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=o,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function Ve(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Hu.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Ge(e,t){const n=ie.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Le.setAnimationLoop(function(e){Ne&&Ne(e)}),"undefined"!==typeof self&&Le.setContext(self),this.setAnimationLoop=function(e){Ne=e,Te.setAnimationLoop(e),null===e?Le.stop():Le.start()},Te.addEventListener("sessionstart",De),Te.addEventListener("sessionend",Ie),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void $r("WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===A)return;const n=!0===Te.enabled&&!0===Te.isPresenting,i=null!==S&&(null===C||n)&&S.begin(M,C);if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0!==Te.enabled||!0!==Te.isPresenting||null!==S&&!1!==S.isCompositing()||(!0===Te.cameraAutoUpdate&&Te.updateCamera(t),t=Te.getCamera()),!0===e.isScene&&e.onBeforeRender(M,e,t,C),x=pe.get(e,w.length),x.init(t),w.push(x),X.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(X,Gr,t.reversedDepth),W=this.localClippingEnabled,q=me.init(this.clippingPlanes,W),b=he.get(e,_.length),b.init(),_.push(b),!0===Te.enabled&&!0===Te.isPresenting){const e=M.xr.getDepthSensingMesh();null!==e&&Oe(e,t,-1/0,M.sortObjects)}Oe(e,t,0,M.sortObjects),b.finish(),!0===M.sortObjects&&b.sort(B,U),Z=!1===Te.enabled||!1===Te.isPresenting||!1===Te.hasDepthSensing(),Z&&ge.addToRenderList(b,e),this.info.render.frame++,!0===q&&me.beginShadows();const r=x.state.shadowsArray;fe.render(r,e,t),!0===q&&me.endShadows(),!0===this.info.autoReset&&this.info.reset();if(!1===(i&&S.hasRenderPass())){const n=b.opaque,i=b.transmissive;if(x.setupLights(),t.isArrayCamera){const r=t.cameras;if(i.length>0)for(let t=0,a=r.length;t<a;t++){Fe(n,i,e,r[t])}Z&&ge.render(e);for(let t=0,n=r.length;t<n;t++){const n=r[t];ze(b,e,n,n.viewport)}}else i.length>0&&Fe(n,i,e,t),Z&&ge.render(e),ze(b,e,t)}null!==C&&0===E&&(re.updateMultisampleRenderTarget(C),re.updateRenderTargetMipmap(C)),i&&S.end(M),!0===e.isScene&&e.onAfterRender(M,e,t),_e.resetDefaultState(),P=-1,k=null,w.pop(),w.length>0?(x=w[w.length-1],!0===q&&me.setGlobalState(M.clippingPlanes,x.state.camera)):x=null,_.pop(),b=_.length>0?_[_.length-1]:null},this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(e,t,n){const i=ie.get(e);i.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===i.__autoAllocateDepthBuffer&&(i.__useRenderToTexture=!1),ie.get(e.texture).__webglTexture=t,ie.get(e.depthTexture).__webglTexture=i.__autoAllocateDepthBuffer?void 0:n,i.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=ie.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const je=Se.createFramebuffer();this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;C=e,T=t,E=n;let i=null,r=!1,a=!1;if(e){const o=ie.get(e);if(void 0!==o.__useDefaultFramebuffer)return te.bindFramebuffer(Se.FRAMEBUFFER,o.__webglFramebuffer),R.copy(e.viewport),N.copy(e.scissor),D=e.scissorTest,te.viewport(R),te.scissor(N),te.setScissorTest(D),void(P=-1);if(void 0===o.__webglFramebuffer)re.setupRenderTarget(e);else if(o.__hasExternalTextures)re.rebindTextures(e,ie.get(e.texture).__webglTexture,ie.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&ie.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");re.setupDepthRenderbuffer(e)}}const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=ie.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(l[t])?l[t][n]:l[t],r=!0):i=e.samples>0&&!1===re.useMultisampledRTT(e)?ie.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,R.copy(e.viewport),N.copy(e.scissor),D=e.scissorTest}else R.copy(H).multiplyScalar(F).floor(),N.copy(V).multiplyScalar(F).floor(),D=G;0!==n&&(i=je);if(te.bindFramebuffer(Se.FRAMEBUFFER,i)&&te.drawBuffers(e,i),te.viewport(R),te.scissor(N),te.setScissorTest(D),r){const i=ie.get(e.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(a){const i=t;for(let t=0;t<e.textures.length;t++){const r=ie.get(e.textures[t]);Se.framebufferTextureLayer(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0+t,r.__webglTexture,n,i)}}else if(null!==e&&0!==n){const t=ie.get(e.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_2D,t.__webglTexture,n)}P=-1},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)return void $r("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=ie.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){te.bindFramebuffer(Se.FRAMEBUFFER,l);try{const o=e.textures[s],l=o.format,c=o.type;if(!ee.textureFormatReadable(l))return void $r("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!ee.textureTypeReadable(c))return void $r("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&(e.textures.length>1&&Se.readBuffer(Se.COLOR_ATTACHMENT0+s),Se.readPixels(t,n,i,r,xe.convert(l),xe.convert(c),a))}finally{const e=null!==C?ie.get(C).__webglFramebuffer:null;te.bindFramebuffer(Se.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,i,r,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=ie.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){if(t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r){te.bindFramebuffer(Se.FRAMEBUFFER,l);const o=e.textures[s],c=o.format,u=o.type;if(!ee.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ee.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const d=Se.createBuffer();Se.bindBuffer(Se.PIXEL_PACK_BUFFER,d),Se.bufferData(Se.PIXEL_PACK_BUFFER,a.byteLength,Se.STREAM_READ),e.textures.length>1&&Se.readBuffer(Se.COLOR_ATTACHMENT0+s),Se.readPixels(t,n,i,r,xe.convert(c),xe.convert(u),0);const h=null!==C?ie.get(C).__webglFramebuffer:null;te.bindFramebuffer(Se.FRAMEBUFFER,h);const p=Se.fenceSync(Se.SYNC_GPU_COMMANDS_COMPLETE,0);return Se.flush(),await function(e,t,n){return new Promise(function(i,r){setTimeout(function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:r();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}},n)})}(Se,p,4),Se.bindBuffer(Se.PIXEL_PACK_BUFFER,d),Se.getBufferSubData(Se.PIXEL_PACK_BUFFER,0,a),Se.deleteBuffer(d),Se.deleteSync(p),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i),o=null!==t?t.x:0,s=null!==t?t.y:0;re.setTexture2D(e,0),Se.copyTexSubImage2D(Se.TEXTURE_2D,n,0,0,o,s,r,a),te.unbindTexture()};const qe=Se.createFramebuffer(),We=Se.createFramebuffer();this.copyTextureToTexture=function(e,t){let n,i,r,a,o,s,l,c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===m&&(0!==p?(ea("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),m=p,p=0):m=0);const f=e.isCompressedTexture?e.mipmaps[m]:e.image;if(null!==d)n=d.max.x-d.min.x,i=d.max.y-d.min.y,r=d.isBox3?d.max.z-d.min.z:1,a=d.min.x,o=d.min.y,s=d.isBox3?d.min.z:0;else{const t=Math.pow(2,-p);n=Math.floor(f.width*t),i=Math.floor(f.height*t),r=e.isDataArrayTexture?f.depth:e.isData3DTexture?Math.floor(f.depth*t):1,a=0,o=0,s=0}null!==h?(l=h.x,c=h.y,u=h.z):(l=0,c=0,u=0);const g=xe.convert(t.format),y=xe.convert(t.type);let v;t.isData3DTexture?(re.setTexture3D(t,0),v=Se.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(re.setTexture2DArray(t,0),v=Se.TEXTURE_2D_ARRAY):(re.setTexture2D(t,0),v=Se.TEXTURE_2D),Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,t.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,t.unpackAlignment);const b=Se.getParameter(Se.UNPACK_ROW_LENGTH),x=Se.getParameter(Se.UNPACK_IMAGE_HEIGHT),_=Se.getParameter(Se.UNPACK_SKIP_PIXELS),w=Se.getParameter(Se.UNPACK_SKIP_ROWS),S=Se.getParameter(Se.UNPACK_SKIP_IMAGES);Se.pixelStorei(Se.UNPACK_ROW_LENGTH,f.width),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,f.height),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,a),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,o),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,s);const M=e.isDataArrayTexture||e.isData3DTexture,A=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const d=ie.get(e),h=ie.get(t),f=ie.get(d.__renderTarget),g=ie.get(h.__renderTarget);te.bindFramebuffer(Se.READ_FRAMEBUFFER,f.__webglFramebuffer),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let y=0;y<r;y++)M&&(Se.framebufferTextureLayer(Se.READ_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,ie.get(e).__webglTexture,p,s+y),Se.framebufferTextureLayer(Se.DRAW_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,ie.get(t).__webglTexture,m,u+y)),Se.blitFramebuffer(a,o,n,i,l,c,n,i,Se.DEPTH_BUFFER_BIT,Se.NEAREST);te.bindFramebuffer(Se.READ_FRAMEBUFFER,null),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,null)}else if(0!==p||e.isRenderTargetTexture||ie.has(e)){const d=ie.get(e),h=ie.get(t);te.bindFramebuffer(Se.READ_FRAMEBUFFER,qe),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,We);for(let e=0;e<r;e++)M?Se.framebufferTextureLayer(Se.READ_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,d.__webglTexture,p,s+e):Se.framebufferTexture2D(Se.READ_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_2D,d.__webglTexture,p),A?Se.framebufferTextureLayer(Se.DRAW_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,h.__webglTexture,m,u+e):Se.framebufferTexture2D(Se.DRAW_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_2D,h.__webglTexture,m),0!==p?Se.blitFramebuffer(a,o,n,i,l,c,n,i,Se.COLOR_BUFFER_BIT,Se.NEAREST):A?Se.copyTexSubImage3D(v,m,l,c,u+e,a,o,n,i):Se.copyTexSubImage2D(v,m,l,c,a,o,n,i);te.bindFramebuffer(Se.READ_FRAMEBUFFER,null),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,null)}else A?e.isDataTexture||e.isData3DTexture?Se.texSubImage3D(v,m,l,c,u,n,i,r,g,y,f.data):t.isCompressedArrayTexture?Se.compressedTexSubImage3D(v,m,l,c,u,n,i,r,g,f.data):Se.texSubImage3D(v,m,l,c,u,n,i,r,g,y,f):e.isDataTexture?Se.texSubImage2D(Se.TEXTURE_2D,m,l,c,n,i,g,y,f.data):e.isCompressedTexture?Se.compressedTexSubImage2D(Se.TEXTURE_2D,m,l,c,f.width,f.height,g,f.data):Se.texSubImage2D(Se.TEXTURE_2D,m,l,c,n,i,g,y,f);Se.pixelStorei(Se.UNPACK_ROW_LENGTH,b),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,x),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,_),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,w),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,S),0===m&&t.generateMipmaps&&Se.generateMipmap(v),te.unbindTexture()},this.initRenderTarget=function(e){void 0===ie.get(e).__webglFramebuffer&&re.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?re.setTextureCube(e,0):e.isData3DTexture?re.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?re.setTexture2DArray(e,0):re.setTexture2D(e,0),te.unbindTexture()},this.resetState=function(){T=0,E=0,C=null,te.reset(),_e.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Gr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=_a._getDrawingBufferColorSpace(e),t.unpackColorSpace=_a._getUnpackColorSpace()}}const Xd=()=>{const t=(0,e.useRef)(null),n=(0,e.useRef)(null),i=(0,e.useRef)(null),r=(0,e.useRef)(null),a=(0,e.useRef)(null),o=(0,e.useRef)({isDragging:!1,prevX:0,prevY:0}),[s,l]=(0,e.useState)("glucose"),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)({x:.01,y:.01}),[p,m]=(0,e.useState)({}),[f,g]=(0,e.useState)(""),y={glucose:{title:"Glucose (C\u2086H\u2081\u2082O\u2086)",type:"Monosaccharide",role:"Primary energy source",struct:"6-carbon ring",feat:"Glycolysis substrate"},alanine:{title:"Alanine (C\u2083H\u2087NO\u2082)",type:"Amino acid",role:"Protein building block",struct:"Nonpolar side chain",feat:"Ala or A"},atp:{title:"ATP (C\u2081\u2080H\u2081\u2086N\u2085O\u2081\u2083P\u2083)",type:"Nucleotide",role:"Energy currency",struct:"Three phosphates",feat:"\u0394G\xb0 = -30.5 kJ/mol"},dna:{title:"DNA Base Pair (A-T)",type:"Nucleic acid",role:"Genetic storage",struct:"2 H-bonds",feat:"Watson-Crick pairing"},dnacg:{title:"DNA Base Pair (C-G)",type:"Nucleic acid",role:"Genetic storage",struct:"3 H-bonds",feat:"Watson-Crick pairing"},acetylcoa:{title:"Acetyl-CoA",type:"Coenzyme",role:"Metabolic intermediate",struct:"2-carbon acetyl",feat:"TCA entry"},tryptophan:{title:"Tryptophan (C\u2081\u2081H\u2081\u2082N\u2082O\u2082)",type:"Amino acid",role:"Protein building block",struct:"Aromatic side chain",feat:"Precursor to serotonin"},cholesterol:{title:"Cholesterol (C\u2082\u2087H\u2084\u2086O)",type:"Steroid",role:"Membrane component",struct:"Four rings",feat:"Hormone precursor"},alphahelix:{title:"Alpha Helix",type:"Protein secondary structure",role:"Structural motif",struct:"Right-handed coil",feat:"Stabilized by H-bonds"}},v=function(e,t,n,i){const r=new fl(arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,32,32),a=new yl({color:i,shininess:100}),o=new Is(r,a);return o.position.set(e,t,n),o},b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:13421772;const i=(new pa).subVectors(t,e),r=i.length(),a=new pl(.15,.15,r,8),o=new yl({color:n}),s=new Is(a,o);return s.position.copy(e).add(i.clone().multiplyScalar(.5)),s.quaternion.setFromUnitVectors(new pa(0,1,0),i.normalize()),s},x={glucose:()=>{const e=new Zs,t=[];for(let h=0;h<6;h++){const n=h*Math.PI*2/6,i=2*Math.cos(n),r=2*Math.sin(n),a=0===h,o=v(i,r,0,a?16711680:4210752,a?.6:.5);t.push(o),e.add(o)}for(let h=0;h<6;h++)e.add(b(t[h].position,t[(h+1)%6].position));[1,2,3,4].forEach(n=>{const i=n*Math.PI*2/6,r=3.4*Math.cos(i),a=3.4*Math.sin(i),o=v(r,a,0,16711680,.6);e.add(o),e.add(b(t[n].position,o.position));const s=r+.8*Math.cos(i),l=a+.8*Math.sin(i),c=v(s,l,0,16777215,.35);e.add(c),e.add(b(o.position,c.position))});const n=5*Math.PI*2/6,i=3.4*Math.cos(n),r=3.4*Math.sin(n),a=v(i,r,0,4210752,.45);e.add(a),e.add(b(t[5].position,a.position));const o=i+.8*Math.cos(n),s=r+.8*Math.sin(n),l=v(o,s,0,16711680,.55);e.add(l),e.add(b(a.position,l.position));const c=o+.8*Math.cos(n),u=s+.8*Math.sin(n),d=v(c,u,0,16777215,.35);return e.add(d),e.add(b(l.position,d.position)),e},alanine:()=>{const e=new Zs,t=(t,n,i,r)=>{const[a,o]={C:[4210752,.4],N:[3166456,.45],O:[16724016,.45],H:[16777215,.25]}[r],s=v(1.6*t,1.6*n,1.6*i,a,o);return e.add(s),s},n=t(0,0,0,"C"),i=t(-1.2,.8,0,"N"),r=t(-2,1.3,0,"H"),a=t(-1.2,1.8,0,"H");e.add(b(n.position,i.position)),e.add(b(i.position,r.position)),e.add(b(i.position,a.position));const o=t(1.4,0,0,"C"),s=t(2.4,.8,0,"O"),l=t(2.4,-.8,0,"O");e.add(b(n.position,o.position)),e.add(b(o.position,s.position)),e.add(b(o.position,l.position));const c=t(0,-1.4,0,"C");e.add(b(n.position,c.position));const u=t(-.8,-2.2,0,"H"),d=t(.8,-2.2,0,"H"),h=t(0,-1.4,1,"H");return e.add(b(c.position,u.position)),e.add(b(c.position,d.position)),e.add(b(c.position,h.position)),e},atp:()=>{const e=new Zs,t=[];for(let s=0;s<6;s++){const n=s*Math.PI*2/6,i=.85*Math.cos(n)-6,r=.85*Math.sin(n),a=v(i,r,0,s%2===0?255:4210752,.4);t.push(a),e.add(a)}for(let s=0;s<6;s++)e.add(b(t[s].position,t[(s+1)%6].position));const n=[];for(let s=0;s<5;s++){const t=Math.PI/2+s*Math.PI*2/5,i=1.2*Math.cos(t)*.7-6,r=.7*Math.sin(t),a=v(i,r,0,4===s?255:4210752,.35);n.push(a),e.add(a)}for(let s=0;s<5;s++)e.add(b(n[s].position,n[(s+1)%5].position));const i=v(-3,0,0,4210752,.5);e.add(i),e.add(b(t[0].position,i.position));const r=v(-.3,0,0,16753920,.7),a=v(1.7,.4,0,16753920,.65),o=v(3.7,0,0,16753920,.6);e.add(r,a,o),e.add(b(i.position,r.position)),e.add(b(r.position,a.position)),e.add(b(a.position,o.position));return[{p:r,offset:[0,1]},{p:a,offset:[.2,1.1]},{p:o,offset:[0,1]}].forEach(t=>{let{p:n,offset:i}=t;const r=v(n.position.x+i[0],n.position.y+i[1],0,16724016,.55);e.add(r),e.add(b(n.position,r.position))}),e},dna:()=>{const e=new Zs,t=[];[{x:-3,y:1.5},{x:-2.5,y:.5},{x:-3,y:-.5},{x:-4,y:-.5},{x:-4.5,y:.5}].forEach((n,i)=>{const r=v(n.x,n.y,0,0===i||4===i?255:4210752,.45);t.push(r),e.add(r)});for(let i=0;i<5;i++)e.add(b(t[i].position,t[(i+1)%5].position));const n=[];[{x:3,y:1.5},{x:2.5,y:.5},{x:3,y:-.5},{x:4,y:-.5},{x:4.5,y:.5}].forEach((t,i)=>{const r=v(t.x,t.y,0,1===i||3===i?16711680:4210752,.45);n.push(r),e.add(r)});for(let i=0;i<5;i++)e.add(b(n[i].position,n[(i+1)%5].position));return e.add(b(new pa(-2.5,1,0),new pa(2.5,1,0),8978312)),e.add(b(new pa(-2.5,-.2,0),new pa(2.5,-.2,0),8978312)),e},dnacg:()=>{const e=new Zs,t=[];[{x:-3,y:1.5},{x:-2.5,y:.5},{x:-3,y:-.5},{x:-4,y:-.5},{x:-4.5,y:.5}].forEach((n,i)=>{const r=v(n.x,n.y,0,1===i||3===i?255:4210752,.45);t.push(r),e.add(r)});for(let i=0;i<5;i++)e.add(b(t[i].position,t[(i+1)%5].position));const n=[];[{x:3,y:1.5},{x:2.5,y:.5},{x:3,y:-.5},{x:4,y:-.5},{x:4.5,y:.5}].forEach((t,i)=>{const r=v(t.x,t.y,0,0===i||4===i?4210752:255,.45);n.push(r),e.add(r)});for(let i=0;i<5;i++)e.add(b(n[i].position,n[(i+1)%5].position));return e.add(b(new pa(-2.5,1,0),new pa(2.5,1,0),8978312)),e.add(b(new pa(-2.5,-.2,0),new pa(2.5,-.2,0),8978312)),e.add(b(new pa(-2.5,.4,0),new pa(2.5,.4,0),8978312)),e},acetylcoa:()=>{const e=new Zs,t=1.4,n=v(-6*t,0,0,3166456,.6);e.add(n);const i=v(...[-3.5,0,0],4210752,.5);e.add(i),e.add(b(n.position,i.position));const r=v(0,0,0,16753920,.65);e.add(r),e.add(b(i.position,r.position));const a=v(...[1.5*t,.4*t,0],16753920,.6);e.add(a),e.add(b(r.position,a.position));const o=v(...[3*t,0,0],16753920,.6);e.add(o),e.add(b(a.position,o.position));const s=v(...[6.3,0,0],4210752,.5);e.add(s),e.add(b(o.position,s.position));const l=v(...[6*t,0,0],4210752,.5);e.add(l),e.add(b(s.position,l.position));const c=v(...[9.1,.8*t,0],16724016,.5);return e.add(c),e.add(b(l.position,c.position)),e},tryptophan:()=>{const e=new Zs,t=(t,n,i,r)=>{const[a,o]={C:[4210752,.4],N:[3166456,.45],O:[16724016,.45],H:[16777215,.25]}[r],s=v(1.6*t,1.6*n,1.6*i,a,o);return e.add(s),s},n=(t,n)=>e.add(b(t.position,n.position)),i=t(0,0,0,"C"),r=t(-1.2,.8,0,"N"),a=t(-2,1.3,0,"H"),o=t(-1.2,1.8,0,"H");n(i,r),n(r,a),n(r,o);const s=t(1.4,0,0,"C"),l=t(2.4,.8,0,"O"),c=t(2.4,-.8,0,"O");n(i,s),n(s,l),n(s,c);const u=t(0,-1.5,0,"C");n(i,u);const d=[t(.8,-3,0,"C"),t(2.2,-3,0,"C"),t(3,-4.2,0,"C"),t(2.2,-5.4,0,"C"),t(.8,-5.4,0,"C"),t(0,-4.2,0,"C")];n(u,d[0]),d.forEach((e,t)=>n(e,d[(t+1)%d.length]));const h=t(1,-6.8,0,"N");return n(d[4],h),e},cholesterol:()=>{const e=new Zs,t=.9,n=(e,t,n)=>{const i=new ha;return i.setFromAxisAngle(t,n),e.clone().applyQuaternion(i)},i=t=>{t.parent||e.add(t)},r=r=>{let{anchorA:a,anchorB:o,bondLength:s=1.05*t,puckers:l=[.45,-.45,.45,-.45,.45,-.45].map(e=>e*t),angleSign:c=1}=r;const u=new Array(6);u[0]=a,u[1]=o,i(a),i(o);const d=a.position.clone(),h=o.position.clone();let p=h.clone(),m=h.clone().sub(d).normalize(),f=new pa(0,0,1);Math.abs(m.dot(f))>.9&&(f=new pa(1,0,0));let g=(new pa).crossVectors(m,f);g.lengthSq()<1e-6&&(g=new pa(0,0,1)),g.normalize();const y=c*(Math.PI/3);for(let t=2;t<6;t++){const i=n(m,g,y).normalize(),r=p.clone().add(i.clone().multiplyScalar(s)).addScaledVector(g,l[t]),a=v(r.x,r.y,r.z,4210752,.35);e.add(a),e.add(b(p,r)),u[t]=a,p=r.clone(),m=i.clone()}return e.add(b(u[5].position,u[0].position)),u},a=v(0*t,0*t,.45*t,4210752,.35),o=v(1.05*t,0*t,-.45*t,4210752,.35);e.add(a),e.add(o),e.add(b(a.position,o.position));const s=r({anchorA:a,anchorB:o,bondLength:1.05*t,puckers:[.45,-.45,.45,-.45,.45,-.45].map(e=>e*t),angleSign:1}),l=r({anchorA:s[4],anchorB:s[5],bondLength:1.05*t,puckers:[.45,-.45,.45,-.45,.45,-.45].map(e=>e*t),angleSign:1}),c=r({anchorA:l[4],anchorB:l[5],bondLength:1.05*t,puckers:[.45,-.45,.45,-.45,.45,-.45].map(e=>e*t),angleSign:-1}),u=(r=>{let{anchorA:a,anchorB:o,bondLength:s=.95*t,puckers:l=[.25,-.25,.25,-.25,.25].map(e=>e*t),angleSign:c=1}=r;const u=new Array(5);u[0]=a,u[1]=o,i(a),i(o);let d=a.position.clone(),h=o.position.clone(),p=h.clone(),m=h.clone().sub(d).normalize(),f=new pa(0,0,1);Math.abs(m.dot(f))>.9&&(f=new pa(1,0,0));let g=(new pa).crossVectors(m,f);g.lengthSq()<1e-6&&(g=new pa(0,0,1)),g.normalize();const y=c*(2*Math.PI/5);for(let t=2;t<5;t++){const i=n(m,g,y).normalize(),r=p.clone().add(i.clone().multiplyScalar(s)).addScaledVector(g,l[t]),a=v(r.x,r.y,r.z,4210752,.35);e.add(a),e.add(b(p,r)),u[t]=a,p=r.clone(),m=i.clone()}return e.add(b(u[4].position,u[0].position)),u})({anchorA:c[2],anchorB:c[3],bondLength:.95*t,puckers:[.25,-.25,.25,-.25,.25].map(e=>e*t),angleSign:1}),d=s[2],h=d.position.clone().add(new pa(0,0,1*t)),p=v(h.x,h.y,h.z,16724016,.38);e.add(p),e.add(b(d.position,p.position));const m=l[2].position.clone().add(new pa(0,0,.95*t)),f=v(m.x,m.y,m.z,4210752,.32);e.add(f),e.add(b(l[2].position,f.position));const g=c[1].position.clone().add(new pa(0,0,.95*t)),y=v(g.x,g.y,g.z,4210752,.32);e.add(y),e.add(b(c[1].position,y.position));let x=u[2].position.clone();const _=[new pa(1.05*t,.05*t,.65*t),new pa(1.05*t,-.15*t,-.6*t),new pa(1.05*t,.2*t,.55*t),new pa(.95*t,-.05*t,-.45*t),new pa(.95*t,.15*t,.35*t)];for(let T=0;T<_.length;T++){const t=x.clone().add(_[T]),n=v(t.x,t.y,t.z,4210752,.3);e.add(n),e.add(b(x,n.position)),x=n.position.clone()}const w=s[1].position.clone().add(new pa(-.45*t,-.25*t,-.25*t)),S=v(w.x,w.y,w.z,16777215,.22);e.add(S),e.add(b(s[1].position,S.position));const M=c[4].position.clone().add(new pa(.45*t,.25*t,.25*t)),A=v(M.x,M.y,M.z,16777215,.22);return e.add(A),e.add(b(c[4].position,A.position)),e},alphahelix:()=>{const e=new Zs,t=2*Math.PI/3.6;for(let n=0;n<12;n++){const i=n*t,r=new pa(1.2*Math.cos(i),.5*n,1.2*Math.sin(i)),a=r.clone().add(new pa(.6*Math.cos(i-.3),-.3,.6*Math.sin(i-.3))),o=r.clone().add(new pa(.6*Math.cos(i+.3),.3,.6*Math.sin(i+.3))),s=v(a.x,a.y,a.z,255,.35),l=v(r.x,r.y,r.z,11184810,.4),c=v(o.x,o.y,o.z,3355443,.35);e.add(s,l,c),e.add(b(a,r)),e.add(b(r,o))}return e}};(0,e.useEffect)(()=>{if(!t.current)return;const e=new el;e.background=new is(986910);const l=new Ws(75,t.current.clientWidth/t.current.clientHeight,.1,1e3);l.position.z=15;const c=new Wd({canvas:t.current,antialias:!0});c.setSize(t.current.clientWidth,t.current.clientHeight);const h=new jl(16777215,.7),p=new Gl(16777215,.8);p.position.set(10,10,10),e.add(h,p),n.current=e,i.current=l,r.current=c;const m=()=>{o.current.isDragging=!1};t.current.addEventListener("mousedown",e=>{o.current.isDragging=!0,o.current.prevX=e.clientX,o.current.prevY=e.clientY}),t.current.addEventListener("mousemove",e=>{if(!o.current.isDragging||!a.current)return;const t=e.clientX-o.current.prevX,n=e.clientY-o.current.prevY;a.current.rotation.y+=.005*t,a.current.rotation.x+=.005*n,o.current.prevX=e.clientX,o.current.prevY=e.clientY}),t.current.addEventListener("mouseup",m),t.current.addEventListener("mouseleave",m),t.current.addEventListener("wheel",e=>{e.preventDefault(),l.position.z+=.01*e.deltaY,l.position.z=Math.max(5,Math.min(30,l.position.z))},{passive:!1});const f=JSON.parse(localStorage.getItem("molViews")||"[]");u(f);const g=()=>{requestAnimationFrame(g),a.current&&!o.current.isDragging&&(a.current.rotation.x+=.5*d.x,a.current.rotation.y+=.5*d.y),c.render(e,l)};return g(),_(s),()=>{c.dispose()}},[]);const _=e=>{if(!n.current)return;a.current&&(n.current.remove(a.current),a.current.traverse(e=>{e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}));const t=x[e];if(t){const i=t();n.current.add(i),a.current=i,l(e),m(y[e])}};return(0,Lt.jsxs)("div",{className:"molecule-viewer",children:[(0,Lt.jsxs)("div",{className:"mv-canvas-container",children:[(0,Lt.jsx)("canvas",{ref:t,className:"mv-canvas"}),(0,Lt.jsx)("div",{className:"mv-info",children:p.title&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("h3",{children:p.title}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Type:"})," ",p.type]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Role:"})," ",p.role]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Structure:"})," ",p.struct]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Features:"})," ",p.feat]})]})})]}),(0,Lt.jsxs)("div",{className:"mv-controls",children:[(0,Lt.jsxs)("div",{className:"mv-section",children:[(0,Lt.jsx)("h4",{children:"Molecules"}),(0,Lt.jsx)("div",{className:"mv-molecules",children:Object.keys(y).map(e=>(0,Lt.jsx)("button",{className:"mv-mol-btn ".concat(s===e?"active":""),onClick:()=>_(e),children:y[e].title.split("(")[0]},e))})]}),(0,Lt.jsxs)("div",{className:"mv-section",children:[(0,Lt.jsx)("h4",{children:"Save View"}),(0,Lt.jsxs)("div",{className:"mv-form",children:[(0,Lt.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"View name",className:"mv-input"}),(0,Lt.jsx)("button",{onClick:()=>{if(!f.trim()||!a.current)return;const e={id:Date.now(),name:f,molecule:s,rotation:{x:a.current.rotation.x,y:a.current.rotation.y,z:a.current.rotation.z},zoom:i.current.position.z,time:(new Date).toISOString()},t=[...c,e];u(t),localStorage.setItem("molViews",JSON.stringify(t)),g("")},className:"mv-btn",children:"Save"})]})]}),(0,Lt.jsxs)("div",{className:"mv-section",children:[(0,Lt.jsxs)("h4",{children:["Saved Views (",c.length,")"]}),(0,Lt.jsx)("div",{className:"mv-views",children:0===c.length?(0,Lt.jsx)("p",{style:{opacity:.6,fontSize:"0.9em"},children:"No saved views"}):c.map(e=>(0,Lt.jsxs)("div",{className:"mv-view-item",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("strong",{children:e.name}),(0,Lt.jsxs)("div",{style:{fontSize:"0.8em",opacity:.7},children:[e.molecule," \u2022 ",new Date(e.time).toLocaleDateString()]})]}),(0,Lt.jsxs)("div",{className:"mv-view-actions",children:[(0,Lt.jsx)("button",{className:"mv-vbtn",onClick:()=>(e=>{_(e.molecule),setTimeout(()=>{a.current&&(a.current.rotation.x=e.rotation.x,a.current.rotation.y=e.rotation.y,a.current.rotation.z=e.rotation.z),i.current&&(i.current.position.z=e.zoom)},100)})(e),children:"Load"}),(0,Lt.jsx)("button",{className:"mv-vbtn mv-vbtn-del",onClick:()=>(e=>{const t=c.filter(t=>t.id!==e);u(t),localStorage.setItem("molViews",JSON.stringify(t))})(e.id),children:"Delete"})]})]},e.id))})]})]})]})};function Kd(e){return e+.5|0}const Yd=(e,t,n)=>Math.max(Math.min(e,n),t);function Qd(e){return Yd(Kd(2.55*e),0,255)}function Zd(e){return Yd(Kd(255*e),0,255)}function Jd(e){return Yd(Kd(e/2.55)/100,0,1)}function $d(e){return Yd(Kd(100*e),0,100)}const eh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},th=[..."0123456789ABCDEF"],nh=e=>th[15&e],ih=e=>th[(240&e)>>4]+th[15&e],rh=e=>(240&e)>>4===(15&e);function ah(e){var t=(e=>rh(e.r)&&rh(e.g)&&rh(e.b)&&rh(e.a))(e)?nh:ih;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const oh=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sh(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function lh(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function ch(e,t,n){const i=sh(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function uh(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),o=(r+a)/2;let s,l,c;return r!==a&&(c=r-a,l=o>.5?c/(2-r-a):c/(r+a),s=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),s=60*s+.5),[0|s,l||0,o]}function dh(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Zd)}function hh(e,t,n){return dh(sh,e,t,n)}function ph(e){return(e%360+360)%360}function mh(e){const t=oh.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?Qd(+t[5]):Zd(+t[5]));const r=ph(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return dh(ch,e,t,n)}(r,a,o):"hsv"===t[1]?function(e,t,n){return dh(lh,e,t,n)}(r,a,o):hh(r,a,o),{r:n[0],g:n[1],b:n[2],a:i}}const fh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let yh;function vh(e){yh||(yh=function(){const e={},t=Object.keys(gh),n=Object.keys(fh);let i,r,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],r=0;r<n.length;r++)a=n[r],s=s.replace(a,fh[a]);a=parseInt(gh[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),yh.transparent=[0,0,0,0]);const t=yh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const bh=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const xh=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,_h=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function wh(e,t,n){if(e){let i=uh(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=hh(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Sh(e,t){return e?Object.assign(t||{},e):e}function Mh(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Zd(e[3]))):(t=Sh(e,{r:0,g:0,b:0,a:1})).a=Zd(t.a),t}function Ah(e){return"r"===e.charAt(0)?function(e){const t=bh.exec(e);let n,i,r,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?Qd(e):Yd(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?Qd(n):Yd(n,0,255)),i=255&(t[4]?Qd(i):Yd(i,0,255)),r=255&(t[6]?Qd(r):Yd(r,0,255)),{r:n,g:i,b:r,a:a}}}(e):mh(e)}class Th{constructor(e){if(e instanceof Th)return e;const t=typeof e;let n;"object"===t?n=Mh(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*eh[e[1]],g:255&17*eh[e[2]],b:255&17*eh[e[3]],a:5===n?17*eh[e[4]]:255}:7!==n&&9!==n||(t={r:eh[e[1]]<<4|eh[e[2]],g:eh[e[3]]<<4|eh[e[4]],b:eh[e[5]]<<4|eh[e[6]],a:9===n?eh[e[7]]<<4|eh[e[8]]:255})),t}(e)||vh(e)||Ah(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Sh(this._rgb);return e&&(e.a=Jd(e.a)),e}set rgb(e){this._rgb=Mh(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Jd(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?ah(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=uh(e),n=t[0],i=$d(t[1]),r=$d(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(Jd(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,o=2*a-1,s=n.a-i.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=_h(Jd(e.r)),r=_h(Jd(e.g)),a=_h(Jd(e.b));return{r:Zd(xh(i+n*(_h(Jd(t.r))-i))),g:Zd(xh(r+n*(_h(Jd(t.g))-r))),b:Zd(xh(a+n*(_h(Jd(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Th(this.rgb)}alpha(e){return this._rgb.a=Zd(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Kd(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wh(this._rgb,2,e),this}darken(e){return wh(this._rgb,2,-e),this}saturate(e){return wh(this._rgb,1,e),this}desaturate(e){return wh(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=uh(e);n[0]=ph(n[0]+t),n=hh(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Eh(){}const Ch=(()=>{let e=0;return()=>e++})();function Ph(e){return null===e||void 0===e}function kh(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Rh(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Nh(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Dh(e,t){return Nh(e)?e:t}function Ih(e,t){return"undefined"===typeof e?t:e}const Lh=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Oh(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function zh(e,t,n,i){let r,a,o;if(kh(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(Rh(e))for(o=Object.keys(e),a=o.length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])}function Fh(e,t){let n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Bh(e){if(kh(e))return e.map(Bh);if(Rh(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Bh(e[n[r]]);return t}return e}function Uh(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Hh(e,t,n,i){if(!Uh(e))return;const r=t[e],a=n[e];Rh(r)&&Rh(a)?Vh(r,a,i):t[e]=Bh(a)}function Vh(e,t,n){const i=kh(t)?t:[t],r=i.length;if(!Rh(e))return e;const a=(n=n||{}).merger||Hh;let o;for(let s=0;s<r;++s){if(o=i[s],!Rh(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)a(t[i],e,o,n)}return e}function Gh(e,t){return Vh(e,t,{merger:jh})}function jh(e,t,n){if(!Uh(e))return;const i=t[e],r=n[e];Rh(i)&&Rh(r)?Gh(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Bh(r))}const qh={"":e=>e,x:e=>e.x,y:e=>e.y};function Wh(e,t){const n=qh[t]||(qh[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Xh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Kh=e=>"undefined"!==typeof e,Yh=e=>"function"===typeof e,Qh=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Zh=Math.PI,Jh=2*Zh,$h=Jh+Zh,ep=Number.POSITIVE_INFINITY,tp=Zh/180,np=Zh/2,ip=Zh/4,rp=2*Zh/3,ap=Math.log10,op=Math.sign;function sp(e,t,n){return Math.abs(e-t)<n}function lp(e){const t=Math.round(e);e=sp(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ap(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function cp(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function up(e,t,n){let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function dp(e){return e*(Zh/180)}function hp(e){return e*(180/Zh)}function pp(e){if(!Nh(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function mp(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*Zh&&(a+=Jh),{angle:a,distance:r}}function fp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function gp(e,t){return(e-t+$h)%Jh-Zh}function yp(e){return(e%Jh+Jh)%Jh}function vp(e,t,n,i){const r=yp(e),a=yp(t),o=yp(n),s=yp(a-r),l=yp(o-r),c=yp(r-a),u=yp(r-o);return r===a||r===o||i&&a===o||s>l&&c<u}function bp(e,t,n){return Math.max(t,Math.min(n,e))}function xp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function _p(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,a=0;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const wp=(e,t,n,i)=>_p(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),Sp=(e,t,n)=>_p(e,n,i=>e[i][t]>=n);const Mp=["push","pop","shift","splice","unshift"];function Ap(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(Mp.forEach(t=>{delete e[t]}),delete e._chartjs)}function Tp(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ep="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Cp(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n=a,i||(i=!0,Ep.call(window,()=>{i=!1,e.apply(t,n)}))}}const Pp=e=>"start"===e?"left":"end"===e?"right":"center",kp=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Rp(e,t,n){const i=t.length;let r=0,a=i;if(e._sorted){const{iScale:o,vScale:s,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(r=Math.min(wp(l,u,d).lo,n?i:wp(t,u,o.getPixelForValue(d)).lo),c){const e=l.slice(0,r+1).reverse().findIndex(e=>!Ph(e[s.axis]));r-=Math.max(0,e)}r=bp(r,0,i-1)}if(m){let e=Math.max(wp(l,o.axis,h,!0).hi+1,n?0:wp(t,u,o.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!Ph(e[s.axis]));e+=Math.max(0,t)}a=bp(e,r,i)-r}else a=i-r}return{start:r,count:a}}function Np(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}const Dp=e=>0===e||1===e,Ip=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Jh/n),Lp=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Jh/n)+1,Op={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*np),easeOutSine:e=>Math.sin(e*np),easeInOutSine:e=>-.5*(Math.cos(Zh*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Dp(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Dp(e)?e:Ip(e,.075,.3),easeOutElastic:e=>Dp(e)?e:Lp(e,.075,.3),easeInOutElastic(e){const t=.1125;return Dp(e)?e:e<.5?.5*Ip(2*e,t,.45):.5+.5*Lp(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Op.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Op.easeInBounce(2*e):.5*Op.easeOutBounce(2*e-1)+.5};function zp(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Fp(e){return zp(e)?e:new Th(e)}function Bp(e){return zp(e)?e:new Th(e).saturate(.5).darken(.1).hexString()}const Up=["x","y","borderWidth","radius","tension"],Hp=["color","borderColor","backgroundColor"];const Vp=new Map;function Gp(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Vp.get(n);return i||(i=new Intl.NumberFormat(e,t),Vp.set(n,i)),i}(t,n).format(e)}const jp={values:e=>kh(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=ap(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Gp(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(ap(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?jp.numeric.call(this,e,t,n):""}};var qp={formatters:jp};const Wp=Object.create(null),Xp=Object.create(null);function Kp(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function Yp(e,t,n){return"string"===typeof t?Vh(Kp(e,t),n):Vh(Kp(e,""),t)}class Qp{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Bp(t.backgroundColor),this.hoverBorderColor=(e,t)=>Bp(t.borderColor),this.hoverColor=(e,t)=>Bp(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Yp(this,e,t)}get(e){return Kp(this,e)}describe(e,t){return Yp(Xp,e,t)}override(e,t){return Yp(Wp,e,t)}route(e,t,n,i){const r=Kp(this,e),a=Kp(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[i];return Rh(e)?Object.assign({},t,e):Ih(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach(e=>e(this))}}var Zp=new Qp({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Hp},numbers:{type:"number",properties:Up}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Jp(e,t,n,i,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i}function $p(e,t,n,i){let r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,c,u,d,h;for(l=0;l<s;l++)if(d=n[l],void 0===d||null===d||kh(d)){if(kh(d))for(c=0,u=d.length;c<u;c++)h=d[c],void 0===h||null===h||kh(h)||(o=Jp(e,r,a,o,h))}else o=Jp(e,r,a,o,d);e.restore();const p=a.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[a[l]];a.splice(0,p)}return o}function em(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function tm(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function nm(e,t,n,i){im(e,t,n,i,null)}function im(e,t,n,i,r){let a,o,s,l,c,u,d,h;const p=t.pointStyle,m=t.rotation,f=t.radius;let g=(m||0)*tp;if(p&&"object"===typeof p&&(a=p.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,i),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),p){default:r?e.ellipse(n,i,r/2,f,0,0,Jh):e.arc(n,i,f,0,Jh),e.closePath();break;case"triangle":u=r?r/2:f,e.moveTo(n+Math.sin(g)*u,i-Math.cos(g)*f),g+=rp,e.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*f),g+=rp,e.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,o=Math.cos(g+ip)*l,d=Math.cos(g+ip)*(r?r/2-c:l),s=Math.sin(g+ip)*l,h=Math.sin(g+ip)*(r?r/2-c:l),e.arc(n-d,i-s,c,g-Zh,g-np),e.arc(n+h,i-o,c,g-np,g),e.arc(n+d,i+s,c,g,g+np),e.arc(n-h,i+o,c,g+np,g+Zh),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}g+=ip;case"rectRot":d=Math.cos(g)*(r?r/2:f),o=Math.cos(g)*f,s=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-d,i-s),e.lineTo(n+h,i-o),e.lineTo(n+d,i+s),e.lineTo(n-h,i+o),e.closePath();break;case"crossRot":g+=ip;case"cross":d=Math.cos(g)*(r?r/2:f),o=Math.cos(g)*f,s=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o);break;case"star":d=Math.cos(g)*(r?r/2:f),o=Math.cos(g)*f,s=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o),g+=ip,d=Math.cos(g)*(r?r/2:f),o=Math.cos(g)*f,s=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-d,i-s),e.lineTo(n+d,i+s),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(g)*f,s=Math.sin(g)*f,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(g)*(r?r/2:f),i+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function rm(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function am(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function om(e){e.restore()}function sm(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function lm(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function cm(e,t,n,i,r){if(r.strikethrough||r.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function um(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function dm(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=kh(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ph(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&um(e,a.backdrop),s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Ph(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,i,a.maxWidth)),e.fillText(c,n,i,a.maxWidth),cm(e,n,i,c,a),i+=Number(r.lineHeight);e.restore()}function hm(e,t){const{x:n,y:i,w:r,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Zh,Zh,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,Zh,np,!0),e.lineTo(n+r-o.bottomRight,i+a),e.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,np,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-np,!0),e.lineTo(n+o.topLeft,i)}const pm=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mm=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fm(e,t){const n=(""+e).match(pm);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const gm=e=>+e||0;function ym(e,t){const n={},i=Rh(t),r=i?Object.keys(t):t,a=Rh(e)?i?n=>Ih(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=gm(a(o));return n}function vm(e){return ym(e,{top:"y",right:"x",bottom:"y",left:"x"})}function bm(e){return ym(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xm(e){const t=vm(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _m(e,t){e=e||{},t=t||Zp.font;let n=Ih(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=Ih(e.style,t.style);i&&!(""+i).match(mm)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ih(e.family,t.family),lineHeight:fm(Ih(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Ih(e.weight,t.weight),string:""};return r.string=function(e){return!e||Ph(e.size)||Ph(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function wm(e,t,n,i){let r,a,o,s=!0;for(r=0,a=e.length;r<a;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&kh(o)&&(o=o[n%o.length],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}function Sm(e,t){return Object.assign(Object.create(e),t)}function Mm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Lm("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Mm([i,...e],t,r,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>Pm(n,i,()=>function(e,t,n,i){let r;for(const a of t)if(r=Lm(Em(a,e),n),"undefined"!==typeof r)return Cm(e,r)?Dm(n,i,e,r):r}(i,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Om(e).includes(t),ownKeys:e=>Om(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function Am(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Tm(e,i),setContext:t=>Am(e,t,n,i),override:r=>Am(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Pm(e,t,()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=e;let s=i[t];Yh(s)&&o.isScriptable(t)&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let l=t(a,o||i);s.delete(e),Cm(e,l)&&(l=Dm(r._scopes,r,e,l));return l}(t,s,e,n));kh(s)&&s.length&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:s}=n;if("undefined"!==typeof a.index&&i(e))return t[a.index%t.length];if(Rh(t[0])){const n=t,i=r._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=Dm(i,r,e,l);t.push(Am(n,a,o&&o[e],s))}}return t}(t,s,e,o.isIndexable));Cm(t,s)&&(s=Am(s,r,a&&a[t],o));return s}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function Tm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Yh(n)?n:()=>n,isIndexable:Yh(i)?i:()=>i}}const Em=(e,t)=>e?e+Xh(t):t,Cm=(e,t)=>Rh(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Pm(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function km(e,t,n){return Yh(e)?e(t,n):e}const Rm=(e,t)=>!0===e?t:"string"===typeof e?Wh(t,e):void 0;function Nm(e,t,n,i,r){for(const a of t){const t=Rm(n,a);if(t){e.add(t);const a=km(t._fallback,n,r);if("undefined"!==typeof a&&a!==n&&a!==i)return a}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function Dm(e,t,n,i){const r=t._rootScopes,a=km(t._fallback,n,i),o=[...e,...r],s=new Set;s.add(i);let l=Im(s,o,n,a||n,i);return null!==l&&(("undefined"===typeof a||a===n||(l=Im(s,o,a,l,i),null!==l))&&Mm(Array.from(s),[""],r,a,()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(kh(r)&&Rh(n))return n;return r||{}}(t,n,i)))}function Im(e,t,n,i,r){for(;n;)n=Nm(e,t,n,i,r);return n}function Lm(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Om(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function zm(e,t,n,i){const{iScale:r}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=t[c],o[s]={r:r.parse(Wh(u,a),c)};return o}const Fm=Number.EPSILON||1e-14,Bm=(e,t)=>t<e.length&&!e[t].skip&&e[t],Um=e=>"x"===e?"y":"x";function Hm(e,t,n,i){const r=e.skip?t:e,a=t,o=n.skip?t:n,s=fp(a,r),l=fp(o,a);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}}function Vm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Um(t),i=e.length,r=Array(i).fill(0),a=Array(i);let o,s,l,c=Bm(e,0);for(o=0;o<i;++o)if(s=l,l=c,c=Bm(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}a[o]=s?c?op(r[o-1])!==op(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,a,o,s,l,c=Bm(e,0);for(let u=0;u<i-1;++u)l=c,c=Bm(e,u+1),l&&c&&(sp(t[u],0,Fm)?n[u]=n[u+1]=0:(r=n[u]/t[u],a=n[u+1]/t[u],s=Math.pow(r,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[u]=r*o*t[u],n[u+1]=a*o*t[u])))}(e,r,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=Um(n),r=e.length;let a,o,s,l=Bm(e,0);for(let c=0;c<r;++c){if(o=s,s=l,l=Bm(e,c+1),!s)continue;const r=s[n],u=s[i];o&&(a=(r-o[n])/3,s["cp1".concat(n)]=r-a,s["cp1".concat(i)]=u-a*t[c]),l&&(a=(l[n]-r)/3,s["cp2".concat(n)]=r+a,s["cp2".concat(i)]=u+a*t[c])}}(e,a,t)}function Gm(e,t,n){return Math.max(Math.min(e,n),t)}function jm(e,t,n,i,r){let a,o,s,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Vm(e,r);else{let n=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=Hm(n,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,i,r,a,o,s=rm(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=s,s=n<i-1&&rm(e[n+1],t),a&&(r=e[n],o&&(r.cp1x=Gm(r.cp1x,t.left,t.right),r.cp1y=Gm(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=Gm(r.cp2x,t.left,t.right),r.cp2y=Gm(r.cp2y,t.top,t.bottom)))}(e,n)}function qm(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Wm(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Xm(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const Km=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Ym=["top","right","bottom","left"];function Qm(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=Ym[r];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Zm(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=Km(n),a="border-box"===r.boxSizing,o=Qm(r,"padding"),s=Qm(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:a}=i;let o,s,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,a,e.target))o=r,s=a;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,s=i.clientY-e.top,l=!0}return{x:o,y:s,box:l}}(e,n),d=o.left+(u&&s.left),h=o.top+(u&&s.top);let{width:p,height:m}=t;return a&&(p-=o.width+s.width,m-=o.height+s.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-h)/m*n.height/i)}}const Jm=e=>Math.round(10*e)/10;function $m(e,t,n,i){const r=Km(e),a=Qm(r,"margin"),o=Xm(r.maxWidth,e,"clientWidth")||ep,s=Xm(r.maxHeight,e,"clientHeight")||ep,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const a=e&&Wm(e);if(a){const e=a.getBoundingClientRect(),o=Km(a),s=Qm(o,"border","width"),l=Qm(o,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,i=Xm(o.maxWidth,a,"clientWidth"),r=Xm(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||ep,maxHeight:r||ep}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=Qm(r,"border","width"),t=Qm(r,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-a.width),u=Math.max(0,i?c/i:u-a.height),c=Jm(Math.min(c,o,l.maxWidth)),u=Jm(Math.min(u,s,l.maxHeight)),c&&!u&&(u=Jm(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=Jm(Math.floor(u*i))),{width:c,height:u}}function ef(e,t,n){const i=t||1,r=Jm(e.height*i),a=Jm(e.width*i);e.height=Jm(e.height),e.width=Jm(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==a)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}const tf=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};qm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Lb){}return e}();function nf(e,t){const n=function(e,t){return Km(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function rf(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function af(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function of(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=rf(e,r,n),s=rf(r,a,n),l=rf(a,t,n),c=rf(o,s,n),u=rf(s,l,n);return rf(c,u,n)}function sf(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function lf(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function cf(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function uf(e){return"angle"===e?{between:vp,compare:gp,normalize:yp}:{between:xp,compare:(e,t)=>e-t,normalize:e=>e}}function df(e){let{start:t,end:n,count:i,loop:r,style:a}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:a}}function hf(e,t,n){if(!n)return[e];const{property:i,start:r,end:a}=n,o=t.length,{compare:s,between:l,normalize:c}=uf(i),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:i,start:r,end:a}=n,{between:o,normalize:s}=uf(i),l=t.length;let c,u,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,c=0,u=l;c<u&&o(s(t[d%l][i]),r,a);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,n),m=[];let f,g,y,v=!1,b=null;const x=()=>v||l(r,y,f)&&0!==s(r,y),_=()=>!v||0===s(a,f)||l(a,y,f);for(let w=u,S=u;w<=d;++w)g=t[w%o],g.skip||(f=c(g[i]),f!==y&&(v=l(f,r,a),null===b&&x()&&(b=0===s(f,r)?w:S),null!==b&&_()&&(m.push(df({start:b,end:w,loop:h,count:o,style:p})),b=null),S=w,y=f));return null!==b&&m.push(df({start:b,end:d,loop:h,count:o,style:p})),m}function pf(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const a=hf(i[r],e.points,t);a.length&&n.push(...a)}return n}function mf(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),a=ff(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,c=[];let u=a,d=t[0].start,h=d;function p(e,t,i,r){const a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,d=t%l)}}for(const m of t){d=s?d:m.start;let e,t=n[d%l];for(h=d+1;h<=m.end;h++){const a=n[h%l];e=ff(i.setContext(Sm(r,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),gf(e,u)&&p(d,h-1,m.loop,u),t=a,u=e}d<h-1&&p(d,h-1,m.loop,u)}return c}(e,t,n,i):t}function ff(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function gf(e,t){if(!t)return!1;const n=[],i=function(e,t){return zp(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function yf(e,t,n){return e.options.clip?e[n]:t[n]}function vf(e,t){const n=t._clip;if(n.disabled)return!1;const i=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:yf(n,t,"left"),right:yf(n,t,"right"),top:yf(i,t,"top"),bottom:yf(i,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:i.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:i.right+(!0===n.right?0:n.right),top:!1===n.top?0:i.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:i.bottom+(!0===n.bottom?0:n.bottom)}}class bf{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach(i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Ep.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a,o=r.length-1,s=!1;for(;o>=0;--o)a=r[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(r[o]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xf=new bf;const _f="transparent",wf={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=Fp(e||_f),r=i.valid&&Fp(t||_f);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Sf{constructor(e,t,n,i){const r=t[n];i=wm([e.to,i,r,e.from]);const a=wm([e.from,r,i]);this._active=!0,this._fn=e.fn||wf[e.type||typeof a],this._easing=Op[e.easing]||Op.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=wm([e.to,t,i,e.from]),this._from=wm([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let s;if(this._active=r!==o&&(a||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(r,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class Mf{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Rh(e))return;const t=Object.keys(Zp.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Rh(r))return;const a={};for(const e of t)a[e]=r[e];(kh(r.properties)&&r.properties||[i]).forEach(e=>{e!==i&&n.has(e)||n.set(e,a)})})}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(r[l]=u=new Sf(d,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(xf.add(this._chart,n),!0):void 0}}function Af(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function Tf(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function Ef(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,a="single"===i.mode;let o,s,l,c;if(null===t)return;let u=!1;for(o=0,s=r.length;o<s;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=e.values[l],Nh(c)&&(a||0===t||op(t)===op(c))&&(t+=c)}return u||i.all?t:0}function Cf(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Pf(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function kf(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function Rf(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,o,i),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=Pf(r,u,n),h[s]=a,h._top=kf(h,o,!0,i.type),h._bottom=kf(h,o,!1,i.type);(h._visualValues||(h._visualValues={}))[s]=a}}function Nf(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function Df(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const If=e=>"reset"===e||"none"===e,Lf=(e,t)=>t?e:Object.assign({},e);class Of{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Df(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=Ih(n.xAxisID,Nf(e,"x")),a=t.yAxisID=Ih(n.yAxisID,Nf(e,"y")),o=t.rAxisID=Ih(n.rAxisID,Nf(e,"r")),s=t.indexAxis,l=t.iAxisID=i(s,r,a,o),c=t.vAxisID=i(s,a,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ap(this._data,this),e._stacked&&Df(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Rh(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,r="x"===n.axis?"x":"y",a="x"===i.axis?"x":"y",o=Object.keys(e),s=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],s[l]={[r]:u,[a]:e[u]};return s}(t,e)}else if(n!==t){if(n){Ap(n,this);const e=this._cachedMeta;Df(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(i=t)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Mp.forEach(e=>{const t="_onData"+Xh(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];const o=n.apply(this,r);return i._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...r)}),o}})}))),this._syncList=[],this._data=t}var i,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Cf(t.vScale,t),t.stack!==n.stack&&(i=!0,Df(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(Rf(this,t._parsed),t._stacked=Cf(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,o=r.axis;let s,l,c,u=0===e&&t===i.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=kh(i[e])?this.parseArrayData(n,i,e,t):Rh(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||d&&l[o]<d[o];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],u&&(r()&&(u=!1),d=l);n._sorted=u}a&&Rf(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,o=r.axis,s=a.axis,l=r.getLabels(),c=r===a,u=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+n,u[d]={[o]:c||r.parse(l[p],p),[s]:a.parse(t[p],p)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,o=new Array(i);let s,l,c,u;for(s=0,l=i;s<l;++s)c=s+n,u=t[c],o[s]={x:r.parse(u[0],c),y:a.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=t[d],l[c]={x:r.parse(Wh(h,o),d),y:a.parse(Wh(h,s),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis];return Ef({keys:Tf(i,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=Ef(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Tf(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let d,h;function p(){h=i[d];const t=h[o.axis];return!Nh(h[e.axis])||c>t||u<t}for(d=0;d<a&&(p()||(this.updateRangeFromParsed(l,e,h,s),!r));++d);if(r)for(d=a-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],Nh(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return Rh(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(Ih(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=Af(e,n),r=Af(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,s),c=o;c<o+s;++c){const t=i[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return Sm(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return Sm(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,a=e+"-"+t,o=r[a],s=this.enableOptionSharing&&Kh(n);if(o)return Lf(o,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Zp.elements[e]),p=l.resolveNamedOptions(d,h,()=>this.getContext(n,i,t),u);return p.$shared&&(p.$shared=s,r[a]=Object.freeze(Lf(p,s))),p}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a="animation-".concat(t),o=r[a];if(o)return o;let s;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),a=i.getOptionScopes(this.getDataset(),r);s=i.createResolver(a,this.getContext(e,n,t))}const l=new Mf(i,s&&s.animations);return s&&s._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||If(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){If(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!If(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,s,l]of this._syncList)this[o](s,l);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Df(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zf(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Tp(i.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let i,r,a,o,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(Kh(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(i=0,r=n.length;i<r;++i)a=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),l();return s}function Ff(e,t,n,i){return kh(e)?function(e,t,n,i){const r=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(r,a),s=Math.max(r,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:o,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Bf(e,t,n,i){const r=e.iScale,a=e.vScale,o=r.getLabels(),s=r===a,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=t[c],d={},d[r.axis]=s||r.parse(o[c],c),l.push(Ff(h,d,a,c));return l}function Uf(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Hf(e,t,n,i){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:t,top:r,bottom:a}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(a[Vf(u,o,s,l)]=!0,r=c)),a[Vf(r,o,s,l)]=!0,e.borderSkipped=a}function Vf(e,t,n,i){var r,a,o;return i?(o=n,e=Gf(e=(r=e)===(a=t)?o:r===o?a:r,n,t)):e=Gf(e,t,n),e}function Gf(e,t,n){return"start"===e?t:"end"===e?n:e}function jf(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}s(Of,"defaults",{}),s(Of,"datasetElementType",null),s(Of,"dataElementType",null);class qf extends Of{parsePrimitiveData(e,t,n,i){return Bf(e,t,n,i)}parseArrayData(e,t,n,i){return Bf(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l="x"===r.axis?o:s,c="x"===a.axis?o:s,u=[];let d,h,p,m;for(d=n,h=n+i;d<h;++d)m=t[d],p={},p[r.axis]=r.parse(Wh(m,l),d),u.push(Ff(Wh(m,c),p,a,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,o=Uf(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:a,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=r||Ph(t[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[o.axis],f={horizontal:l,base:n.base,enableBorderRadius:!m||Uf(t._custom)||a===m._top||a===m._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(f.options=u||this.resolveDataElementOptions(h,e[h].active?"active":i));const g=f.options||e[h].options;Hf(f,g,m,a),jf(f,g,c.ratio),this.updateElement(e[h],h,f,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),s=o&&o[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===s),i=t&&t[e.vScale.axis];if(Ph(i)||isNaN(i))return!0};for(const c of i)if((void 0===t||!l(c))&&((!1===r||-1===a.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ih("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||zf(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:a}}=this,o=r||0,s=this.getParsed(e),l=s._custom,c=Uf(l);let u,d,h=s[t.axis],p=0,m=n?this.applyStack(t,s,n):h;m!==h&&(p=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&op(h)!==op(l.barEnd)&&(p=0),p+=h);const f=Ph(r)||c?p:r;let g=t.getPixelForValue(f);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+m):g,d=u-g,Math.abs(d)<a){d=function(e,t,n){return 0!==e?op(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*a,h===o&&(g-=d/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),p=Math.max(e,r);g=Math.max(Math.min(g,p),l),u=g+d,n&&!c&&(s._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(o)){const e=op(d)*t.getLineWidthForValue(o)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=Ih(i.maxBarThickness,1/0);let o,s;const l=this._getAxisCount();if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,c="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,a=r[e];let o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n*l):function(e,t,n,i){const r=n.barThickness;let a,o;return Ph(r)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}(e,t,i,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(Ih(u,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+d;o=c.start+c.chunk*h+c.chunk/2,s=Math.min(a,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(a,t.min*t.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[t.axis]||n[r].hidden||n[r].draw(this._ctx)}}s(qf,"id","bar"),s(qf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),s(qf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wf extends Of{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=Ih(e[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=Ih(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),s=r.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,u=o.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!r&&this.getParsed(d),h={},p=h[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),m=h[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);h.skip=isNaN(p)||isNaN(m),l&&(h.options=s||this.resolveDataElementOptions(d,t.active?"active":i),r&&(h.options.radius=0)),this.updateElement(t,d,h,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=Ih(n&&n._custom,r),i}}s(Wf,"id","bubble"),s(Wf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),s(Wf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Xf extends Of{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,a,o=e=>+n[e];if(Rh(n[e])){const{key:e="value"}=this._parsing;o=t=>+Wh(n[t],e)}for(r=e,a=e+t;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return dp(this.options.rotation-90)}_getCircumference(){return dp(this.options.circumference)}_getRotationExtents(){let e=Jh,t=-Jh;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:f,offsetY:g}=function(e,t,n){let i=1,r=1,a=0,o=0;if(t<Jh){const s=e,l=s+t,c=Math.cos(s),u=Math.sin(s),d=Math.cos(l),h=Math.sin(l),p=(e,t,i)=>vp(e,s,l,!0)?1:Math.max(t,t*n,i,i*n),m=(e,t,i)=>vp(e,s,l,!0)?-1:Math.min(t,t*n,i,i*n),f=p(0,c,d),g=p(np,u,h),y=m(Zh,c,d),v=m(Zh+np,u,h);i=(f-y)/2,r=(g-v)/2,a=-(f+y)/2,o=-(g+v)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}(h,d,s),y=(n.width-a)/p,v=(n.height-a)/m,b=Math.max(Math.min(y,v)/2,0),x=Lh(this.options.radius,b),_=(x-Math.max(x*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Jh)}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.chartArea,s=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&s.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,i);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,r);for(f=t;f<t+n;++f){const t=this._circumference(f,r),n=e[f],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};m&&(a.options=p||this.resolveDataElementOptions(f,n.active?"active":i)),g+=t,this.updateElement(n,f,a,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Jh*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Gp(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,o,s;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)s=o.resolveDataElementOptions(i),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Ih(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}s(Xf,"id","doughnut"),s(Xf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),s(Xf,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),s(Xf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:i,color:r,useBorderRadius:a,borderRadius:o}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(s),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:i,pointStyle:n,borderRadius:a&&(o||l.borderRadius),index:s}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Kf extends Of{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=Rp(t,i,a);this._drawStart=o,this._drawCount=s,Np(t)&&(o=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(i,o,s,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=a.axis,h=o.axis,{spanGaps:p,segment:m}=this.options,f=cp(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<v;++x){const n=e[x],p=g?n:{};if(x<t||x>=y){p.skip=!0;continue}const v=this.getParsed(x),_=Ph(v[h]),w=p[d]=a.getPixelForValue(v[d],x),S=p[h]=r||_?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,v,s):v[h],x);p.skip=isNaN(w)||isNaN(S)||_,p.stop=x>0&&Math.abs(v[d]-b[d])>f,m&&(p.parsed=v,p.raw=l.data[x]),u&&(p.options=c||this.resolveDataElementOptions(x,n.active?"active":i)),g||this.updateElement(n,x,p,i),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}s(Kf,"id","line"),s(Kf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),s(Kf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Yf extends Of{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Gp(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return zm.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),a=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,u=s.getIndexAngle(0)-.5*Zh;let d,h=u;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,i,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,m=h+this._computeAngle(d,i,p),f=a.getDataVisibility(d)?s.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=m,r&&(o.animateScale&&(f=0),o.animateRotate&&(n=m=u));const g={x:l,y:c,innerRadius:0,outerRadius:f,startAngle:n,endAngle:m,options:this.resolveDataElementOptions(d,t.active?"active":i)};this.updateElement(t,d,g,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?dp(this.resolveDataElementOptions(e,t).angle||n):0}}s(Yf,"id","polarArea"),s(Yf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),s(Yf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Qf extends Xf{}s(Qf,"id","pie"),s(Qf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Zf extends Of{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return zm.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,a="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),s=r.getPointPositionForValue(o,this.getParsed(o).r),l=a?r.xCenter:s.x,c=a?r.yCenter:s.y,u={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}s(Zf,"id","radar"),s(Zf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),s(Zf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Jf extends Of{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),s=r.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:a}=Rp(t,n,i);if(this._drawStart=r,this._drawCount=a,Np(t)&&(r=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),h=a.axis,p=o.axis,{spanGaps:m,segment:f}=this.options,g=cp(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===i;let v=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=y?t:{},m=Ph(n[p]),x=c[h]=a.getPixelForValue(n[h],b),_=c[p]=r||m?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[p],b);c.skip=isNaN(x)||isNaN(_)||m,c.stop=b>0&&Math.abs(n[h]-v[h])>g,f&&(c.parsed=n,c.raw=l.data[b]),d&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":i)),y||this.updateElement(t,b,c,i),v=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,a)/2}}s(Jf,"id","scatter"),s(Jf,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),s(Jf,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var $f=Object.freeze({__proto__:null,BarController:qf,BubbleController:Wf,DoughnutController:Xf,LineController:Kf,PieController:Qf,PolarAreaController:Yf,RadarController:Zf,ScatterController:Jf});function eg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tg{static override(e){Object.assign(tg.prototype,e)}constructor(e){s(this,"options",void 0),this.options=e||{}}init(){}formats(){return eg()}parse(){return eg()}format(){return eg()}add(){return eg()}diff(){return eg()}startOf(){return eg()}endOf(){return eg()}}var ng=tg;function ig(e,t,n,i){const{controller:r,data:a,_sorted:o}=e,s=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const o=s._reversePixels?Sp:wp;if(!i){const i=o(a,t,n);if(l){const{vScale:t}=r._cachedMeta,{_parsed:n}=e,a=n.slice(0,i.lo+1).reverse().findIndex(e=>!Ph(e[t.axis]));i.lo-=Math.max(0,a);const o=n.slice(i.hi).findIndex(e=>!Ph(e[t.axis]));i.hi+=Math.max(0,o)}return i}if(r._sharedOptions){const e=a[0],i="function"===typeof e.getRange&&e.getRange(t);if(i){const e=o(a,t,n-i),r=o(a,t,n+i);return{lo:e.lo,hi:r.hi}}}}return{lo:0,hi:a.length-1}}function rg(e,t,n,i,r){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:n}=a[s],{lo:l,hi:c}=ig(a[s],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function ag(e,t,n,i,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return rg(e,n,t,function(n,o,s){(r||rm(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&a.push({element:n,datasetIndex:o,index:s})},!0),a}function og(e,t,n,i,r,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return rg(e,n,t,function(n,c,u){const d=n.inRange(t.x,t.y,r);if(i&&!d)return;const h=n.getCenterPoint(r);if(!(!!a||e.isPointInArea(h))&&!d)return;const p=s(t,h);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})}),o}function sg(e,t,n,i,r,a){return a||e.isPointInArea(t)?"r"!==n||i?og(e,t,n,i,r,a):function(e,t,n,i){let r=[];return rg(e,n,t,function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],i),{angle:l}=mp(e,{x:t.x,y:t.y});vp(l,o,s)&&r.push({element:e,datasetIndex:n,index:a})}),r}(e,t,n,r):[]}function lg(e,t,n,i,r){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return rg(e,n,t,(e,i,l)=>{e[o]&&e[o](t[n],r)&&(a.push({element:e,datasetIndex:i,index:l}),s=s||e.inRange(t.x,t.y,r))}),i&&!s?[]:a}var cg={evaluateInteractionItems:rg,modes:{index(e,t,n,i){const r=Zm(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?ag(e,r,a,i,o):sg(e,r,a,!1,i,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,i){const r=Zm(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?ag(e,r,a,i,o):sg(e,r,a,!1,i,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>ag(e,Zm(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=Zm(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return sg(e,r,a,n.intersect,i,o)},x:(e,t,n,i)=>lg(e,Zm(t,e),"x",n.intersect,i),y:(e,t,n,i)=>lg(e,Zm(t,e),"y",n.intersect,i)}};const ug=["left","top","right","bottom"];function dg(e,t){return e.filter(e=>e.pos===t)}function hg(e,t){return e.filter(e=>-1===ug.indexOf(e.pos)&&e.box.axis===t)}function pg(e,t){return e.sort((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function mg(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!ug.includes(i))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*i:o&&t.availableWidth,s.height=r):(s.width=i,s.height=c?c*r:o&&t.availableHeight)}return n}function fg(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function gg(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yg(e,t,n,i){const{pos:r,box:a}=n,o=e.maxPadding;if(!Rh(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[r]+=n.size}a.getPadding&&gg(o,a.getPadding());const s=Math.max(0,t.outerWidth-fg(o,e,"left","right")),l=Math.max(0,t.outerHeight-fg(o,e,"top","bottom")),c=s!==e.w,u=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function vg(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],n[e])}),i}return i(e?["left","right"]:["top","bottom"])}function bg(e,t,n,i){const r=[];let a,o,s,l,c,u;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,vg(s.horizontal,t));const{same:o,other:d}=yg(t,n,s,i);c|=o&&r.length,u=u||d,l.fullSize||r.push(s)}return c&&bg(r,t,n,i)||u}function xg(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function _g(e,t,n,i){const r=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,l=i[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const i=t.w*c,a=l.size||e.height;Kh(l.start)&&(o=l.start),e.fullSize?xg(e,r.left,o,n.outerWidth-r.right-r.left,a):xg(e,t.left+l.placed,o,i,a),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;Kh(l.start)&&(a=l.start),e.fullSize?xg(e,a,r.top,o,n.outerHeight-r.bottom-r.top):xg(e,a,t.top+l.placed,o,i),l.start=a,l.placed+=i,a=e.right}}t.x=a,t.y=o}var wg={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=xm(e.options.layout.padding),a=Math.max(t-r.width,0),o=Math.max(n-r.height,0),s=function(e){const t=function(e){const t=[];let n,i,r,a,o,s;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=r),t.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=pg(t.filter(e=>e.box.fullSize),!0),i=pg(dg(t,"left"),!0),r=pg(dg(t,"right")),a=pg(dg(t,"top"),!0),o=pg(dg(t,"bottom")),s=hg(t,"x"),l=hg(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(o).concat(s),chartArea:dg(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;zh(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);gg(h,xm(i));const p=Object.assign({maxPadding:h,w:a,h:o,x:r.left,y:r.top},r),m=mg(l.concat(c),d);bg(s.fullSize,p,d,m),bg(l,p,d,m),bg(c,p,d,m)&&bg(l,p,d,m),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),_g(s.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,_g(s.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},zh(s.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Sg{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Mg extends Sg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ag="$chartjs",Tg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Eg=e=>null===e||""===e;const Cg=!!tf&&{passive:!0};function Pg(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Cg)}function kg(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Rg(e,t,n){const i=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||kg(n.addedNodes,i),t=t&&!kg(n.removedNodes,i);t&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ng(e,t,n){const i=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||kg(n.removedNodes,i),t=t&&!kg(n.addedNodes,i);t&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Dg=new Map;let Ig=0;function Lg(){const e=window.devicePixelRatio;e!==Ig&&(Ig=e,Dg.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Og(e,t,n){const i=e.canvas,r=i&&Wm(i);if(!r)return;const a=Cp((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()},window),o=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||a(n,i)});return o.observe(r),function(e,t){Dg.size||window.addEventListener("resize",Lg),Dg.set(e,t)}(e,a),o}function zg(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Dg.delete(e),Dg.size||window.removeEventListener("resize",Lg)}(e)}function Fg(e,t,n){const i=e.canvas,r=Cp(t=>{null!==e.ctx&&n(function(e,t){const n=Tg[e.type]||e.type,{x:i,y:r}=Zm(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,Cg)}(i,t,r),r}class Bg extends Sg{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Ag]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Eg(r)){const t=nf(e,"width");void 0!==t&&(e.width=t)}if(Eg(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=nf(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Ag])return!1;const n=t[Ag].initial;["height","width"].forEach(e=>{const i=n[e];Ph(i)?t.removeAttribute(e):t.setAttribute(e,i)});const i=n.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[Ag],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:Rg,detach:Ng,resize:Og}[t]||Fg;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:zg,detach:zg,resize:zg}[t]||Pg)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return $m(e,t,n,i)}isAttached(e){const t=e&&Wm(e);return!(!t||!t.isConnected)}}class Ug{constructor(){s(this,"x",void 0),s(this,"y",void 0),s(this,"active",!1),s(this,"options",void 0),s(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return cp(this.x)&&cp(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),i}}function Hg(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>r)return function(e,t,n,i){let r,a=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),a++,o=n[a*i])}(t,c,a,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const a=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(i);for(let o=0,s=a.length-1;o<s;o++){const e=a[o];if(e>r)return e}return Math.max(r,1)}(a,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-s)/(o-1)):null;for(Vg(t,c,u,Ph(i)?0:s-i,s),e=0,n=o-1;e<n;e++)Vg(t,c,u,a[e],a[e+1]);return Vg(t,c,u,l,Ph(i)?t.length:l+i),c}return Vg(t,c,u),c}function Vg(e,t,n,i,r){const a=Ih(i,0),o=Math.min(Ih(r,e.length),e.length);let s,l,c,u=0;for(n=Math.ceil(n),r&&(s=r-i,n=s/Math.floor(s/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}s(Ug,"defaults",{}),s(Ug,"defaultRoutes",void 0);const Gg=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,jg=(e,t)=>Math.min(t||e,e);function qg(e,t){const n=[],i=e.length/t,r=e.length;let a=0;for(;a<r;a+=i)n.push(e[Math.floor(a)]);return n}function Wg(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<a-s||c>o+s)))return c}function Xg(e){return e.drawTicks?e.tickLength:0}function Kg(e,t){if(!e.display)return 0;const n=_m(e.font,t),i=xm(e.padding);return(kh(e.text)?e.text.length:1)*n.lineHeight+i.height}function Yg(e,t,n){let i=Pp(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Qg extends Ug{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Dh(e,Number.POSITIVE_INFINITY),t=Dh(t,Number.NEGATIVE_INFINITY),n=Dh(n,Number.POSITIVE_INFINITY),i=Dh(i,Number.NEGATIVE_INFINITY),{min:Dh(e,n),max:Dh(t,i),minDefined:Nh(e),maxDefined:Nh(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let s=0,l=o.length;s<l;++s)t=o[s].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),a||(i=Math.max(i,t.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:Dh(n,Dh(i,n)),max:Dh(i,Dh(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oh(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,a=Lh(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(a)),max:o(r,a)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?qg(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Hg(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oh(this.options.afterUpdate,[this])}beforeSetDimensions(){Oh(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oh(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oh(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oh(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=Oh(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Oh(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oh(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=jg(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a,o,s,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=bp(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),u+6>a&&(a=h/(n-(e.offset?.5:1)),o=this.maxHeight-Xg(e.grid)-t.padding-Kg(e.title,this.chart.options.font),s=Math.sqrt(u*u+d*d),l=hp(Math.min(Math.asin(bp((c.highest.height+6)/a,-1,1)),Math.asin(bp(o/s,-1,1))-Math.asin(bp(d/s,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Oh(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oh(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=Kg(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=Xg(r)+a):(e.height=this.maxHeight,e.width=Xg(r)+a),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:a}=this._getLabelSizes(),s=2*n.padding,l=dp(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*r.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:o}=this.options,s=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;s?l?(u=i*e.width,d=n*t.height):(u=n*e.height,d=i*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oh(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Ph(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=qg(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,a=[],o=[],s=Math.floor(t/jg(t,n));let l,c,u,d,h,p,m,f,g,y,v,b=0,x=0;for(l=0;l<t;l+=s){if(d=e[l].label,h=this._resolveTickFontOptions(l),i.font=p=h.string,m=r[p]=r[p]||{data:{},gc:[]},f=h.lineHeight,g=y=0,Ph(d)||kh(d)){if(kh(d))for(c=0,u=d.length;c<u;++c)v=d[c],Ph(v)||kh(v)||(g=Jp(i,m.data,m.gc,g,v),y+=f)}else g=Jp(i,m.data,m.gc,g,d),y=f;a.push(g),o.push(y),b=Math.max(g,b),x=Math.max(y,x)}!function(e,t){zh(e,e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}(r,t);const _=a.indexOf(b),w=o.indexOf(x),S=e=>({width:a[e]||0,height:o[e]||0});return{first:S(0),last:S(t-1),widest:S(_),highest:S(w),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return bp(this._alignToPixels?em(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Sm(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Sm(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=dp(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:o}=i,s=r.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=Xg(r),d=[],h=o.setContext(this.getContext()),p=h.display?h.width:0,m=p/2,f=function(e){return em(n,e,p)};let g,y,v,b,x,_,w,S,M,A,T,E;if("top"===a)g=f(this.bottom),_=this.bottom-u,S=g-m,A=f(e.top)+m,E=e.bottom;else if("bottom"===a)g=f(this.top),A=e.top,E=f(e.bottom)-m,_=g+m,S=this.top+u;else if("left"===a)g=f(this.right),x=this.right-u,w=g-m,M=f(e.left)+m,T=e.right;else if("right"===a)g=f(this.left),M=e.left,T=f(e.right)-m,x=g+m,w=this.left+u;else if("x"===t){if("center"===a)g=f((e.top+e.bottom)/2+.5);else if(Rh(a)){const e=Object.keys(a)[0],t=a[e];g=f(this.chart.scales[e].getPixelForValue(t))}A=e.top,E=e.bottom,_=g+m,S=_+u}else if("y"===t){if("center"===a)g=f((e.left+e.right)/2);else if(Rh(a)){const e=Object.keys(a)[0],t=a[e];g=f(this.chart.scales[e].getPixelForValue(t))}x=g-m,w=x-u,M=e.left,T=e.right}const C=Ih(i.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/C));for(y=0;y<c;y+=P){const e=this.getContext(y),t=r.setContext(e),i=o.setContext(e),a=t.lineWidth,c=t.color,u=i.dash||[],h=i.dashOffset,p=t.tickWidth,m=t.tickColor,f=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=Wg(this,y,s),void 0!==v&&(b=em(n,v,a),l?x=w=M=T=b:_=S=A=E=b,d.push({tx1:x,ty1:_,tx2:w,ty2:S,x1:M,y1:A,x2:T,y2:E,width:a,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:m,tickBorderDash:f,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=r,d=Xg(n.grid),h=d+c,p=u?-c:h,m=-dp(this.labelRotation),f=[];let g,y,v,b,x,_,w,S,M,A,T,E,C="middle";if("top"===i)_=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===i)_=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,x=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,x=e.x}else if("x"===t){if("center"===i)_=(e.top+e.bottom)/2+h;else if(Rh(i)){const e=Object.keys(i)[0],t=i[e];_=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)x=(e.left+e.right)/2-h;else if(Rh(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===s?C="top":"end"===s&&(C="bottom"));const P=this._getLabelSizes();for(g=0,y=o.length;g<y;++g){v=o[g],b=v.label;const e=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,M=this._resolveTickFontOptions(g),A=M.lineHeight,T=kh(b)?b.length:1;const t=T/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let d,h=w;if(a?(x=S,"inner"===w&&(h=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===i?"near"===l||0!==m?-T*A+A/2:"center"===l?-P.highest.height/2-t*A+A:-P.highest.height+A/2:"near"===l||0!==m?A/2:"center"===l?P.highest.height/2-t*A:P.highest.height-T*A,u&&(E*=-1),0===m||e.showLabelBackdrop||(x+=A/2*Math.sin(m))):(_=S,E=(1-T)*A/2),e.showLabelBackdrop){const t=xm(e.backdropPadding),n=P.heights[g],i=P.widths[g];let r=E-t.top,a=0-t.left;switch(C){case"middle":r-=n/2;break;case"bottom":r-=n}switch(w){case"center":a-=i/2;break;case"right":a-=i;break;case"inner":g===y-1?a-=i:g>0&&(a-=i/2)}d={left:a,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}f.push({label:b,font:M,textOffset:E,options:{rotation:m,color:n,strokeColor:s,strokeWidth:c,textAlign:h,textBaseline:C,translation:[x,_],backdrop:d}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-dp(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=e+r,o=this._getLabelSizes().widest.width;let s,l;return"left"===t?i?(l=this.right+r,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l+=o)):(l=this.right-a,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l-=o)):(l=this.left+a,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=em(e,this.left,a)-a/2,c=em(e,this.right,o)+o/2,u=d=s):(u=em(e,this.top,a)-a/2,d=em(e,this.bottom,o)+o/2,l=c=s),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&am(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;dm(t,r.label,0,r.textOffset,n,e)}n&&om(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=_m(n.font),a=xm(n.padding),o=n.align;let s=r.lineHeight/2;"bottom"===t||"center"===t||Rh(t)?(s+=a.bottom,kh(n.text)&&(s+=r.lineHeight*(n.text.length-1))):s+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,i){const{top:r,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,m=0;const f=o-r,g=s-a;if(e.isHorizontal()){if(h=kp(i,a,s),Rh(n)){const e=Object.keys(n)[0],i=n[e];p=u[e].getPixelForValue(i)+f-t}else p="center"===n?(c.bottom+c.top)/2+f-t:Gg(e,n,t);d=s-a}else{if(Rh(n)){const e=Object.keys(n)[0],i=n[e];h=u[e].getPixelForValue(i)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:Gg(e,n,t);p=kp(i,o,r),m="left"===n?-np:np}return{titleX:h,titleY:p,maxWidth:d,rotation:m}}(this,s,t,o);dm(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:Yg(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Ih(e.grid&&e.grid.z,-1),i=Ih(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Qg.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[n]!==this.id||e&&a.type!==e||i.push(a)}return i}_resolveTickFontOptions(e){return _m(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zg{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=Vh(Object.create(null),[n?Zp.get(n):{},Zp.get(t),e.defaults]);Zp.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");Zp.route(a,r,l,s)})}(t,e.defaultRoutes);e.descriptors&&Zp.describe(t,e.descriptors)}(e,a,n),this.override&&Zp.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Zp[i]&&(delete Zp[i][n],this.override&&delete Wp[n])}}class Jg{constructor(){this.controllers=new Zg(Of,"datasets",!0),this.elements=new Zg(Ug,"elements"),this.plugins=new Zg(Object,"plugins"),this.scales=new Zg(Qg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):zh(t,t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,n){const i=Xh(e);Oh(n["before"+i],[],n),t[e](n),Oh(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var $g=new Jg;class ey{constructor(){this._init=void 0}notify(e,t,n,i){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===Oh(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){Ph(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Ih(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys($g.plugins.items);for(let a=0;a<i.length;a++)n.push($g.getPlugin(i[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const e=r[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:a}=t;const o=[],s=e.getContext();for(const l of r){const t=l.id,r=ty(n[t],i);null!==r&&o.push({plugin:l,options:ny(e.config,{plugin:l,local:a[t]},r,s)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function ty(e,t){return t||!1!==e?!0===e?{}:e:null}function ny(e,t,n,i){let{plugin:r,local:a}=t;const o=e.pluginScopeKeys(r),s=e.getOptionScopes(n,o);return a&&r.defaults&&s.push(r.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iy(e,t){const n=Zp.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function ry(e){if("x"===e||"y"===e||"r"===e)return e}function ay(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function oy(e){if(ry(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n){const t=r.axis||ay(r.position)||e.length>1&&ry(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function sy(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function ly(e,t){const n=Wp[e.type]||{scales:{}},i=t.scales||{},r=iy(e.type,t),a=Object.create(null);return Object.keys(i).forEach(t=>{const o=i[t];if(!Rh(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=oy(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return sy(e,"x",n[0])||sy(e,"y",n[0])}return{}}(t,e),Zp.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,r),c=n.scales||{};a[t]=Gh(Object.create(null),[{axis:s},o,c[s],c[l]])}),e.data.datasets.forEach(n=>{const r=n.type||e.type,o=n.indexAxis||iy(r,t),s=(Wp[r]||{}).scales||{};Object.keys(s).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;a[r]=a[r]||Object.create(null),Gh(a[r],[{axis:t},i[r],s[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];Gh(t,[Zp.scales[t.type],Zp.scale])}),a}function cy(e){const t=e.options||(e.options={});t.plugins=Ih(t.plugins,{}),t.scales=ly(e,t)}function uy(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const dy=new Map,hy=new Set;function py(e,t){let n=dy.get(e);return n||(n=t(),dy.set(e,n),hy.add(n)),n}const my=(e,t,n)=>{const i=Wh(t,n);void 0!==i&&e.add(i)};class fy{constructor(e){this._config=function(e){return(e=e||{}).data=uy(e.data),cy(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return py(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return py("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return py("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return py("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach(t=>{e&&(s.add(e),t.forEach(t=>my(s,e,t))),t.forEach(e=>my(s,i,e)),t.forEach(e=>my(s,Wp[r]||{},e)),t.forEach(e=>my(s,Zp,e)),t.forEach(e=>my(s,Xp,e))});const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),hy.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Wp[t]||{},Zp.datasets[t]||{},{type:t},Zp,Xp]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:a,subPrefixes:o}=gy(this._resolverCache,e,i);let s=a;if(function(e,t){const{isScriptable:n,isIndexable:i}=Tm(e);for(const r of t){const t=n(r),a=i(r),o=(a||t)&&e[r];if(t&&(Yh(o)||yy(o))||a&&kh(o))return!0}return!1}(a,t)){r.$shared=!1;s=Am(a,n=Yh(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=s[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=gy(this._resolverCache,e,n);return Rh(t)?Am(r,t,void 0,i):r}}function gy(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let a=i.get(r);if(!a){a={resolver:Mm(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},i.set(r,a)}return a}const yy=e=>Rh(e)&&Object.getOwnPropertyNames(e).some(t=>Yh(e[t]));const vy=["top","bottom","left","right","chartArea"];function by(e,t){return"top"===e||"bottom"===e||-1===vy.indexOf(e)&&"x"===t}function xy(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function _y(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Oh(n&&n.onComplete,[e],t)}function wy(e){const t=e.chart,n=t.options.animation;Oh(n&&n.onProgress,[e],t)}function Sy(e){return qm()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const My={},Ay=e=>{const t=Sy(e);return Object.values(My).filter(e=>e.canvas===t).pop()};function Ty(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}class Ey{static register(){$g.add(...arguments),Cy()}static unregister(){$g.remove(...arguments),Cy()}constructor(e,t){const n=this.config=new fy(t),i=Sy(e),r=Ay(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!qm()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Mg:Bg}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),s=o&&o.canvas,l=s&&s.height,c=s&&s.width;this.id=Ch(),this.ctx=o,this.canvas=s,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ey,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],My[this.id]=this,o&&s?(xf.listen(this,"complete",_y),xf.listen(this,"progress",wy),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return Ph(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return $g}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ef(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tm(this.canvas,this.ctx),this}stop(){return xf.stop(this),this}resize(e,t){xf.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ef(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Oh(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){zh(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let r=[];t&&(r=r.concat(Object.keys(t).map(e=>{const n=t[e],i=oy(e,n),r="r"===i,a="x"===i;return{options:n,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),zh(r,t=>{const r=t.options,a=r.id,o=oy(a,r),s=Ih(r.type,t.dtype);void 0!==r.position&&by(r.position,o)===by(t.dposition)||(r.position=t.dposition),i[a]=!0;let l=null;if(a in n&&n[a].type===s)l=n[a];else{l=new($g.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)}),zh(i,(e,t)=>{e||delete n[t]}),zh(n,e=>{wg.configure(this,e,e.options),wg.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(xy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const a=i.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=i.indexAxis||iy(a,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=$g.getController(a),{datasetElementType:i,dataElementType:o}=Zp.datasets[a];Object.assign(t,{dataElementType:$g.getElement(o),datasetElementType:i&&$g.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){zh(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||zh(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xy("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){zh(this.scales,e=>{wg.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Qh(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){Ty(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=n(0);for(let r=1;r<t;r++)if(!Qh(i,n(r)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;wg.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],zh(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Yh(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xf.has(this)?this.attached&&!xf.running(this)&&xf.start(this):(this.draw(),_y({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=vf(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(i&&am(t,i),e.controller.draw(),i&&om(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return rm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=cg.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Sm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);Kh(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),xf.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tm(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete My[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};zh(this.options.events,e=>n(e,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){zh(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},zh(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,o,s;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}});!Fh(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),o=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,o=this._getActiveElements(e,i,n,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Oh(r.onHover,[e,o,this],this),s&&Oh(r.onClick,[e,o,this],this));const c=!Fh(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function Cy(){return zh(Ey.instances,e=>e._plugins.invalidate())}function Py(e,t,n,i){const r=ym(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,o=Math.min(a,i*t/2),s=e=>{const t=(n-Math.min(a,e))*i/2;return bp(e,0,Math.min(a,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:bp(r.innerStart,0,o),innerEnd:bp(r.innerEnd,0,o)}}function ky(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Ry(e,t,n,i,r,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let p=0;const m=r-l;if(i){const e=((u>0?u-i:0)+(d>0?d-i:0))/2;p=(m-(0!==e?m*e/(e+i):m))/2}const f=(m-Math.max(.001,m*d-n/Zh)/d)/2,g=l+f+p,y=r-f-p,{outerStart:v,outerEnd:b,innerStart:x,innerEnd:_}=Py(t,h,d,y-g),w=d-v,S=d-b,M=g+v/w,A=y-b/S,T=h+x,E=h+_,C=g+x/T,P=y-_/E;if(e.beginPath(),a){const t=(M+A)/2;if(e.arc(o,s,d,M,t),e.arc(o,s,d,t,A),b>0){const t=ky(S,A,o,s);e.arc(t.x,t.y,b,A,y+np)}const n=ky(E,y,o,s);if(e.lineTo(n.x,n.y),_>0){const t=ky(E,P,o,s);e.arc(t.x,t.y,_,y+np,P+Math.PI)}const i=(y-_/h+(g+x/h))/2;if(e.arc(o,s,h,y-_/h,i,!0),e.arc(o,s,h,i,g+x/h,!0),x>0){const t=ky(T,C,o,s);e.arc(t.x,t.y,x,C+Math.PI,g-np)}const r=ky(w,g,o,s);if(e.lineTo(r.x,r.y),v>0){const t=ky(w,M,o,s);e.arc(t.x,t.y,v,g-np,M)}}else{e.moveTo(o,s);const t=Math.cos(M)*d+o,n=Math.sin(M)*d+s;e.lineTo(t,n);const i=Math.cos(A)*d+o,r=Math.sin(A)*d+s;e.lineTo(i,r)}e.closePath()}function Ny(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:p}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(a){Ry(e,t,n,i,f,r);for(let t=0;t<a;++t)e.stroke();isNaN(s)||(f=o+(s%Jh||Jh))}m&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=r/s;e.beginPath(),e.arc(a,o,s,i-c,n+c),l>r?(c=r/l,e.arc(a,o,l,n+c,i-c,!0)):e.arc(a,o,r,n+np,i-np),e.closePath(),e.clip()}(e,t,f),l.selfJoin&&f-o>=Zh&&0===p&&"miter"!==u&&function(e,t,n){const{startAngle:i,x:r,y:a,outerRadius:o,innerRadius:s,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,yp(i-n));if(e.beginPath(),e.arc(r,a,o-c/2,i+d/2,n-d/2),s>0){const t=Math.min(c/s,yp(i-n));e.arc(r,a,s+c/2,n-t/2,i+t/2,!0)}else{const t=Math.min(c/2,o*yp(i-n));if("round"===u)e.arc(r,a,t,n-Zh/2,i+Zh/2,!0);else if("bevel"===u){const o=2*t*t,s=-o*Math.cos(n+Zh/2)+r,l=-o*Math.sin(n+Zh/2)+a,c=o*Math.cos(i+Zh/2)+r,u=o*Math.sin(i+Zh/2)+a;e.lineTo(s,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),a||(Ry(e,t,n,i,f,r),e.stroke())}s(Ey,"defaults",Zp),s(Ey,"instances",My),s(Ey,"overrides",Wp),s(Ey,"registry",$g),s(Ey,"version","4.5.1"),s(Ey,"getChart",Ay);class Dy extends Ug{constructor(e){super(),s(this,"circumference",void 0),s(this,"endAngle",void 0),s(this,"fullCircles",void 0),s(this,"innerRadius",void 0),s(this,"outerRadius",void 0),s(this,"pixelMargin",void 0),s(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=mp(i,{x:e,y:t}),{startAngle:o,endAngle:s,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=Ih(u,s-o),p=vp(r,o,s)&&o!==s,m=h>=Jh||p,f=xp(a,l+d,c+d);return m&&f}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:l}=this.options,c=(i+r)/2,u=(a+o+l+s)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Jh?Math.floor(n/Jh):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const s=i*(1-Math.sin(Math.min(Zh,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){Ry(e,t,n,i,l,r);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=o+(s%Jh||Jh))}Ry(e,t,n,i,l,r),e.fill()}(e,this,s,r,a),Ny(e,this,s,r,a),e.restore()}}function Iy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Ih(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ih(n.borderDash,t.borderDash)),e.lineDashOffset=Ih(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ih(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ih(n.borderWidth,t.borderWidth),e.strokeStyle=Ih(n.borderColor,t.borderColor)}function Ly(e,t,n){e.lineTo(n.x,n.y)}function Oy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:a=i-1}=n,{start:o,end:s}=t,l=Math.max(r,o),c=Math.min(a,s),u=r<o&&a<o||r>s&&a>s;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function zy(e,t,n,i){const{points:r,options:a}=t,{count:o,start:s,loop:l,ilen:c}=Oy(r,n,i),u=function(e){return e.stepped?sm:e.tension||"monotone"===e.cubicInterpolationMode?lm:Ly}(a);let d,h,p,{move:m=!0,reverse:f}=i||{};for(d=0;d<=c;++d)h=r[(s+(f?c-d:d))%o],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):u(e,p,h,f,a.stepped),p=h);return l&&(h=r[(s+(f?c:0))%o],u(e,p,h,f,a.stepped)),!!l}function Fy(e,t,n,i){const r=t.points,{count:a,start:o,ilen:s}=Oy(r,n,i),{move:l=!0,reverse:c}=i||{};let u,d,h,p,m,f,g=0,y=0;const v=e=>(o+(c?s-e:e))%a,b=()=>{p!==m&&(e.lineTo(g,m),e.lineTo(g,p),e.lineTo(g,f))};for(l&&(d=r[v(0)],e.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=r[v(u)],d.skip)continue;const t=d.x,n=d.y,i=0|t;i===h?(n<p?p=n:n>m&&(m=n),g=(y*g+t)/++y):(b(),e.lineTo(t,n),h=i,y=0,p=m=n),f=n}b()}function By(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Fy:zy}s(Dy,"id","arc"),s(Dy,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),s(Dy,"defaultRoutes",{backgroundColor:"backgroundColor"}),s(Dy,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Uy="function"===typeof Path2D;function Hy(e,t,n,i){Uy&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),Iy(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:a}=t,o=By(t);for(const s of r)Iy(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class Vy extends Ug{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;jm(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,i){let r=0,a=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(n,r,a,i);return mf(e,!0===i?[{start:o,end:s,loop:a}]:function(e,t,n,i){const r=e.length,a=[];let o,s=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,a.push({start:t%r,end:(o-1)%r,loop:i}),t=s=n.stop?o:null):(s=o,l.skip&&(t=o)),l=n}return null!==s&&a.push({start:t%r,end:s%r,loop:i}),a}(n,o,s<o?s+r:s,!!e._fullLoop&&0===o&&s===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=pf(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],s=function(e){return e.stepped?af:e.tension||"monotone"===e.cubicInterpolationMode?of:rf}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],d=r[c],h=r[u];if(d===h){o.push(d);continue}const p=s(d,h,Math.abs((i-d[t])/(h[t]-d[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return By(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=By(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=r(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Hy(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Gy(e,t,n,i){const r=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<r.radius+r.hitRadius}s(Vy,"id","line"),s(Vy,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),s(Vy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),s(Vy,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class jy extends Ug{constructor(e){super(),s(this,"parsed",void 0),s(this,"skip",void 0),s(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Gy(this,e,"x",t)}inYRange(e,t){return Gy(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!rm(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,nm(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function qy(e,t){const{x:n,y:i,base:r,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,u,d;return e.horizontal?(d=o/2,s=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=a/2,s=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:s,top:c,right:l,bottom:u}}function Wy(e,t,n,i){return e?0:bp(t,n,i)}function Xy(e){const t=qy(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,a=vm(i);return{t:Wy(r.top,a.top,0,n),r:Wy(r.right,a.right,0,t),b:Wy(r.bottom,a.bottom,0,n),l:Wy(r.left,a.left,0,t)}}(e,n/2,i/2),a=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=bm(r),o=Math.min(t,n),s=e.borderSkipped,l=i||Rh(r);return{topLeft:Wy(!l||s.top||s.left,a.topLeft,0,o),topRight:Wy(!l||s.top||s.right,a.topRight,0,o),bottomLeft:Wy(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:Wy(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function Ky(e,t,n,i){const r=null===t,a=null===n,o=e&&!(r&&a)&&qy(e,i);return o&&(r||xp(t,o.left,o.right))&&(a||xp(n,o.top,o.bottom))}function Yy(e,t){e.rect(t.x,t.y,t.w,t.h)}function Qy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+a,h:e.h+o,radius:e.radius}}s(jy,"id","point"),s(jy,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),s(jy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Zy extends Ug{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=Xy(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?hm:Yy;var s;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),o(e,Qy(a,t,r)),e.clip(),o(e,Qy(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Qy(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Ky(this,e,t,n)}inXRange(e,t){return Ky(this,e,null,t)}inYRange(e,t){return Ky(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}s(Zy,"id","bar"),s(Zy,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),s(Zy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Jy=Object.freeze({__proto__:null,ArcElement:Dy,BarElement:Zy,LineElement:Vy,PointElement:jy});const $y=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ev=$y.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function tv(e){return $y[e%$y.length]}function nv(e){return ev[e%ev.length]}function iv(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof Xf?t=function(e,t){return e.backgroundColor=e.data.map(()=>tv(t++)),t}(n,t):r instanceof Yf?t=function(e,t){return e.backgroundColor=e.data.map(()=>nv(t++)),t}(n,t):r&&(t=function(e,t){return e.borderColor=tv(t),e.backgroundColor=nv(t),++t}(n,t))}}function rv(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var av={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:a}=r,o=rv(i)||(s=r)&&(s.borderColor||s.backgroundColor)||a&&rv(a)||"rgba(0,0,0,0.1)"!==Zp.borderColor||"rgba(0,0,0,0.1)"!==Zp.backgroundColor;var s;if(!n.forceOverride&&o)return;const l=iv(e);i.forEach(l)}};function ov(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function sv(e){e.data.datasets.forEach(e=>{ov(e)})}var lv={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void sv(e);const i=e.width;e.data.datasets.forEach((t,r)=>{const{_data:a,indexAxis:o}=t,s=e.getDatasetMeta(r),l=a||t.data;if("y"===wm([o,e.options.indexAxis]))return;if(!s.controller.supportsDecimation)return;const u=e.scales[s.xAxisID];if("linear"!==u.type&&"time"!==u.type)return;if(e.options.parsing)return;let{start:d,count:h}=function(e,t){const n=t.length;let i,r=0;const{iScale:a}=e,{min:o,max:s,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(r=bp(wp(t,a.axis,o).lo,0,n-1)),i=c?bp(wp(t,a.axis,s).hi+1,r,n)-r:n-r,{start:r,count:i}}(s,l);if(h<=(n.threshold||4*i))return void ov(t);let p;switch(Ph(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":p=function(e,t,n,i,r){const a=r.samples||i;if(a>=n)return e.slice(t,t+n);const o=[],s=(n-2)/(a-2);let l=0;const c=t+n-1;let u,d,h,p,m,f=t;for(o[l++]=e[f],u=0;u<a-2;u++){let i,r=0,a=0;const c=Math.floor((u+1)*s)+1+t,g=Math.min(Math.floor((u+2)*s)+1,n)+t,y=g-c;for(i=c;i<g;i++)r+=e[i].x,a+=e[i].y;r/=y,a/=y;const v=Math.floor(u*s)+1+t,b=Math.min(Math.floor((u+1)*s)+1,n)+t,{x:x,y:_}=e[f];for(h=p=-1,i=v;i<b;i++)p=.5*Math.abs((x-r)*(e[i].y-_)-(x-e[i].x)*(a-_)),p>h&&(h=p,d=e[i],m=i);o[l++]=d,f=m}return o[l++]=e[c],o}(l,d,h,i,n);break;case"min-max":p=function(e,t,n,i){let r,a,o,s,l,u,d,h,p,m,f=0,g=0;const y=[],v=t+n-1,b=e[t].x,x=e[v].x-b;for(r=t;r<t+n;++r){a=e[r],o=(a.x-b)/x*i,s=a.y;const t=0|o;if(t===l)s<p?(p=s,u=r):s>m&&(m=s,d=r),f=(g*f+a.x)/++g;else{const n=r-1;if(!Ph(u)&&!Ph(d)){const t=Math.min(u,d),i=Math.max(u,d);t!==h&&t!==n&&y.push(c(c({},e[t]),{},{x:f})),i!==h&&i!==n&&y.push(c(c({},e[i]),{},{x:f}))}r>0&&n!==h&&y.push(e[n]),y.push(a),l=t,g=0,p=m=s,u=d=h=r}}return y}(l,d,h,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=p})},destroy(e){sv(e)}};function cv(e,t,n,i){if(i)return;let r=t[e],a=n[e];return"angle"===e&&(r=yp(r),a=yp(a)),{property:e,start:r,end:a}}function uv(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function dv(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function hv(e,t){let n=[],i=!1;return kh(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:o}=e;o=uv(t,o,r);const s=r[t],l=r[o];null!==i?(a.push({x:s.x,y:i}),a.push({x:l.x,y:i})):null!==n&&(a.push({x:n,y:s.y}),a.push({x:n,y:l.y}))}),a}(e,t),n.length?new Vy({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function pv(e){return e&&!1!==e.fill}function mv(e,t,n){let i=e[t].fill;const r=[t];let a;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!Nh(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function fv(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=Ih(n&&n.target,n);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if(Rh(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Nh(r)&&Math.floor(r)===r?function(e,t,n,i){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=i)return!1;return n}(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function gv(e,t,n){const i=[];for(let r=0;r<n.length;r++){const a=n[r],{first:o,last:s,point:l}=yv(a,t,"x");if(!(!l||o&&s))if(o)i.unshift(l);else if(e.push(l),!s)break}e.push(...i)}function yv(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],a=e.segments,o=e.points;let s=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=o[e.start][n],i=o[e.end][n];if(xp(r,t,i)){s=r===t,l=r===i;break}}return{first:s,last:l,point:i}}class vv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:Jh},e.arc(i,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function bv(e){const{chart:t,fill:n,line:i}=e;if(Nh(n))return function(e,t){const n=e.getDatasetMeta(t),i=n&&e.isDatasetVisible(t);return i?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],a=i.segments,o=i.points,s=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const e=i[r];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);s.push(hv({x:null,y:t.bottom},i));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)gv(r,o[t],s)}return new Vy({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,o=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Rh(e)?e.value:t.getBaseValue(),i}(n,t,a),s=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,a);return new vv({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)s.push(t.getPointPositionForValue(l,o));return s}(e);return function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Rh(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(Nh(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return r instanceof vv?r:hv(r,i)}function xv(e,t,n){const i=bv(t),{chart:r,index:a,line:o,scale:s,axis:l}=t,c=o.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:p=d}=u||{},m=r.getDatasetMeta(a),f=vf(r,m);i&&o.points.length&&(am(e,n),function(e,t){const{line:n,target:i,above:r,below:a,area:o,scale:s,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=a;a!==r&&("x"===c?(_v(e,i,o.top),Sv(e,{line:n,target:i,color:r,scale:s,property:c,clip:l}),e.restore(),e.save(),_v(e,i,o.bottom)):"y"===c&&(wv(e,i,o.left),Sv(e,{line:n,target:i,color:a,scale:s,property:c,clip:l}),e.restore(),e.save(),wv(e,i,o.right),u=r));Sv(e,{line:n,target:i,color:u,scale:s,property:c,clip:l}),e.restore()}(e,{line:o,target:i,above:h,below:p,area:n,scale:s,axis:l,clip:f}),om(e))}function _v(e,t,n){const{segments:i,points:r}=t;let a=!0,o=!1;e.beginPath();for(const s of i){const{start:i,end:l}=s,c=r[i],u=r[uv(i,l,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function wv(e,t,n){const{segments:i,points:r}=t;let a=!0,o=!1;e.beginPath();for(const s of i){const{start:i,end:l}=s,c=r[i],u=r[uv(i,l,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(n,u.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Sv(e,t){const{line:n,target:i,property:r,color:a,scale:o,clip:s}=t,l=function(e,t,n){const i=e.segments,r=e.points,a=t.points,o=[];for(const s of i){let{start:e,end:i}=s;i=uv(e,i,r);const l=cv(n,r[e],r[i],s.loop);if(!t.segments){o.push({source:s,target:l,start:r[e],end:r[i]});continue}const c=pf(t,l);for(const t of c){const e=cv(n,a[t.start],a[t.end],t.loop),i=hf(s,r,e);for(const r of i)o.push({source:r,target:t,start:{[n]:dv(l,e,"start",Math.max)},end:{[n]:dv(l,e,"end",Math.min)}})}}return o}(n,i,r);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:t=a}={}}=c,l=!0!==i;e.save(),e.fillStyle=t,Mv(e,o,s,l&&cv(r,d,h)),e.beginPath();const p=!!n.pathSegment(e,c);let m;if(l){p?e.closePath():Av(e,i,h,r);const t=!!i.pathSegment(e,u,{move:p,reverse:!0});m=p&&t,m||Av(e,i,d,r)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function Mv(e,t,n,i){const r=t.chart.chartArea,{property:a,start:o,end:s}=i||{};if("x"===a||"y"===a){let t,i,l,c;"x"===a?(t=o,i=r.top,l=s,c=r.bottom):(t=r.left,i=o,l=r.right,c=s),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),i=Math.max(i,n.top),c=Math.min(c,n.bottom)),e.rect(t,i,l-t,c-i),e.clip()}}function Av(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var Tv={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let a,o,s,l;for(o=0;o<i;++o)a=e.getDatasetMeta(o),s=a.dataset,l=null,s&&s.options&&s instanceof Vy&&(l={visible:e.isDatasetVisible(o),index:o,fill:fv(s,o,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=mv(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=r.length-1;o>=0;--o){const t=r[o].$filler;t&&(t.line.updateControlPoints(a,t.axis),i&&t.fill&&xv(e.ctx,t,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const t=i[r].$filler;pv(t)&&xv(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;pv(i)&&"beforeDatasetDraw"===n.drawTime&&xv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ev=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class Cv extends Ug{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Oh(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=_m(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=Ev(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,r,o,s)+10):(c=this.maxHeight,l=this._fitCols(a,i,o,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((e,p)=>{const m=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+m+2*o>a)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),s[p]={left:0,top:h,row:d,width:m,height:i},l[l.length-1]+=m+o}),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=o,d=0,h=0,p=0,m=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:f,itemHeight:g}=function(e,t,n,i,r){const a=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=Pv(t,n));return i}(r,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,r,e,i);a>0&&h+g+2*o>c&&(u+=d+o,l.push({width:d,height:h}),p+=d+o,m++,d=h=0),s[a]={left:p,top:h,col:m,width:f,height:g},d=Math.max(d,f),h+=g+o}),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=sf(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=kp(n,this.left+i,this.right-this.lineWidths[r]);for(const s of t)r!==s.row&&(r=s.row,o=kp(n,this.left+i,this.right-this.lineWidths[r])),s.top+=this.top+e+i,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+i}else{let r=0,o=kp(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const s of t)s.col!==r&&(r=s.col,o=kp(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),s.top=o,s.left+=this.left+i,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;am(e,this),this._draw(),om(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,o=Zp.color,s=sf(e.rtl,this.left,this.width),l=_m(a.font),{padding:c}=a,u=l.size,d=u/2;let h;this.drawTitle(),i.textAlign=s.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:m,itemHeight:f}=Ev(a,u),g=this.isHorizontal(),y=this._computeTitleHeight();h=g?{x:kp(r,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:kp(r,this.top+y+c,this.bottom-t[0].height),line:0},lf(this.ctx,e.textDirection);const v=f+c;this.legendItems.forEach((b,x)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const _=i.measureText(b.text).width,w=s.textAlign(b.textAlign||(b.textAlign=a.textAlign)),S=p+d+_;let M=h.x,A=h.y;s.setWidth(this.width),g?x>0&&M+S+c>this.right&&(A=h.y+=v,h.line++,M=h.x=kp(r,this.left+c,this.right-n[h.line])):x>0&&A+v>this.bottom&&(M=h.x=M+t[h.line].width+c,h.line++,A=h.y=kp(r,this.top+y+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const r=Ih(n.lineWidth,1);if(i.fillStyle=Ih(n.fillStyle,o),i.lineCap=Ih(n.lineCap,"butt"),i.lineDashOffset=Ih(n.lineDashOffset,0),i.lineJoin=Ih(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Ih(n.strokeStyle,o),i.setLineDash(Ih(n.lineDash,[])),a.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=s.xPlus(e,p/2);im(i,o,l,t+d,a.pointStyleWidth&&p)}else{const a=t+Math.max((u-m)/2,0),o=s.leftForLtr(e,p),l=bm(n.borderRadius);i.beginPath(),Object.values(l).some(e=>0!==e)?hm(i,{x:o,y:a,w:p,h:m,radius:l}):i.rect(o,a,p,m),i.fill(),0!==r&&i.stroke()}i.restore()}(s.x(M),A,b),M=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(w,M+p+d,g?M+S:this.right,e.rtl),function(e,t,n){dm(i,n.text,e,t+f/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(M),A,b),g)h.x+=S+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=Pv(b,e)+c}else h.y+=v}),cf(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=_m(t.font),i=xm(t.padding);if(!t.display)return;const r=sf(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,l=i.top+s;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=kp(e.align,u,this.right-d);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+kp(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=kp(o,u,u+d);a.textAlign=r.textAlign(Pp(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,dm(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=_m(e.font),n=xm(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(xp(e,this.left,this.right)&&xp(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],xp(e,i.left,i.left+i.width)&&xp(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,o=(r=n,null!==(i=a)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);a&&!o&&Oh(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!o&&Oh(t.onHover,[e,n,this],this)}else n&&Oh(t.onClick,[e,n,this],this);var i,r}}function Pv(e,t){return t*(e.text?e.text.length:0)}var kv={id:"legend",_element:Cv,start(e,t,n){const i=e.legend=new Cv({ctx:e.ctx,options:n,chart:e});wg.configure(e,i,n),wg.addBox(e,i)},stop(e){wg.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;wg.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:o,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=xm(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(s||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Rv extends Ug{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=kh(n.text)?n.text.length:1;this._padding=xm(n.padding);const r=i*_m(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:a}=this,o=a.align;let s,l,c,u=0;return this.isHorizontal()?(l=kp(o,n,r),c=t+e,s=r-n):("left"===a.position?(l=n+e,c=kp(o,i,t),u=-.5*Zh):(l=r-e,c=kp(o,t,i),u=.5*Zh),s=i-t),{titleX:l,titleY:c,maxWidth:s,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=_m(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:o,rotation:s}=this._drawArgs(i);dm(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:s,textAlign:Pp(t.align),textBaseline:"middle",translation:[r,a]})}}var Nv={id:"title",_element:Rv,start(e,t,n){!function(e,t){const n=new Rv({ctx:e.ctx,options:t,chart:e});wg.configure(e,n,t),wg.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;wg.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;wg.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dv=new WeakMap;var Iv={id:"subtitle",start(e,t,n){const i=new Rv({ctx:e.ctx,options:n,chart:e});wg.configure(e,i,n),wg.addBox(e,i),Dv.set(e,i)},stop(e){wg.removeBox(e,Dv.get(e)),Dv.delete(e)},beforeUpdate(e,t,n){const i=Dv.get(e);wg.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lv={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++a}}if(0===a||0===i.size)return!1;return{x:[...i].reduce((e,t)=>e+t)/i.size,y:r/a}},nearest(e,t){if(!e.length)return!1;let n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=fp(t,i.getCenterPoint());e<s&&(s=e,r=i)}}if(r){const e=r.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function Ov(e,t){return t&&(kh(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zv(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Fv(e,t){const{element:n,datasetIndex:i,index:r}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(r);return{chart:e,label:o,parsed:a.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:s,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Bv(e,t){const n=e.chart.ctx,{body:i,footer:r,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=_m(t.bodyFont),c=_m(t.titleFont),u=_m(t.footerFont),d=a.length,h=r.length,p=i.length,m=xm(t.padding);let f=m.height,g=0,y=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(f+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){f+=p*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(e){g=Math.max(g,n.measureText(e).width+v)};return n.save(),n.font=c.string,zh(e.title,b),n.font=l.string,zh(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,zh(i,e=>{zh(e.before,b),zh(e.lines,b),zh(e.after,b)}),v=0,n.font=u.string,zh(e.footer,b),n.restore(),g+=m.width,{width:g,height:f}}function Uv(e,t,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return"center"===i?c=r<=(s+l)/2?"left":"right":r<=a/2?c="left":r>=o-a/2&&(c="right"),function(e,t,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+a+o>t.width||"right"===e&&r-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function Hv(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Uv(e,t,n,i),yAlign:i}}function Vv(e,t,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,c=r+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=bm(o);let m=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s);const f=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===s?m+=c:"right"===s&&(m-=c):"left"===s?m-=Math.max(u,h)+r:"right"===s&&(m+=Math.max(d,p)+r),{x:bp(m,0,i.width-t.width),y:bp(f,0,i.height-t.height)}}function Gv(e,t,n){const i=xm(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function jv(e){return Ov([],zv(e))}function qv(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Wv={beforeTitle:Eh,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Eh,beforeBody:Eh,beforeLabel:Eh,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ph(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Eh,afterBody:Eh,beforeFooter:Eh,footer:Eh,afterFooter:Eh};function Xv(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?Wv[t].call(n,i):r}class Kv extends Ug{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new Mf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Sm(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=Xv(n,"beforeTitle",this,e),r=Xv(n,"title",this,e),a=Xv(n,"afterTitle",this,e);let o=[];return o=Ov(o,zv(i)),o=Ov(o,zv(r)),o=Ov(o,zv(a)),o}getBeforeBody(e,t){return jv(Xv(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return zh(e,e=>{const t={before:[],lines:[],after:[]},r=qv(n,e);Ov(t.before,zv(Xv(r,"beforeLabel",this,e))),Ov(t.lines,Xv(r,"label",this,e)),Ov(t.after,zv(Xv(r,"afterLabel",this,e))),i.push(t)}),i}getAfterBody(e,t){return jv(Xv(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=Xv(n,"beforeFooter",this,e),r=Xv(n,"footer",this,e),a=Xv(n,"afterFooter",this,e);let o=[];return o=Ov(o,zv(i)),o=Ov(o,zv(r)),o=Ov(o,zv(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let o,s,l=[];for(o=0,s=t.length;o<s;++o)l.push(Fv(this.chart,t[o]));return e.filter&&(l=l.filter((t,i,r)=>e.filter(t,i,r,n))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,n))),zh(l,t=>{const n=qv(e.callbacks,t);i.push(Xv(n,"labelColor",this,t)),r.push(Xv(n,"labelPointStyle",this,t)),a.push(Xv(n,"labelTextColor",this,t))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(i.length){const e=Lv[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=Bv(this,n),o=Object.assign({},e,t),s=Hv(this.chart,n,o),l=Vv(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=bm(o),{x:d,y:h}=e,{width:p,height:m}=t;let f,g,y,v,b,x;return"center"===r?(b=h+m/2,"left"===i?(f=d,g=f-a,v=b+a,x=b-a):(f=d+p,g=f+a,v=b-a,x=b+a),y=f):(g="left"===i?d+Math.max(s,c)+a:"right"===i?d+p-Math.max(l,u)-a:this.caretX,"top"===r?(v=h,b=v-a,f=g-a,y=g+a):(v=h+m,b=v+a,f=g+a,y=g-a),x=v),{x1:f,x2:g,x3:y,y1:v,y2:b,y3:x}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,o,s;if(r){const l=sf(n.rtl,this.x,this.width);for(e.x=Gv(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=_m(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<r;++s)t.fillText(i[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=r,c=_m(r.bodyFont),u=Gv(this,"left",r),d=i.x(u),h=s<c.lineHeight?(c.lineHeight-s)/2:0,p=t.y+h;if(r.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=p+s/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,nm(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,nm(e,t,n,c)}else{e.lineWidth=Rh(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=i.leftForLtr(d,l),n=i.leftForLtr(i.xPlus(d,1),l-2),o=bm(a.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,hm(e,{x:t,y:p,w:l,h:s,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),hm(e,{x:n,y:p+1,w:l-2,h:s-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,s),e.strokeRect(t,p,l,s),e.fillStyle=a.backgroundColor,e.fillRect(n,p+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=_m(n.bodyFont);let d=u.lineHeight,h=0;const p=sf(n.rtl,this.x,this.width),m=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+r},f=p.textAlign(a);let g,y,v,b,x,_,w;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=Gv(this,f,n),t.fillStyle=n.bodyColor,zh(this.beforeBody,m),h=o&&"right"!==f?"center"===a?l/2+c:l+2+c:0,b=0,_=i.length;b<_;++b){for(g=i[b],y=this.labelTextColors[b],t.fillStyle=y,zh(g.before,m),v=g.lines,o&&v.length&&(this._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,s)),x=0,w=v.length;x<w;++x)m(v[x]),d=u.lineHeight;zh(g.after,m)}h=0,d=u.lineHeight,zh(this.afterBody,m),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,o;if(r){const s=sf(n.rtl,this.x,this.width);for(e.x=Gv(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=_m(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<r;++o)t.fillText(i[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:o,y:s}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=bm(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,s),"top"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+l-d,s),t.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,s+c-p),t.quadraticCurveTo(o+l,s+c,o+l-p,s+c),"bottom"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+h,s+c),t.quadraticCurveTo(o,s+c,o,s+c-h),"center"===a&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,s+u),t.quadraticCurveTo(o,s,o+u,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=Lv[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=Bv(this,e),o=Object.assign({},n,this._size),s=Hv(t,e,o),l=Vv(e,o,s,t);i._to===l.x&&r._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=xm(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),lf(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),cf(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}),r=!Fh(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),o=this._positionChanged(a,e),s=t||!Fh(a,r)||o;return s&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=Lv[r.position].call(this,e,t);return!1!==a&&(n!==a.x||i!==a.y)}}s(Kv,"positioners",Lv);var Yv={id:"tooltip",_element:Kv,positioners:Lv,afterInit(e,t,n){n&&(e.tooltip=new Kv({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",c(c({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Wv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Qv=Object.freeze({__proto__:null,Colors:av,Decimation:lv,Filler:Tv,Legend:kv,SubTitle:Iv,Title:Nv,Tooltip:Yv});function Zv(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function Jv(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class $v extends Qg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ph(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:bp(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Zv(n,e,Ih(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Jv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function eb(e,t){const n=[],{bounds:i,step:r,min:a,max:o,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=r||1,p=c-1,{min:m,max:f}=t,g=!Ph(a),y=!Ph(o),v=!Ph(l),b=(f-m)/(u+1);let x,_,w,S,M=lp((f-m)/p/h)*h;if(M<1e-14&&!g&&!y)return[{value:m},{value:f}];S=Math.ceil(f/M)-Math.floor(m/M),S>p&&(M=lp(S*M/p/h)*h),Ph(s)||(x=Math.pow(10,s),M=Math.ceil(M*x)/x),"ticks"===i?(_=Math.floor(m/M)*M,w=Math.ceil(f/M)*M):(_=m,w=f),g&&y&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-a)/r,M/1e3)?(S=Math.round(Math.min((o-a)/M,c)),M=(o-a)/S,_=a,w=o):v?(_=g?a:_,w=y?o:w,S=l-1,M=(w-_)/S):(S=(w-_)/M,S=sp(S,Math.round(S),M/1e3)?Math.round(S):Math.ceil(S));const A=Math.max(pp(M),pp(_));x=Math.pow(10,Ph(s)?A:s),_=Math.round(_*x)/x,w=Math.round(w*x)/x;let T=0;for(g&&(d&&_!==a?(n.push({value:a}),_<a&&T++,sp(Math.round((_+T*M)*x)/x,a,tb(a,b,e))&&T++):_<a&&T++);T<S;++T){const e=Math.round((_+T*M)*x)/x;if(y&&e>o)break;n.push({value:e})}return y&&d&&w!==o?n.length&&sp(n[n.length-1].value,o,tb(o,b,e))?n[n.length-1].value=o:n.push({value:o}):y&&w!==o||n.push({value:w}),n}function tb(e,t,n){let{horizontal:i,minRotation:r}=n;const a=dp(r),o=(i?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}s($v,"id","category"),s($v,"defaults",{ticks:{callback:Jv}});class nb extends Qg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ph(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=op(i),t=op(r);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||a(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=eb({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&up(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Gp(e,this.chart.options.locale,this.options.ticks.format)}}class ib extends nb{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nh(e)?e:0,this.max=Nh(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=dp(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}s(ib,"id","linear"),s(ib,"defaults",{ticks:{callback:qp.formatters.numeric}});const rb=e=>Math.floor(ap(e)),ab=(e,t)=>Math.pow(10,rb(e)+t);function ob(e){return 1===e/Math.pow(10,rb(e))}function sb(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function lb(e,t){let{min:n,max:i}=t;n=Dh(e.min,n);const r=[],a=rb(n);let o=function(e,t){let n=rb(t-e);for(;sb(e,t,n)>10;)n++;for(;sb(e,t,n)<10;)n--;return Math.min(n,rb(e))}(n,i),s=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=a>o?Math.pow(10,a):0,u=Math.round((n-c)*s)/s,d=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((u-d)/Math.pow(10,o)),p=Dh(e.min,Math.round((c+d+h*Math.pow(10,o))*s)/s);for(;p<i;)r.push({value:p,major:ob(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((c+d+h*Math.pow(10,o))*s)/s;const m=Dh(e.max,p);return r.push({value:m,major:ob(m),significand:h}),r}class cb extends Qg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=nb.prototype.parse.apply(this,[e,t]);if(0!==n)return Nh(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nh(e)?Math.max(0,e):null,this.max=Nh(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Nh(this._userMin)&&(this.min=e===ab(this.min,0)?ab(this.min,-1):ab(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,a=e=>i=t?i:e;n===i&&(n<=0?(r(1),a(10)):(r(ab(n,-1)),a(ab(i,1)))),n<=0&&r(ab(i,-1)),i<=0&&a(ab(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=lb({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&up(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Gp(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ap(e),this._valueRange=ap(this.max)-ap(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ap(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ub(e){const t=e.ticks;if(t.display&&e.display){const e=xm(t.backdropPadding);return Ih(t.font&&t.font.size,Zp.font.size)+e.height}return 0}function db(e,t,n){return n=kh(n)?n:[n],{w:$p(e,t.string,n),h:n.length*t.lineHeight}}function hb(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function pb(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?Zh/a:0;for(let l=0;l<a;l++){const a=o.setContext(e.getPointLabelContext(l));r[l]=a.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],s),u=_m(a.font),d=db(e.ctx,u,e._pointLabels[l]);i[l]=d;const h=yp(e.getIndexAngle(l)+s),p=Math.round(hp(h));mb(n,t,h,hb(p,c.x,d.w,0,180),hb(p,c.y,d.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:ub(a)/2,additionalAngle:o?Zh/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const r=fb(e,u,l);i.push(r),"auto"===s&&(r.visible=gb(r,c),r.visible&&(c=r))}return i}(e,i,r)}function mb(e,t,n,i,r){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function fb(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:a,padding:o,size:s}=n,l=e.getPointPosition(t,i+r+o,a),c=Math.round(hp(yp(l.angle+np))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,c),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+s.w,bottom:u+s.h}}function gb(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:a}=e;return!(rm({x:n,y:i},t)||rm({x:n,y:a},t)||rm({x:r,y:i},t)||rm({x:r,y:a},t))}function yb(e,t,n){const{left:i,top:r,right:a,bottom:o}=n,{backdropColor:s}=t;if(!Ph(s)){const n=bm(t.borderRadius),l=xm(t.backdropPadding);e.fillStyle=s;const c=i-l.left,u=r-l.top,d=a-i+l.width,h=o-r+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),hm(e,{x:c,y:u,w:d,h:h,radius:n}),e.fill()):e.fillRect(c,u,d,h)}}function vb(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,Jh);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let a=1;a<i;a++)n=e.getPointPosition(a,t),r.lineTo(n.x,n.y)}}s(cb,"id","logarithmic"),s(cb,"defaults",{ticks:{callback:qp.formatters.logarithmic,major:{enabled:!0}}});class bb extends nb{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=xm(ub(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Nh(e)&&!isNaN(e)?e:0,this.max=Nh(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ub(this.options))}generateTickLabels(e){nb.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=Oh(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?pb(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return yp(e*(Jh/(this._pointLabels.length||1))+dp(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Ph(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ph(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Sm(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-np+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),vb(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,a=this._pointLabels.length;let o,s,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const a=i.setContext(e.getPointLabelContext(r));yb(n,a,t);const o=_m(a.font),{x:s,y:l,textAlign:c}=t;dm(n,e._pointLabels[r],s,l+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),i.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const a=e.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!i||!s||!l||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),vb(e,n,o,i),a.closePath(),a.stroke(),a.restore())}(this,o,s,a,l)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:a}=i;a&&r&&(e.lineWidth=a,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,s=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(o)),l=_m(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(i.label).width,e.fillStyle=s.backdropColor;const t=xm(s.backdropPadding);e.fillRect(-a/2-t.left,-r-l.size/2-t.top,a+t.width,l.size+t.height)}dm(e,i.label,0,-r,l,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})}),e.restore()}drawTitle(){}}s(bb,"id","radialLinear"),s(bb,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),s(bb,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),s(bb,"descriptors",{angleLines:{_fallback:"grid"}});const xb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_b=Object.keys(xb);function wb(e,t){return e-t}function Sb(e,t){if(Ph(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:a}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),Nh(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!cp(a)&&!0!==a?n.startOf(o,r):n.startOf(o,"isoWeek",a)),+o)}function Mb(e,t,n,i){const r=_b.length;for(let a=_b.indexOf(e);a<r-1;++a){const e=xb[_b[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return _b[a]}return _b[r-1]}function Ab(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=_p(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function Tb(e,t,n){const i=[],r={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],r[s]=o,i.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,i){const r=e._adapter,a=+r.startOf(t[0].value,i),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+r.add(s,1,i))l=n[s],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class Eb extends Qg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new ng(e.adapters.date);i.init(t),Gh(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Sb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function s(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}a&&o||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),i=Nh(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=Nh(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?Mb(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let a=_b.length-1;a>=_b.indexOf(n);a--){const n=_b[a];if(xb[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return _b[n?_b.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=_b.indexOf(e)+1,n=_b.length;t<n;++t)if(xb[_b[t]].common)return _b[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),Tb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;i=bp(i,0,a),r=bp(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||Mb(r.minUnit,t,n,this._getLabelCapacity(t)),o=Ih(i.ticks.stepSize,1),s="week"===a&&r.isoWeekday,l=cp(s)||!0===s,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",s)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,o,a),d++)Ab(c,u,p);return u!==n&&"ticks"!==i.bounds&&1!==d||Ab(c,u,p),Object.keys(c).sort(wb).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.ticks.callback;if(a)return Oh(a,[e,t,n],this);const o=r.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&o[s],u=l&&o[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,i||(h?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=dp(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*a,h:n*a+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Tb(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Sb(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tp(e.sort(wb))}}function Cb(e,t,n){let i,r,a,o,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=wp(e,"pos",t)),({pos:i,time:a}=e[s]),({pos:r,time:o}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=wp(e,"time",t)),({time:i,pos:a}=e[s]),({time:r,pos:o}=e[l]));const c=r-i;return c?a+(o-a)*(t-i)/c:a}s(Eb,"id","time"),s(Eb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Pb extends Eb{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Cb(t,this.min),this._tableRange=Cb(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],s=i[a-1],l=i[a],Math.round((c+s)/2)!==l&&r.push({time:l,pos:a/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Cb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Cb(this._table,n*this._tableRange+this._minPos,!0)}}s(Pb,"id","timeseries"),s(Pb,"defaults",Eb.defaults);const kb=[$f,Jy,Qv,Object.freeze({__proto__:null,CategoryScale:$v,LinearScale:ib,LogarithmicScale:cb,RadialLinearScale:bb,TimeScale:Eb,TimeSeriesScale:Pb})];Ey.register(...kb);var Rb;const Nb=function(){const t=(0,e.useRef)(null),n=(0,e.useRef)(null),[i,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(null),[s,l]=(0,e.useState)(1),[c,u]=(0,e.useState)(100),[d,h]=(0,e.useState)(50),[p,m]=(0,e.useState)(300),[f,g]=(0,e.useState)(10),[y,v]=(0,e.useState)(!1),b=(e,t,n)=>t*e/(n+e),x=e=>{if(!t.current||!e)return;const i=t.current.getContext("2d");n.current&&n.current.destroy(),n.current=new Ey(i,{type:"scatter",data:{datasets:[{label:"Initial velocity (v\u2080)",data:e.map(e=>({x:e.S,y:e.v})),borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.4)",showLine:!0,tension:.2,borderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!0,animation:!1,plugins:{legend:{display:!0,labels:{font:{size:12},color:"#2c3e50"}},tooltip:{enabled:!0,backgroundColor:"rgba(0,0,0,0.8)",padding:10,callbacks:{label:function(e){return"[S] = ".concat(e.parsed.x.toFixed(1)," \xb5M, v\u2080 = ").concat(e.parsed.y.toFixed(2)," \xb5M\xb7s\u207b\xb9")}}}},scales:{x:{type:"linear",title:{display:!0,text:"[S] Substrate Concentration (\xb5M)",font:{size:12,weight:"bold"}},ticks:{color:"#666"}},y:{title:{display:!0,text:"v\u2080 Initial Velocity (\xb5M\xb7s\u207b\xb9)",font:{size:12,weight:"bold"}},ticks:{color:"#666"}}}}})};return(0,e.useEffect)(()=>()=>{n.current&&n.current.destroy()},[]),(0,Lt.jsxs)("div",{className:"kinetics-lab",children:[(0,Lt.jsxs)("div",{className:"kl-header",children:[(0,Lt.jsx)("h2",{children:"Michaelis-Menten Kinetics Lab"}),(0,Lt.jsx)("p",{children:"Simulate enzyme kinetics and determine Km and Vmax from experimental data"})]}),(0,Lt.jsxs)("div",{className:"kl-container",children:[(0,Lt.jsxs)("div",{className:"kl-chart-section",children:[(0,Lt.jsx)("div",{className:"kl-chart-wrap",children:(0,Lt.jsx)("canvas",{ref:t})}),(0,Lt.jsxs)("div",{className:"kl-info",children:[i&&(0,Lt.jsx)(Lt.Fragment,{children:(0,Lt.jsxs)("div",{className:"kl-info-block",children:[(0,Lt.jsx)("h4",{children:"Experimental Data"}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"True Vmax:"})," ",i.Vmax.toFixed(2)," \xb5M\xb7s\u207b\xb9"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"True Km:"})," ",d," \xb5M"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Data points:"})," ",i.data.length]})]})}),a&&(0,Lt.jsxs)("div",{className:"kl-info-block kl-info-fit",children:[(0,Lt.jsx)("h4",{style:{color:"#2ecc71"},children:"Fitted Parameters"}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Fitted Vmax:"})," ",a.Vmax.toFixed(1)," \xb5M\xb7s\u207b\xb9"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Fitted Km:"})," ",a.Km.toFixed(1)," \xb5M"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"RMSE:"})," ",a.rmse.toFixed(4)]}),(0,Lt.jsx)("div",{className:"kl-accuracy",children:(0,Lt.jsxs)("span",{children:["Vmax error: ",Math.abs(a.Vmax-i.Vmax).toFixed(2)," (",(Math.abs(a.Vmax-i.Vmax)/i.Vmax*100).toFixed(1),"%)"]})})]})]})]}),(0,Lt.jsxs)("div",{className:"kl-controls",children:[(0,Lt.jsxs)("form",{className:"kl-form",onSubmit:e=>e.preventDefault(),children:[(0,Lt.jsxs)("div",{className:"kl-form-group",children:[(0,Lt.jsx)("label",{children:"Enzyme Concentration [E] (\xb5M)"}),(0,Lt.jsx)("input",{type:"number",value:s,onChange:e=>l(parseFloat(e.target.value)||0),min:"0.1",max:"10",step:"0.1"}),(0,Lt.jsx)("small",{children:"0.1 \u2013 10 \xb5M"})]}),(0,Lt.jsxs)("div",{className:"kl-form-group",children:[(0,Lt.jsx)("label",{children:"Turnover Number kcat (s\u207b\xb9)"}),(0,Lt.jsx)("input",{type:"number",value:c,onChange:e=>u(parseFloat(e.target.value)||0),min:"10",max:"1000",step:"10"}),(0,Lt.jsx)("small",{children:"10 \u2013 1000 s\u207b\xb9"})]}),(0,Lt.jsxs)("div",{className:"kl-form-group",children:[(0,Lt.jsx)("label",{children:"Michaelis Constant Km (\xb5M)"}),(0,Lt.jsx)("input",{type:"number",value:d,onChange:e=>h(parseFloat(e.target.value)||0),min:"1",max:"500",step:"5"}),(0,Lt.jsx)("small",{children:"1 \u2013 500 \xb5M (what you're trying to find!)"})]}),(0,Lt.jsxs)("div",{className:"kl-form-group",children:[(0,Lt.jsx)("label",{children:"Maximum Substrate Concentration [S]max (\xb5M)"}),(0,Lt.jsx)("input",{type:"number",value:p,onChange:e=>m(parseFloat(e.target.value)||0),min:"50",max:"1000",step:"50"}),(0,Lt.jsx)("small",{children:"50 \u2013 1000 \xb5M"})]}),(0,Lt.jsxs)("div",{className:"kl-form-group",children:[(0,Lt.jsx)("label",{children:"Data Collection Step (\xb5M)"}),(0,Lt.jsx)("input",{type:"number",value:f,onChange:e=>g(parseFloat(e.target.value)||1),min:"1",max:"100",step:"1"}),(0,Lt.jsx)("small",{children:"1 \u2013 100 \xb5M"})]}),(0,Lt.jsxs)("div",{className:"kl-form-group kl-checkbox",children:[(0,Lt.jsxs)("label",{children:[(0,Lt.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked)}),"Add \xb18% random noise"]}),(0,Lt.jsx)("small",{children:"Realistic experimental error"})]}),(0,Lt.jsxs)("div",{className:"kl-buttons",children:[(0,Lt.jsx)("button",{className:"kl-btn kl-btn-primary",onClick:()=>{const e=c*s,t=[];for(let n=0;n<=p+1e-9;n+=f){let i=b(n,e,d);if(y){const e=.08*i;i+=(2*Math.random()-1)*e,i<0&&(i=0)}t.push({S:parseFloat(n.toFixed(3)),v:parseFloat(i.toFixed(4))})}r({data:t,Vmax:e}),o(null),x(t)},children:"Generate Data"}),(0,Lt.jsx)("button",{className:"kl-btn kl-btn-secondary",onClick:()=>{if(!i||!i.data)return;let e={err:1/0,kmTest:0,vmaxTest:0};for(let t=1;t<=500;t+=1)for(let n=1;n<=1e3;n+=5){let r=0;for(const e of i.data){r+=(b(e.S,n,t)-e.v)**2}r<e.err&&(e={err:r,kmTest:t,vmaxTest:n})}o({Vmax:e.vmaxTest,Km:e.kmTest,err:e.err,rmse:Math.sqrt(e.err/i.data.length)})},disabled:!i,children:"Fit Parameters"})]})]}),(0,Lt.jsxs)("div",{className:"kl-theory",children:[(0,Lt.jsx)("h4",{children:"Michaelis-Menten Equation"}),(0,Lt.jsx)("div",{className:"kl-formula",children:(0,Lt.jsx)(jt.InlineMath,{children:String.raw(Rb||(_=["v_0 = \frac{V_{max} cdot [S]}{K_m + [S]}"],w=["v_0 = \\frac{V_{max} \\cdot [S]}{K_m + [S]}"],w||(w=_.slice(0)),Rb=Object.freeze(Object.defineProperties(_,{raw:{value:Object.freeze(w)}}))))})}),(0,Lt.jsxs)("ul",{className:"kl-definitions",children:[(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"v\u2080:"})," Initial reaction velocity"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"Vmax:"})," Maximum velocity; equals kcat times [E]"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"Km:"})," Michaelis constant; relates to substrate affinity"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"[S]:"})," Substrate concentration"]})]}),(0,Lt.jsxs)("div",{className:"kl-interpretation",children:[(0,Lt.jsx)("h5",{children:"Interpretation"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"Low Km:"})," High substrate affinity (enzyme catalyzes at low [S])"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"High Km:"})," Low substrate affinity (need more substrate)"]}),(0,Lt.jsxs)("li",{children:[(0,Lt.jsx)("strong",{children:"At [S] equals Km:"})," v0 equals one-half Vmax"]})]})]})]})]})]})]});var _,w},Db=()=>(0,Lt.jsxs)(je,{children:[(0,Lt.jsx)(Ve,{path:"/",element:(0,Lt.jsx)(Ft,{})}),(0,Lt.jsx)(Ve,{path:"/viewer",element:(0,Lt.jsx)(Xd,{})}),(0,Lt.jsx)(Ve,{path:"/lab",element:(0,Lt.jsx)(Nb,{})}),(0,Lt.jsx)(Ve,{path:"/resources",element:(0,Lt.jsx)(hn,{})}),(0,Lt.jsx)(Ve,{path:"/glossary",element:(0,Lt.jsx)(fn,{})}),(0,Lt.jsx)(Ve,{path:"/contact",element:(0,Lt.jsx)(cn,{})}),(0,Lt.jsx)(Ve,{path:"/about",element:(0,Lt.jsx)(un,{})}),(0,Lt.jsx)(Ve,{path:"/:categoryId",element:(0,Lt.jsx)(Kt,{})}),(0,Lt.jsx)(Ve,{path:"*",element:(0,Lt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,Lt.jsx)("h2",{children:"Page Not Found"}),(0,Lt.jsx)("p",{children:"The requested page does not exist."})]})})]});const Ib=function(){const[t,n]=(0,e.useState)(!1);return(0,Lt.jsx)(St,{children:(0,Lt.jsxs)("div",{className:"app-layout ".concat(t?"collapsed":""),children:[(0,Lt.jsx)(Ot,{collapsed:t,setCollapsed:n}),(0,Lt.jsx)("main",{className:"main-content",children:(0,Lt.jsx)(Db,{})})]})})};i.createRoot(document.getElementById("root")).render((0,Lt.jsx)(e.StrictMode,{children:(0,Lt.jsx)(Ib,{})}))})()})();
//# sourceMappingURL=main.ba862048.js.map